"use strict";(self.webpackChunkxtd=self.webpackChunkxtd||[]).push([[2090],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>p});var i=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,i,n=function(e,t){if(null==e)return{};var a,i,n={},s=Object.keys(e);for(i=0;i<s.length;i++)a=s[i],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var d=i.createContext({}),l=function(e){var t=i.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},m=function(e){var t=l(e.components);return i.createElement(d.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},c=i.forwardRef((function(e,t){var a=e.components,n=e.mdxType,s=e.originalType,d=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),c=l(a),p=n,h=c["".concat(d,".").concat(p)]||c[p]||u[p]||s;return a?i.createElement(h,r(r({ref:t},m),{},{components:a})):i.createElement(h,r({ref:t},m))}));function p(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var s=a.length,r=new Array(s);r[0]=c;var o={};for(var d in t)hasOwnProperty.call(t,d)&&(o[d]=t[d]);o.originalType=e,o.mdxType="string"==typeof e?e:n,r[1]=o;for(var l=2;l<s;l++)r[l]=a[l];return i.createElement.apply(null,r)}return i.createElement.apply(null,a)}c.displayName="MDXCreateElement"},42825:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>l});var i=a(87462),n=(a(67294),a(3905));const s={},r="Date and time",o={unversionedId:"documentation/Guides/xtd.core/Types overview/date_time",id:"documentation/Guides/xtd.core/Types overview/date_time",title:"Date and time",description:"In This Section",source:"@site/docs/documentation/Guides/xtd.core/Types overview/date_time.md",sourceDirName:"documentation/Guides/xtd.core/Types overview",slug:"/documentation/Guides/xtd.core/Types overview/date_time",permalink:"/xtd/docs/documentation/Guides/xtd.core/Types overview/date_time",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Type Conversion Tables in xtd",permalink:"/xtd/docs/documentation/Guides/xtd.core/Types overview/Type conversion/type_conversion_tables"},next:{title:"Delegates",permalink:"/xtd/docs/documentation/Guides/xtd.core/Types overview/delegates"}},d={},l=[{value:"In This Section",id:"in-this-section",level:2},{value:"Quick links to Remarks topics.",id:"quick-links-to-remarks-topics",level:2},{value:"Note",id:"note",level:2},{value:"Initializing a date_time object",id:"initializing-a-date_time-object",level:2},{value:"Invoke constructors",id:"invoke-constructors",level:3},{value:"Assigning a computed value",id:"assigning-a-computed-value",level:3},{value:"Parsing a string that represents a date_time",id:"parsing-a-string-that-represents-a-date_time",level:3},{value:"date_time values and their string representations",id:"date_time-values-and-their-string-representations",level:2},{value:"Parse date_time values from strings",id:"parse-date_time-values-from-strings",level:2},{value:"date_time values",id:"date_time-values",level:2},{value:"date_time operations",id:"date_time-operations",level:2},{value:"date_time vs. time_span",id:"date_time-vs-time_span",level:2},{value:"Compare for equality within tolerance",id:"compare-for-equality-within-tolerance",level:2},{value:"See also",id:"see-also",level:2}],m={toc:l};function u(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,i.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"date-and-time"},"Date and time"),(0,n.kt)("h2",{id:"in-this-section"},"In This Section"),(0,n.kt)("p",null,"This article includes several examples that use the date_time type:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Initialization Examples",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#invoke-constructor"},"Invoke a constructor")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#invoke-constructor"},"Invoke the implicit parameterless constructor")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#assigning-a-computed-value"},"Assignment from return value")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#parsing-a-string-that-represents-a-date_time"},"Parsing a string that represents a date and time")))),(0,n.kt)("li",{parentName:"ul"},"Formatting date_time objects as strings",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#date_time-values-and-their-string-representations"},"Use the default date time format")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"##date_time-values-and-their-string-representations"},"Format a date and time using a specific culture")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"##date_time-values-and-their-string-representations"},"Format a date time using a standard or custom format string")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"##date_time-values-and-their-string-representations"},"Specify both a format string and a specific culture")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#date_time-values-and-their-string-representations"},"Format a date time using the ISO 8601 standard for web services")))),(0,n.kt)("li",{parentName:"ul"},"Parsing strings as date_time objects",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#parse-date_time-values-from-strings"},"Use Parse or TryParse to convert a string to a date and time")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#parse-date_time-values-from-strings"},"Use ParseExact or TryParseExact to convert a string in a known format")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#parse-date_time-values-from-strings"},"Convert from the ISO 8601 string representation to a date and time")))),(0,n.kt)("li",{parentName:"ul"},"date_time resolution",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"[Explore the resolution of date and time values]","(#date_time values)"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#compare-for-equality-within-tolerance"},"Comparing for equality within a tolerance"))))),(0,n.kt)("h2",{id:"quick-links-to-remarks-topics"},"Quick links to Remarks topics."),(0,n.kt)("p",null,"This section contains topics for many common uses of the date_time struct:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#initializing-a-date-time-object"},"Initializing a date_time object")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#date_time-values-and-their-string-representations"},"date_time values and their string representations")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#parse-date_time-values-from-strings"},"Parsing date_time values from strings")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#date_time-values"},"date_time values")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#date_time-operations"},"date_time operations")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#date_time-resolution"},"date_time resolution")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#Persisting-date_time-values"},"Persisting date_time values")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#date_time-vs-time_span"},"date_time vs. time_span")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#comparing-for-equality-within-tolerance"},"Comparing for equality within tolerance"))),(0,n.kt)("p",null,"The ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"xtd::date_time")," value type represents dates and times with values ranging from 00:00:00 (midnight), January 1, 0001 Anno Domini (Common Era) through 11:59:59 P.M., December 31, 9999 A.D. (C.E.) in the Gregorian calendar."),(0,n.kt)("p",null,"Time values are measured in 100-nanosecond units called ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/group__types.html#gaf6b556b49d28b448fc2c5af1d820f3ea"},"ticks"),". A particular date is the number of ticks since 12:00 midnight, January 1, 0001 A.D. (C.E.) in the GregorianCalendar calendar.\nThe number excludes ticks that would be added by leap seconds. For example, a ticks value of 31241376000000000L represents the date Friday, January 01, 0100 12:00:00 midnight. A ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"xtd::date_time")," value is always expressed in the context of an explicit or default calendar."),(0,n.kt)("h2",{id:"note"},"Note"),(0,n.kt)("p",null,"If you are working with a ",(0,n.kt)("inlineCode",{parentName:"p"},"ticks")," value that you want to convert to some other time interval, such as minutes or seconds, you should use the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/structxtd_1_1time__span.html#a5f60382ee3e9d245638ee2cdb14eca60"},"time_span::ticks_per_day"),", ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/structxtd_1_1time__span.html#a87871472d7a6e0cb621df7dfc7b48f59"},"time_span::ticks_per_hour"),", ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/structxtd_1_1time__span.html#ab31aadb6b90479ea0b1b405e1c34f3dd"},"time_span::ticks_per_minute"),", ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/structxtd_1_1time__span.html#a0cdccee1108abbaf4edc6a4bed5b6072"},"time_span::ticks_per_second"),", ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/structxtd_1_1time__span.html#ad29c8b8563609bdf0d15badbf0ca707a"},"time_span::ticks_per_millisecond")," , or ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/structxtd_1_1time__span.html#a4d7ec607a607e24bc33dc530820957e3"},"time_span::ticks_per_microsecond")," constant to perform the conversion. For example, to add the number of seconds represented by a specified number of ticks to the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#ae084c4d68a46500b8e64f4aec4869a15"},"second")," component of a ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"xtd::date_time")," value, you can use the expression "),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"date_value.second() + n_ticks / time_span::ticks_per_second"),"."),(0,n.kt)("p",null,"You can view the source for the entire set of examples from this article from the ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/gammasoft71/xtd/blob/master/examples/xtd.core.examples/date_time/README.md"},"examples")," repository on GitHub."),(0,n.kt)("h2",{id:"initializing-a-date_time-object"},"Initializing a date_time object"),(0,n.kt)("p",null,"You can assign an initial value to a new ",(0,n.kt)("inlineCode",{parentName:"p"},"date_time")," value in many different ways:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Calling a constructor, either one where you specify arguments for values, or use the implicit parameterless constructor."),(0,n.kt)("li",{parentName:"ul"},"Assigning a ",(0,n.kt)("inlineCode",{parentName:"li"},"date_time")," to the return value of a property or method."),(0,n.kt)("li",{parentName:"ul"},"Parsing a ",(0,n.kt)("inlineCode",{parentName:"li"},"date_time")," value from its string representation.")),(0,n.kt)("p",null,"The following code snippets show examples of each:"),(0,n.kt)("h3",{id:"invoke-constructors"},"Invoke constructors"),(0,n.kt)("p",null,"You call any of the overloads of the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," constructor that specify elements of the date and time value (such as the year, month, and day, or the number of ticks).\nThe following code creates a specific date using the date_time constructor specifying the year, month, day, hour, minute, and second."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},"auto date1 = date_time {2008, 5, 1, 8, 30, 52};\nconsole::write_line(date1);\n")),(0,n.kt)("p",null,"You invoke the ",(0,n.kt)("inlineCode",{parentName:"p"},"date_time")," structure's implicit parameterless constructor when you want a ",(0,n.kt)("inlineCode",{parentName:"p"},"date_time")," initialized to its default value.\nThe following example illustrates the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," implicit parameterless constructor."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},"auto dat1 = date_time {};\n// The following method call displays 1/1/0001 12:00:00 AM.\nconsole::write_line(dat1.to_string());\n// The following method call displays true.\nconsole::write_line(dat1 == date_time::min_value);\n")),(0,n.kt)("h3",{id:"assigning-a-computed-value"},"Assigning a computed value"),(0,n.kt)("p",null,"You can assign the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," object a date and time value returned by a property or method.\nThe following example assigns the current date and time, the current Coordinated Universal Time (UTC) date and time, and the current date to three new ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," variables."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},"date_time date1 = date_time::now();\ndate_time date2 = date_time::utc_now();\ndate_time date3 = date_time.today();\n")),(0,n.kt)("h3",{id:"parsing-a-string-that-represents-a-date_time"},"Parsing a string that represents a date_time"),(0,n.kt)("p",null,"The ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#a546b0f90e2a358dd2c61a44d9ac7d740"},"xtd::date_time::parse"),", and ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#aed2927509532db28cee470cf231dc16d"},"xtd::date_time::try_parse")," methods all convert a string to its equivalent date and time value.\nThe following examples use the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#a546b0f90e2a358dd2c61a44d9ac7d740"},"xtd::date_time::parse")," method to parse a string and convert it to a ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," value.\nThe second format uses a form supported by the ISO 8601 standard for a representing date and time in string format. This standard representation is often used to transfer date information in web services."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},'auto date_string = "5/1/2008 8:30:52 AM";\ndate_time date1 = date_time::parse(date_string, std::locale());\nauto iso8601_string = "20080501T08:30:52Z";\ndate_time date_iso8602 = date_time::parse_exact(iso8601_string, "yyyyMMddTHH:mm:ssZ", std::locale());\n')),(0,n.kt)("p",null,"The ",(0,n.kt)("a",{parentName:"p",href:"#"},"try_parse")," method indicates whether a string is a valid representation of a ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," value and, if it is, performs the conversion."),(0,n.kt)("h2",{id:"date_time-values-and-their-string-representations"},"date_time values and their string representations"),(0,n.kt)("p",null,"Internally, all  ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," values are represented as the number of ticks (the number of 100-nanosecond intervals) that have elapsed since 12:00:00 midnight, January 1, 0001. The actual  ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," value is independent of the way in which that value appears when displayed. The appearance of a  ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," value is the result of a formatting operation that converts a value to its string representation."),(0,n.kt)("p",null,"The appearance of date and time values is dependent on culture, international standards, application requirements, and personal preference. The  ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," structure offers flexibility in formatting date and time values through overloads of ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#aa6565955947e9562c4c1e0f9c7e9a504"},"to_string"),". The default ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#aa6565955947e9562c4c1e0f9c7e9a504"},"xtd::date_time::to_string")," method returns the string representation of a date and time value using the current culture's short date and long time pattern. The following example uses the default ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#aa6565955947e9562c4c1e0f9c7e9a504"},"xtd::date_time::to_string")," method. It displays the date and time using the short date and long time pattern for the current culture. The en-US culture is the current culture on the computer on which the example was run."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},"auto date1 = date_time {2008, 3, 1, 7, 0, 0};\nconsole::write_line(date1.to_string());\n// For en-US culture, displays Sat Mar  1 07:00:00 2008\n")),(0,n.kt)("p",null,"You may need to format dates in a specific culture to support web scenarios where the server may be in a different culture from the client. You specify the culture using the ",(0,n.kt)("inlineCode",{parentName:"p"},"std::locale")," method to create the short date and long time representation in a specific culture. The following example uses the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#aa6565955947e9562c4c1e0f9c7e9a504"},"xtd::date_time::to_string")," method to display the date and time using the short date and long time pattern for the fr-FR culture."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},'auto date1 = date_time {2008, 3, 1, 7, 0, 0};\nstd::locale::global(std::locale("fr_FR.utf-8"));\nconsole::write_line(date1.to_string());\n// Displays Sam  1 mar 07:00:00 2008\n')),(0,n.kt)("p",null,"Other applications may require different string representations of a date. The ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#aa6565955947e9562c4c1e0f9c7e9a504"},"date_time::to_string")," method returns the string representation defined by a standard or custom format specifier using the formatting conventions of the current culture. The following example uses the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#aa6565955947e9562c4c1e0f9c7e9a504"},"date_rime::to_string")," method to display the full date and time pattern for the en-US culture, the current culture on the computer on which the example was run."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},'auto date1 = date_time {2008, 3, 1, 7, 0, 0};\nconsole::write_line(date1.to_string("F"));\n// Displays Sat Mar  1 07:00:00 2008\n')),(0,n.kt)("p",null,"Finally, you can specify both the culture and the format using the ",(0,n.kt)("inlineCode",{parentName:"p"},"std::locale")," method. The following example uses the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#aa6565955947e9562c4c1e0f9c7e9a504"},"date_rime::to_string")," method to display the full date and time pattern for the fr-FR culture."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},'auto date1 = date_time {2008, 3, 1, 7, 0, 0};\nstd::locale::global(std::locale("fr_FR.utf-8"));\nconsole::write_line(date1.to_string("F"));\n// Displays Sam  1 mar 07:00:00 2008\n')),(0,n.kt)("p",null,"For more information about formatting ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," values, see ",(0,n.kt)("a",{parentName:"p",href:"/docs/documentation/Guides/xtd.core/Format%20number%20dates%20other%20types/standard_date_and_time_format_strings"},"Standard Date and Time Format Strings")," and ",(0,n.kt)("a",{parentName:"p",href:"/docs/documentation/Guides/xtd.core/Format%20number%20dates%20other%20types/custom_date_and_time_format_strings"},"Custom Date and Time Format Strings"),"."),(0,n.kt)("h2",{id:"parse-date_time-values-from-strings"},"Parse date_time values from strings"),(0,n.kt)("p",null,"Parsing converts the string representation of a date and time to a ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," value. Typically, date and time strings have two different usages in applications:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'A date and time takes a variety of forms and reflects the conventions of either the current culture or a specific culture. For example, an application allows a user whose current culture is en-US to input a date value as "12/15/2013" or "December 15, 2013". It allows a user whose current culture is en-gb to input a date value as "15/12/2013" or "15 December 2013."'),(0,n.kt)("li",{parentName:"ul"},'A date and time is represented in a predefined format. For example, an application serializes a date as "20130103" independently of the culture on which the app is running. An application may require dates be input in the current culture\'s short date format.')),(0,n.kt)("p",null,"You use the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#a546b0f90e2a358dd2c61a44d9ac7d740"},"parse")," or ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#aed2927509532db28cee470cf231dc16d"},"try_parse")," method to convert a string from one of the common date and time formats used by a culture to a ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," value. The following example shows how you can use  ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#aed2927509532db28cee470cf231dc16d"},"try_parse")," to convert date strings in different culture-specific formats to a ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," value. It changes the current culture to English (United Kingdom) and calls the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#a986723d16d20808a9dbdc1f3dd6f4c1a"},"get_date_time_formats")," method to generate an array of date and time strings. It then passes each element in the array to the  ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#aed2927509532db28cee470cf231dc16d"},"try_parse")," method. The output from the example shows the parsing method was able to successfully convert each of the culture-specific date and time strings."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},'  std::locale::global(std::locale("en_GB.utf-8"));\n  \n  auto date1 = date_time {2013, 6, 1, 12, 32, 30};\n  auto bad_formats = vector<string> {};\n  \n  console::write_line("{,-37} {,-19}\\n", "Date String", "Date");\n  for (auto date_string : date1.get_date_time_formats()) {\n    auto parsed_date = date_time {};\n    if (date_time::try_parse(date_string, parsed_date))\n      console::write_line("{,-37} {,-19}", date_string, date_time::parse(date_string));\n    else\n      bad_formats.push_back(date_string);\n  }\n  \n  // Display strings that could not be parsed.\n  if (bad_formats.size() > 0_sz) {\n    console::write_line("\\nStrings that could not be parsed: ");\n    for (auto bad_format : bad_formats)\n      console::write_line(bad_format);\n  }\n  // Press "Run" to see the output.}\n')),(0,n.kt)("h2",{id:"date_time-values"},"date_time values"),(0,n.kt)("p",null,"Descriptions of time values in the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," type are often expressed using the Coordinated Universal Time (UTC) standard. Coordinated Universal Time is the internationally recognized name for Greenwich Mean Time (GMT). Coordinated Universal Time is the time as measured at zero degrees longitude, the UTC origin point. Daylight saving time is not applicable to UTC."),(0,n.kt)("p",null,"Local time is relative to a particular time zone. A time zone is associated with a time zone offset. A time zone offset is the displacement of the time zone measured in hours from the UTC origin point. In addition, local time is optionally affected by daylight saving time, which adds or subtracts a time interval adjustment. Local time is calculated by adding the time zone offset to UTC and adjusting for daylight saving time if necessary. The time zone offset at the UTC origin point is zero."),(0,n.kt)("p",null,"UTC time is suitable for calculations, comparisons, and storing dates and time in files. Local time is appropriate for display in user interfaces of desktop applications. Time zone-aware applications (such as many Web applications) also need to work with a number of other time zones."),(0,n.kt)("p",null,"If the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#ac49ab9e61e6b546f483de527819a840f"},"kind")," property of a ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," object is ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/group__xtd__core.html#ga03b78d9831d31a0a2ea100078219f2ea"},"date_time_kind::unspecified"),", it is unspecified whether the time represented is local time, UTC time, or a time in some other time zone."),(0,n.kt)("h2",{id:"date_time-operations"},"date_time operations"),(0,n.kt)("p",null,"A calculation using a ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," structure, such as ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#a6f0a5355543e1aed529a2a78bf6c630b"},"add")," or ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#aaf1f38f9b51733e38b5db3b5dfde6bb6"},"subtract"),", does not modify the value of the structure. Instead, the calculation returns a new ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," structure whose value is the result of the calculation.\nConversion operations between time zones (such as between UTC and local time, or between one time zone and another) take daylight saving time into account, but arithmetic and comparison operations do not."),(0,n.kt)("p",null,"The ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," structure itself offers limited support for converting from one time zone to another. You can use the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#a9678ce3d1b6da7cf005a19728bfe6e2e"},"to_local_time")," method to convert UTC to local time, or you can use the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#a60d4fa67380ada97048d0691c3143e81"},"to_universal_time")," method to convert from local time to UTC. However, a full set of time zone conversion methods is available in the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1time__zone__info.html"},"time_zone_info")," class. You convert the time in any one of the world's time zones to the time in any other time zone using these methods."),(0,n.kt)("p",null,"Calculations and comparisons of ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," objects are meaningful only if the objects represent times in the same time zone. You can use a ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1time__zone__info.html"},"time_zone_info")," object to represent a ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," value's time zone, although the two are loosely coupled. A ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," object does not have a property that returns an object that represents that date and time value's time zone. The ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html#ac49ab9e61e6b546f483de527819a840f"},"kind")," property indicates if a ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," represents UTC, local time, or is unspecified. In a time zone-aware application, you must rely on some external mechanism to determine the time zone in which a ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," object was created. You could use a structure that wraps both the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," value and the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1time__zone__info.html"},"time_zone_info")," object that represents the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," value's time zone. For details on using UTC in calculations and comparisons with ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," values, see Performing Arithmetic Operations with Dates and Times."),(0,n.kt)("p",null,"Each ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," member implicitly uses the Gregorian calendar to perform its operation. Exceptions are methods that implicitly specify a calendar. "),(0,n.kt)("p",null,"Operations by members of the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," type take into account details such as leap years and the number of days in a month."),(0,n.kt)("h2",{id:"date_time-vs-time_span"},"date_time vs. time_span"),(0,n.kt)("p",null,"The ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," and ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/structxtd_1_1time__span.html"},"time_span")," value types differ in that a ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," represents an instant in time whereas a ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/structxtd_1_1time__span.html"},"time_span")," represents a time interval. You can subtract one instance of ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," from another to obtain a ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/structxtd_1_1time__span.html"},"time_span")," object that represents the time interval between them. Or you could add a positive ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/structxtd_1_1time__span.html"},"time_span")," to the current ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," to obtain a ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," value that represents a future date.\nYou can add or subtract a time interval from a ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," object. Time intervals can be negative or positive, and they can be expressed in units such as ticks, seconds, or as a ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/structxtd_1_1time__span.html"},"time_span")," object."),(0,n.kt)("h2",{id:"compare-for-equality-within-tolerance"},"Compare for equality within tolerance"),(0,n.kt)("p",null,"Equality comparisons for ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," values are exact. That means two values must be expressed as the same number of ticks to be considered equal. That precision is often unnecessary or even incorrect for many applications. Often, you want to test if ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," objects are roughly equal.\nThe following example demonstrates how to compare roughly equivalent ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," values. It accepts a small margin of difference when declaring them equal."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},'static bool roughly_equals(const date_time& time, const date_time& time_with_window, int window_in_seconds, int frequency_in_seconds) {\n  auto delta = convert::to_int32((time_with_window - time).total_seconds_duration().count()) % frequency_in_seconds;\n  delta = delta > window_in_seconds ? frequency_in_seconds - delta : delta;\n  return math::abs(delta) < window_in_seconds;\n}\n\nstatic void test_roughly_equals() {\n  auto window = 10;\n  auto freq = 60 * 60 * 2; // 2 hours;\n  \n  auto d1 = date_time::now();\n  \n  auto d2 = d1.add_seconds(2 * window);\n  auto d3 = d1.add_seconds(-2 * window);\n  auto d4 = d1.add_seconds(window / 2);\n  auto d5 = d1.add_seconds(-window / 2);\n  \n  auto d6 = (d1.add_hours(2)).add_seconds(2 * window);\n  auto d7 = (d1.add_hours(2)).add_seconds(-2 * window);\n  auto d8 = (d1.add_hours(2)).add_seconds(window / 2);\n  auto d9 = (d1.add_hours(2)).add_seconds(-window / 2);\n  \n  console::write_line("d1 ({0}) ~= d1 ({1}): {2}", d1, d1, roughly_equals(d1, d1, window, freq));\n  console::write_line("d1 ({0}) ~= d2 ({1}): {2}", d1, d2, roughly_equals(d1, d2, window, freq));\n  console::write_line("d1 ({0}) ~= d3 ({1}): {2}", d1, d3, roughly_equals(d1, d3, window, freq));\n  console::write_line("d1 ({0}) ~= d4 ({1}): {2}", d1, d4, roughly_equals(d1, d4, window, freq));\n  console::write_line("d1 ({0}) ~= d5 ({1}): {2}", d1, d5, roughly_equals(d1, d5, window, freq));\n  \n  console::write_line("d1 ({0}) ~= d6 ({1}): {2}", d1, d6, roughly_equals(d1, d6, window, freq));\n  console::write_line("d1 ({0}) ~= d7 ({1}): {2}", d1, d7, roughly_equals(d1, d7, window, freq));\n  console::write_line("d1 ({0}) ~= d8 ({1}): {2}", d1, d8, roughly_equals(d1, d8, window, freq));\n  console::write_line("d1 ({0}) ~= d9 ({1}): {2}", d1, d9, roughly_equals(d1, d9, window, freq));\n}\n\n// The example displays output similar to the following:\n// d1 (Thu Dec 30 16:18:10 2021) ~= d1 (Thu Dec 30 16:18:10 2021): true\n// d1 (Thu Dec 30 16:18:10 2021) ~= d2 (Thu Dec 30 16:18:30 2021): false\n// d1 (Thu Dec 30 16:18:10 2021) ~= d3 (Thu Dec 30 16:17:50 2021): false\n// d1 (Thu Dec 30 16:18:10 2021) ~= d4 (Thu Dec 30 16:18:15 2021): true\n// d1 (Thu Dec 30 16:18:10 2021) ~= d5 (Thu Dec 30 16:18:05 2021): true\n// d1 (Thu Dec 30 16:18:10 2021) ~= d6 (Thu Dec 30 18:18:30 2021): false\n// d1 (Thu Dec 30 16:18:10 2021) ~= d7 (Thu Dec 30 18:17:50 2021): false\n// d1 (Thu Dec 30 16:18:10 2021) ~= d8 (Thu Dec 30 18:18:15 2021): true\n// d1 (Thu Dec 30 16:18:10 2021) ~= d9 (Thu Dec 30 18:18:05 2021): true\n')),(0,n.kt)("h2",{id:"see-also"},"See also"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/docs/documentation/Guides/Overview/Tutorials"},"Tutorials")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/docs/documentation"},"Documentation"))))}u.isMDXComponent=!0}}]);