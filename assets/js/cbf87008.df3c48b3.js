"use strict";(self.webpackChunkxtd=self.webpackChunkxtd||[]).push([[8209],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>u});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),d=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=d(e.components);return r.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=d(n),u=o,f=m["".concat(l,".").concat(u)]||m[u]||c[u]||a;return n?r.createElement(f,i(i({ref:t},p),{},{components:n})):r.createElement(f,i({ref:t},p))}));function u(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var d=2;d<a;d++)i[d]=n[d];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},14880:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>a,metadata:()=>s,toc:()=>d});var r=n(87462),o=(n(67294),n(3905));const a={},i="How to: Open and Append to a Log File",s={unversionedId:"documentation/Guides/xtd.core/Common I:O tasks/How-tos/open_and_append_to_a_log_file",id:"documentation/Guides/xtd.core/Common I:O tasks/How-tos/open_and_append_to_a_log_file",title:"How to: Open and Append to a Log File",description:"streamwriter and streamreader write characters to and read characters from streams.",source:"@site/docs/documentation/Guides/xtd.core/Common I:O tasks/How-tos/open_and_append_to_a_log_file.md",sourceDirName:"documentation/Guides/xtd.core/Common I:O tasks/How-tos",slug:"/documentation/Guides/xtd.core/Common I:O tasks/How-tos/open_and_append_to_a_log_file",permalink:"/xtd/docs/documentation/Guides/xtd.core/Common I:O tasks/How-tos/open_and_append_to_a_log_file",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"How to: Enumerate Directories and Files",permalink:"/xtd/docs/documentation/Guides/xtd.core/Common I:O tasks/How-tos/enumerate_directories_and_files"},next:{title:"How to: Read and Write to a Newly Created Data File",permalink:"/xtd/docs/documentation/Guides/xtd.core/Common I:O tasks/How-tos/read_and_write_to_a_newly_created_data_file"}},l={},d=[{value:"Example",id:"example",level:2},{value:"See also",id:"see-also",level:2}],p={toc:d};function c(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"how-to-open-and-append-to-a-log-file"},"How to: Open and Append to a Log File"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"#"},"stream_writer")," and ",(0,o.kt)("a",{parentName:"p",href:"#"},"stream_reader")," write characters to and read characters from streams.\nThe following code example opens the ",(0,o.kt)("em",{parentName:"p"},"log.txt")," file for input, or creates it if it doesn't exist, and appends log information to the end of the file.\nThe example then writes the contents of the file to standard output for display."),(0,o.kt)("p",null,"As an alternative to this example, you could store the information as a single string or string array, and use the ",(0,o.kt)("a",{parentName:"p",href:"#"},"file::write_all_text")," or ",(0,o.kt)("a",{parentName:"p",href:"#"},"file::write_all_lines")," method to achieve the same functionality."),(0,o.kt)("h2",{id:"example"},"Example"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-cpp"},'#include <fstream>\n#include <xtd/xtd>\n\nusing namespace std;\nusing namespace xtd;\nusing namespace xtd::io;\n\nclass program {\nprivate:\npublic:\n  static auto main() {\n    using_ (std::ofstream os = file::append_text("log.txt")) {\n      using_ (stream_writer w(os)) {\n        log("Test1", w);\n        log("Test2", w);\n      }\n    }\n    \n    using_ (std::ifstream is = file::open_text("log.txt")) {\n      using_ (stream_reader r(is)) {\n        dump_log(r);\n      }\n    }\n  }\n  \n  static void log(const string& log_message, text_writer& w) {\n    w.write("\\r\\nLog Entry : ");\n    w.write_line("{} {}", date_time::now().to_long_time_string(), date_time::now().to_long_date_string());\n    w.write_line("  :");\n    w.write_line("  :{}", log_message);\n    w.write_line ("-------------------------------");\n  }\n  \n  static void dump_log(stream_reader& r) {\n    while (!r.end_of_stream()) {\n      string line = r.read_line();\n      console::write_line(line);\n    }\n  }\n};\n\nstartup_(program::main);\n\n// The example creates a file named "log.txt" and writes the following lines to it,\n// or appends them to the existing "log.txt" file:\n\n// Log Entry : <current long time string> <current long date string>\n//  :\n//  :Test1\n// -------------------------------\n\n// Log Entry : <current long time string> <current long date string>\n//  :\n//  :Test2\n// -------------------------------\n\n// It then writes the contents of "log.txt" to the console.\n')),(0,o.kt)("h2",{id:"see-also"},"See also"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/documentation/Guides/xtd.core/Common%20I%3AO%20tasks"},"Common I/O Tasks")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/documentation/Guides/Overview/Tutorials"},"Tutorials")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/documentation"},"Documentation"))))}c.isMDXComponent=!0}}]);