"use strict";(self.webpackChunkxtd=self.webpackChunkxtd||[]).push([[682],{91971:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>f});var r=n(76687);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},m="mdxType",_={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),m=c(n),u=a,f=m["".concat(l,".").concat(u)]||m[u]||_[u]||o;return n?r.createElement(f,i(i({ref:t},d),{},{components:n})):r.createElement(f,i({ref:t},d))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[m]="string"==typeof e?e:a,i[1]=s;for(var c=2;c<o;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},175:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>_,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var r=n(855),a=(n(76687),n(91971));const o={},i="How to: Enumerate Directories and Files",s={unversionedId:"documentation/Guides/xtd.core/Common I:O tasks/How-tos/enumerate_directories_and_files",id:"documentation/Guides/xtd.core/Common I:O tasks/How-tos/enumerate_directories_and_files",title:"How to: Enumerate Directories and Files",description:"Enumerable collections provide better performance than arrays when you work with large collections of directories and files.",source:"@site/docs/documentation/Guides/xtd.core/Common I:O tasks/How-tos/enumerate_directories_and_files.md",sourceDirName:"documentation/Guides/xtd.core/Common I:O tasks/How-tos",slug:"/documentation/Guides/xtd.core/Common I:O tasks/How-tos/enumerate_directories_and_files",permalink:"/xtd/docs/documentation/Guides/xtd.core/Common I:O tasks/How-tos/enumerate_directories_and_files",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"How to: Copy Directories",permalink:"/xtd/docs/documentation/Guides/xtd.core/Common I:O tasks/How-tos/copy_directories"},next:{title:"How to: Open and Append to a Log File",permalink:"/xtd/docs/documentation/Guides/xtd.core/Common I:O tasks/How-tos/open_and_append_to_a_log_file"}},l={},c=[{value:"Examples: Use the directory class",id:"examples-use-the-directory-class",level:2},{value:"Examples: Use the directory_info class",id:"examples-use-the-directory_info-class",level:2},{value:"See also",id:"see-also",level:2}],d={toc:c},m="wrapper";function _(e){let{components:t,...n}=e;return(0,a.kt)(m,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"how-to-enumerate-directories-and-files"},"How to: Enumerate Directories and Files"),(0,a.kt)("p",null,"Enumerable collections provide better performance than arrays when you work with large collections of directories and files.\nTo enumerate directories and files, use methods that return an enumerable collection of directory or file names, or their ",(0,a.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1directory__info.html"},"directory_info"),", ",(0,a.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1file__info.html"},"file_info"),", or ",(0,a.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1file__system__info.html"},"file_system_info")," objects."),(0,a.kt)("p",null,"If you want to search and return only the names of directories or files, use the enumeration methods of the ",(0,a.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1directory.html"},"directory")," class.\nIf you want to search and return other properties of directories or files, use the ",(0,a.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1directory__info.html"},"directory_info")," and ",(0,a.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1file__system__info.html"},"file_system_info")," classes."),(0,a.kt)("p",null,"The following table summarizes the methods that return enumerable collections of files and directories:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"To search and return"),(0,a.kt)("th",{parentName:"tr",align:null},"Use method"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Directory names"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1directory.html#a18b4ef2bf2e42182dfd412ffacba57b1"},"directory::enumerate_directories"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Directory information (",(0,a.kt)("a",{parentName:"td",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1directory__info.html"},"directory_info"),")"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1directory__info.html#ad0818557e5fbc58db748458c7e907c4b"},"directory_info::enumerate_directories"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"File names"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1directory.html#aecc4a0b18118e7e15e2fa43be4fcf237"},"directory::enumerate_files"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"File information (",(0,a.kt)("a",{parentName:"td",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1file__info.html"},"file_info"),")"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1directory__info.html#aae6b6e624c5ac50f1f7bb5ec8088114a"},"directory_info::enumerate_files"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"File system entry names"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1directory.html#a7e708ed279ee55d2412433a1cd842a08"},"directory::enumerate_file_system_entries"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"File system entry information (",(0,a.kt)("a",{parentName:"td",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1file__system__info.html"},"file_system_info"),")"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1directory__info.html#a5603178c1e7c506db62092308ce6f66d"},"directory_info::enumerate_file_system_infos"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Directory and file names"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1directory.html#a7e708ed279ee55d2412433a1cd842a08"},"directory::enumerate_file_system_entries"))))),(0,a.kt)("h2",{id:"examples-use-the-directory-class"},"Examples: Use the directory class"),(0,a.kt)("p",null,"The following example uses the ",(0,a.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1directory.html#a18b4ef2bf2e42182dfd412ffacba57b1"},"directory::enumerate_directories(const ustring&)")," method to get a list of the top-level directory names in a specified path."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},'#include <xtd/xtd>\n\nusing namespace std;\nusing namespace xtd;\nusing namespace xtd::io;\n\nclass program {\npublic:\n  static auto main() {\n    try {\n      // Set a variable to the My Documents path.\n      ustring doc_path = environment::get_folder_path(environment::special_folder::my_documents);\n      \n      auto dirs_iterator = directory::enumerate_directories(doc_path);\n      vector<ustring> dirs(dirs_iterator.begin(), dirs_iterator.end());\n      \n      for (auto dir : dirs) {\n        console::write_line("{}", dir.substring(dir.last_index_of(path::directory_separator_char()) + 1));\n      }\n      console::write_line("{} directories found.", dirs.size());\n    } catch (const unauthorized_access_exception& ex) {\n      console::write_line(ex.message());\n    } catch (const path_too_long_exception& ex) {\n      console::write_line(ex.message());\n    }\n  }\n};\n\nstartup_(program);\n')),(0,a.kt)("h2",{id:"examples-use-the-directory_info-class"},"Examples: Use the directory_info class"),(0,a.kt)("p",null,"The following example uses the ",(0,a.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1directory__info.html#ad0818557e5fbc58db748458c7e907c4b"},"directory_info::enumerate_directories")," method to list a collection of top-level directories whose ",(0,a.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1file__system__info.html#a970dfefd830a4edfdc36f72153c9d811"},"creation_time")," is not earlier than a certain ",(0,a.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1date__time.html"},"date_time")," value."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},'#include <xtd/xtd>\n\nusing namespace std;\nusing namespace xtd;\nusing namespace xtd::io;\n\nclass program {\npublic:\n static auto main() {\n   // Set a variable to the Documents path.\n   ustring doc_path = environment::get_folder_path(environment::special_folder::my_documents);\n   \n   directory_info dir_programs(doc_path);\n   date_time start_of_2021(2021, 1, 1);\n   vector<directory_info> dirs;\n   \n   for (auto dir : dir_programs.enumerate_directories()) {\n     if (dir.creation_time() >= start_of_2021)\n       dirs.push_back(dir);\n   };\n   \n   for (auto di : dirs) {\n     console::write_line("{}", di.name());\n   }\n }\n};\n\nstartup_(program);\n')),(0,a.kt)("p",null,"The following example uses the ",(0,a.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1directory__info.html#aae6b6e624c5ac50f1f7bb5ec8088114a"},"directory_info::enumerate_files")," method to list all files whose ",(0,a.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1io_1_1file__info.html#a7bbc1abbd603c19f70d687770961d195"},"length")," exceeds 10MB.\nThis example first enumerates the top-level directories, to catch possible unauthorized access exceptions, and then enumerates the files. "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},'#include <xtd/xtd>\n\nusing namespace std;\nusing namespace xtd;\nusing namespace xtd::io;\n\nclass program {\npublic:\n  static auto main() {\n    // Set a variable to the Documents path.\n    ustring doc_path = environment::get_folder_path(environment::special_folder::my_documents);\n    \n    directory_info di_top(doc_path);\n    \n    try {\n      for (auto fi : di_top.enumerate_files()) {\n        try {\n          // Display each file over 10 MB;\n          if (fi.length() > 10000000) {\n            console::write_line("{}\\t\\t{:N0}", fi.full_name(), fi.length());\n          }\n        } catch (const unauthorized_access_exception& un_auth_top) {\n          console::write_line(un_auth_top.message());\n        }\n      }\n      \n      for (auto di : di_top.enumerate_directories("*")) {\n        try {\n          for (auto fi : di.enumerate_files("*")) {\n            try {\n              // Display each file over 10 MB;\n              if (fi.length() > 10000000) {\n                console::write_line("{}\\t\\t{:N0}", fi.full_name(), fi.length());\n              }\n            } catch (const unauthorized_access_exception& un_auth_file) {\n              console::write_line(un_auth_file.message());\n            }\n          }\n        } catch (const unauthorized_access_exception& un_auth_sub_dir) {\n          console::write_line(un_auth_sub_dir.message());\n        }\n      }\n    } catch (const directory_not_found_exception& dir_not_found) {\n      console::write_line("{}", dir_not_found.message());\n    } catch (const unauthorized_access_exception& un_auth_dir) {\n      console::write_line("un_auth_dir: {}", un_auth_dir.message());\n    } catch (const path_too_long_exception& long_path) {\n      console::write_line("{}", long_path.message());\n    }\n  }\n};\n\nstartup_(program);\n')),(0,a.kt)("h2",{id:"see-also"},"See also"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docs/documentation/Guides/xtd.core/Common%20I%3AO%20tasks"},"Common I/O Tasks")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docs/documentation/Guides/Overview/Tutorials"},"Tutorials")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docs/documentation"},"Documentation"))))}_.isMDXComponent=!0}}]);