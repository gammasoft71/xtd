"use strict";(self.webpackChunkxtd=self.webpackChunkxtd||[]).push([[8028],{3905:(t,e,a)=>{a.d(e,{Zo:()=>c,kt:()=>f});var o=a(67294);function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function r(t,e){if(null==t)return{};var a,o,n=function(t,e){if(null==t)return{};var a,o,n={},i=Object.keys(t);for(o=0;o<i.length;o++)a=i[o],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)a=i[o],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}var l=o.createContext({}),p=function(t){var e=o.useContext(l),a=e;return t&&(a="function"==typeof t?t(e):s(s({},e),t)),a},c=function(t){var e=p(t.components);return o.createElement(l.Provider,{value:e},t.children)},m={inlineCode:"code",wrapper:function(t){var e=t.children;return o.createElement(o.Fragment,{},e)}},d=o.forwardRef((function(t,e){var a=t.components,n=t.mdxType,i=t.originalType,l=t.parentName,c=r(t,["components","mdxType","originalType","parentName"]),d=p(a),f=n,h=d["".concat(l,".").concat(f)]||d[f]||m[f]||i;return a?o.createElement(h,s(s({ref:e},c),{},{components:a})):o.createElement(h,s({ref:e},c))}));function f(t,e){var a=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var i=a.length,s=new Array(i);s[0]=d;var r={};for(var l in e)hasOwnProperty.call(e,l)&&(r[l]=e[l]);r.originalType=t,r.mdxType="string"==typeof t?t:n,s[1]=r;for(var p=2;p<i;p++)s[p]=a[p];return o.createElement.apply(null,s)}return o.createElement.apply(null,a)}d.displayName="MDXCreateElement"},87029:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>r,toc:()=>p});var o=a(87462),n=(a(67294),a(3905));const i={},s="Application overview",r={unversionedId:"documentation/Guides/xtd.forms/Overview/application_overview",id:"documentation/Guides/xtd.forms/Overview/application_overview",title:"Application overview",description:"An xtd GUI application must use the xtd::application class to run process event loop.",source:"@site/docs/documentation/Guides/xtd.forms/Overview/application_overview.md",sourceDirName:"documentation/Guides/xtd.forms/Overview",slug:"/documentation/Guides/xtd.forms/Overview/application_overview",permalink:"/xtd/docs/documentation/Guides/xtd.forms/Overview/application_overview",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Ambient properties",permalink:"/xtd/docs/documentation/Guides/xtd.forms/Overview/ambient_properties"},next:{title:"Components",permalink:"/xtd/docs/documentation/Guides/xtd.forms/Overview/components"}},l={},p=[{value:"Application",id:"application",level:2},{value:"Start process event loop",id:"start-process-event-loop",level:3},{value:"Stop process event loop and exit",id:"stop-process-event-loop-and-exit",level:3},{value:"Settings",id:"settings",level:3},{value:"Application context",id:"application-context",level:2}],c={toc:p};function m(t){let{components:e,...a}=t;return(0,n.kt)("wrapper",(0,o.Z)({},c,a,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"application-overview"},"Application overview"),(0,n.kt)("p",null,"An xtd GUI application must use the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html"},"xtd::forms::application")," class to run process event loop."),(0,n.kt)("p",null,"The following code shows the minimum required to run a GUI application.\nThe application will exit automatically when the form is closed."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},"#include <xtd/xtd>\n\nauto main() -> int {\n  xtd::forms::application::run(xtd::forms::form {});\n}\n")),(0,n.kt)("h2",{id:"application"},"Application"),(0,n.kt)("p",null,"The ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html"},"xtd::forms::application")," class provides static methods and properties to manage an application, such as methods to start and stop an application, to process Windows messages, and methods to get information about an application.\nThe ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html"},"xtd::forms::application")," class is a static class and cannot be inherited."),(0,n.kt)("h3",{id:"start-process-event-loop"},"Start process event loop"),(0,n.kt)("p",null,"The following methods are used to start process event loop:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#ad9f33fc4a9bfe8735d80ebabdeb7f3f2"},"xtd::forms::application::run(const xtd::forms::form& main_form)")," begins running a standard application message loop on the current thread, and makes the specified form visible. This is the most method used. If you don't know which method to use then use this one."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#ab79aa8eba69cde497bae6657cb11eab8"},"xtd::forms::application::run(xtd::forms::application_context& context)")," begins running a standard application message loop on the current thread, with an application_context. The message loop runs until ",(0,n.kt)("a",{parentName:"li",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#a1f7d29b0aeda0c96f5acc4e38ad5902a"},"xtd::forms::application::exit")," or ",(0,n.kt)("a",{parentName:"li",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#a7cd6fe69c23173cb2dabae8f6c7a1690"},"xtd::forms::application::exit_thread")," is called or the ",(0,n.kt)("a",{parentName:"li",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/group__events.html#ga3dc1fee2312e39f7032b071ed5ee0f54"},"xtd::forms::application_context::thread_exit")," event is raised on the context object."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#a4ee49410f3156fd66b61c2567a59388e"},"xtd::forms::application::run()")," begins running a standard application message loop on the current thread, without a form. If you use this method you have to stop the application yourself with the method ",(0,n.kt)("a",{parentName:"li",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#a1f7d29b0aeda0c96f5acc4e38ad5902a"},"xtd::forms::application::exit()")," or ",(0,n.kt)("a",{parentName:"li",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#a7cd6fe69c23173cb2dabae8f6c7a1690"},"xtd::forms:application::exit_thread()")," when for example the last window is closed. Because there is no main window that when closed stops the application.")),(0,n.kt)("p",null,"The following code shows the use of the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#a4ee49410f3156fd66b61c2567a59388e"},"application::run()")," method without parameter.\nUnlike the method with the specified form parameter, the message loop application will not stop when you close the window.\nYou have to call the method ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#a1f7d29b0aeda0c96f5acc4e38ad5902a"},"applicati::exit")," or ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#a7cd6fe69c23173cb2dabae8f6c7a1690"},"application::exit_thread")," explicitly."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},"#include <xtd/xtd>\n\nusing namespace xtd::forms;\n\nauto main() -> int {\n  auto form1 = form {};\n  form1.show();\n  form1.form_closed += [] {\n    // If you comment the following line the application will not exit when you close the form.\n    application::exit();\n  };\n  \n  application::run();\n}\n")),(0,n.kt)("h3",{id:"stop-process-event-loop-and-exit"},"Stop process event loop and exit"),(0,n.kt)("p",null,"The following methods are used to stop process event loop and exit:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#a1f7d29b0aeda0c96f5acc4e38ad5902a"},"xtd::forms::application::exit()")," informs all message pumps that they must terminate, and then closes all application windows after the messages have been processed."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#a5b1b744a6bc8e74c2a80cf0564b370cd"},"xtd::forms::application::exit(xtd::forms::cancel_event_args& e)")," informs all message pumps that they must terminate, and then closes all application windows after the messages have been processed."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#a7cd6fe69c23173cb2dabae8f6c7a1690"},"xtd::forms::application::exit_thread()")," exits the message loop on the current thread and closes all windows on the thread.")),(0,n.kt)("h3",{id:"settings"},"Settings"),(0,n.kt)("p",null,"The application class contains some global settings that must be called before executing the event loop."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#abf17d1d7052d313ff8137035f8a0d276"},"xtd::forms::application::disable_font_size_correction()")," disables font size correction for the application."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#ad32eba2a91a9e25f66e4cb1f718c8973"},"xtd::forms::application::enable_button_images()")," enables button images for the application (has effect on linux only)."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#a055e78c3b5097f08a108c0730360e3b8"},"xtd::forms::application::enable_dark_mode()")," enables dark mode for the application."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#ac6f2defe8e2722b0fb450f5ae6a2f28d"},"xtd::forms::application::enable_light_mode()")," enables light mode for the application."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#a38695ee0d586fd727abfb42995f6d9cb"},"xtd::forms::application::enable_menu_images()")," enables menu images for the application (has effect on linux only)."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#a28ad4db693e3bf228e5f0902fdf5882a"},"xtd::forms::application::enable_system_controls()")," enables system control for the application."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#a7d71d75530eaadb67edc3be36c57ca61"},"xtd::forms::application::enable_system_font_size()")," enables system font size for the application."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#a6af4447091dec74038a54c6b9f5f8760"},"xtd::forms::application::enable_visual_styles()")," enables visual styles for the application.")),(0,n.kt)("h2",{id:"application-context"},"Application context"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application__context.html"},"xtd::forms::application_context")," class specifies the contextual information about an application thread."),(0,n.kt)("p",null,"The ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application__context.html#ac5474112ff9d1805a8eff90a069c2ca1"},"xtd::forms::application_context")," contains or not the main form. You can set or change a main form in runtime with the ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application__context.html#a0c2eeef4bb20a6c077a925896a9024e4"},"xtd::forms::application_context::main_form")," property."),(0,n.kt)("p",null,"The following code shows how to create an ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application__context.html#ac5474112ff9d1805a8eff90a069c2ca1"},"application_context"),", set a form as ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application__context.html#a0c2eeef4bb20a6c077a925896a9024e4"},"main_form")," and call ",(0,n.kt)("a",{parentName:"p",href:"https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1forms_1_1application.html#ab79aa8eba69cde497bae6657cb11eab8"},"appplication::run")," with it."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},'#include <xtd/xtd>\n\nusing namespace xtd::forms;\n\nauto main() -> int {\n  auto form1 = form {};\n  form1.text("form 1;");\n  form1.show();\n\n  auto form2 = form {};\n  form2.text("form 2");\n\n  auto context = application_context {};\n  context.main_form(form2);\n  \n  application::run(context);\n}\n')),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"form 2")," is the main window. If you close ",(0,n.kt)("inlineCode",{parentName:"p"},"form 1"),", the application continues to run and ",(0,n.kt)("inlineCode",{parentName:"p"},"form 2")," remains visible.\nOn the other hand, if you close ",(0,n.kt)("inlineCode",{parentName:"p"},"form2"),", the application is exited and ",(0,n.kt)("inlineCode",{parentName:"p"},"form 1")," is closed.\nNote that you can change the main form at any time while the application is running "),(0,n.kt)("h1",{id:"see-also"},"See also"),(0,n.kt)("p",null,"\u200b"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/docs/documentation/Guides"},"Guides")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/docs/documentation"},"Documentation"))))}m.isMDXComponent=!0}}]);