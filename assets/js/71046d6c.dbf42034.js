"use strict";(self.webpackChunkxtd=self.webpackChunkxtd||[]).push([[799],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>g});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=u(n),g=i,m=d["".concat(l,".").concat(g)]||d[g]||p[g]||a;return n?r.createElement(m,s(s({ref:t},c),{},{components:n})):r.createElement(m,s({ref:t},c))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,s=new Array(a);s[0]=d;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:i,s[1]=o;for(var u=2;u<a;u++)s[u]=n[u];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},46230:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>u});var r=n(87462),i=(n(67294),n(3905));const a={},s="Struct Design",o={unversionedId:"documentation/Design Guidelines/Type Design Guidelines/struct_design",id:"documentation/Design Guidelines/Type Design Guidelines/struct_design",title:"Struct Design",description:"The general-purpose value type is most often referred to as a struct, its C++ keyword. This section provides guidelines for general struct design.",source:"@site/docs/documentation/Design Guidelines/Type Design Guidelines/struct_design.md",sourceDirName:"documentation/Design Guidelines/Type Design Guidelines",slug:"/documentation/Design Guidelines/Type Design Guidelines/struct_design",permalink:"/xtd/docs/documentation/Design Guidelines/Type Design Guidelines/struct_design",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Static Class Design",permalink:"/xtd/docs/documentation/Design Guidelines/Type Design Guidelines/static_class_design"},next:{title:"Coding Conventions Guidelines",permalink:"/xtd/docs/documentation/Design Guidelines/coding_conventions_guidelines"}},l={},u=[],c={toc:u};function p(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"struct-design"},"Struct Design"),(0,i.kt)("p",null,"The general-purpose value type is most often referred to as a struct, its C++ keyword. This section provides guidelines for general struct design."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u274c DO NOT")," provide a default constructor for a struct."),(0,i.kt)("p",null,"Following this guideline allows arrays of structs to be created without having to run the constructor on each item of the array."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u274c DO NOT")," define mutable value types."),(0,i.kt)("p",null,"Mutable value types have several problems. For example, when a property getter returns a value type, the caller receives a copy. Because the copy is created implicitly, developers might not be aware that they are mutating the copy, and not the original value. Also, some languages (dynamic languages, in particular) have problems using mutable value types because even local variables, when dereference, cause a copy to be made."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u2714\ufe0f DO")," ensure that a state where all instance data is set to zero, false, or null (as appropriate) is valid."),(0,i.kt)("p",null,"This prevents accidental creation of invalid instances when an array of the structs is created."),(0,i.kt)("p",null,"The xtd::object::equals method on value types causes boxing, and its default implementation is not very efficient, because it uses reflection. Equals can have much better performance and can be implemented so that it will not cause boxing."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u274c DO")," explicitly extend xtd::value_type."),(0,i.kt)("p",null,"In general, structs can be very useful but should only be used for small, single, immutable values that will not be boxed frequently."),(0,i.kt)("h1",{id:"see-also"},"See also"),(0,i.kt)("p",null,"\u200b"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/documentation/Design%20Guidelines/Type%20Design%20Guidelines"},"Type Design Guidelines")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/documentation/Design%20Guidelines"},"Design Guidelines")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/documentation"},"Documentation"))))}p.isMDXComponent=!0}}]);