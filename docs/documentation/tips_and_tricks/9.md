# Adding color to console output (text + background) (ðŸŸ¢ Beginner)

Here is a new example illustrating a practical trick with xtd: how to add color to console output.

> With xtd, you can do the same in a clean, portable and type-safe way â€” without worrying about platform-specific APIs or ANSI escape codes.

## Modern C++ code with ANSI

```cpp
#include <print>

auto main() -> int {
  constexpr auto back_color_dark_blue = "\x1b[44m";
  constexpr auto fore_color_red = "\x1b[91m";
  constexpr auto fore_color_white = "\x1b[97m";
  constexpr auto reset_terminal = "\x1b[0m";
  
  std::print(fore_color_red);
  std::println("I'm a red text color");
  std::print(back_color_dark_blue);
  std::print(fore_color_white);
  std::println("I'm a white text on dark blue background color");
  std::print(reset_terminal);
}
```

## Modern C++ code with Win32 API

```cpp
#define UNICODE
#include <Windows.h>

auto main() -> int {
  auto csbi = CONSOLE_SCREEN_BUFFER_INFO {};
  auto original_attributes = GetConsoleScreenBufferInfo(GetStdHandle(STD_OUTPUT_HANDLE), &csbi) == TRUE ? csbi.wAttributes : 0x00;
  SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), FOREGROUND_RED | FOREGROUND_INTENSITY);
  WriteConsole(GetStdHandle(STD_OUTPUT_HANDLE), L"I'm a red text color\n", 21, nullptr, nullptr);
  SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), BACKGROUND_BLUE | FOREGROUND_BLUE | FOREGROUND_GREEN | FOREGROUND_RED | FOREGROUND_INTENSITY);
  WriteConsole(GetStdHandle(STD_OUTPUT_HANDLE), L"I'm a white text on dark blue background\n", 41, nullptr, nullptr);
  SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), original_attributes);
}
```

## xtd code

```cpp
#include <xtd/xtd>

auto main() -> int {
  console::foreground_color(console_color::red);
  console::write_line("I'm a red text");
  console::foreground_color(console_color::white);
  console::background_color(console_color::dark_blue);
  console::write_line("I'm a white text on dark blue background");
}
```

or simply

```cpp
#include <xtd/xtd>

auto main() -> int {
  // You can also use console::out as a stream like std::cout
  console::out << foreground_color(console_color::red) << "I'm a red text" << environment::new_line;
  console::out << foreground_color(console_color::white) << background_color(console_color::dark_blue) << "I'm a white text on dark blue background" << environment::new_line;
```

## Use

If we launch the application:

```sh
./my_app
```

The result will be:

![console_color](/pictures/tips_and_tricks/9.png)

## Remarks
* [xtd::console::background_color](https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1console.html#a16386e533bc0bbb8cc4dfb4b079c828a) and [xtd::console::foreground_color](https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1console.html#abd246067ff6963a6118830762ba9b6d1) can be used with [xtd::console](https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1console.html), [xtd::println](https://gammasoft71.github.io/xtd/reference_guides/latest/namespacextd.html#a28cc6e13c0ba3a33707d84f6a4d60deb) and [std::println](https://en.cppreference.com/w/cpp/io/println.html).
* [xtd::background_color](https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1console.html#a16386e533bc0bbb8cc4dfb4b079c828a) and [xtd::foreground_color](https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1console.html#abd246067ff6963a6118830762ba9b6d1) can be used with [xtd::console::out](https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1console.html#a923837ac84baf01726703e0474ca4888) and [std::cout](https://en.cppreference.com/w/cpp/io/cout.html).
* xtd helps you manipulate console input and output as text color and background color. 
* [xtd::console](https://gammasoft71.github.io/xtd/reference_guides/latest/classxtd_1_1console.html) has more features than those presented here, see [console](/docs/documentation/guides/xtd.core/console_class) for more information.

## See also

* [Tips & Tricks](/docs/documentation/tips_and_tricks)
* [Documentation](/docs/documentation)
