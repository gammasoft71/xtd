# Getting special folders (ðŸŸ¢ Beginner)

How to get special folders such : Home, Desktop, Program Files, ...

## Win32

```cpp
#include <shlobj.h>
#include <print>
#include <string>

constexpr int CSIDL_HOME = 0x0040; // The Home folder is not defined because it is not a standard CSIDL value.

std::string get_environment_variable(const std::string& variable) {
  auto environent_variable_size = DWORD {32766};
  auto environment_variable = std::string(environent_variable_size, '\0');
  environent_variable_size = GetEnvironmentVariable(variable.data(), environment_variable.data(), environent_variable_size);
  return environment_variable.substr(0, environent_variable_size);
}

std::string get_known_folder_path(int id) {
  // For CSIDL_HOME, we construct the path using environment variables
  if (id == CSIDL_HOME) 
    return get_environment_variable("HOMEDRIVE") + get_environment_variable("HOMEPATH");
  // For other known folders, we use SHGetFolderPath
  auto path = std::string(MAX_PATH, '\0');
  if (SHGetFolderPath(nullptr, id, nullptr, SHGFP_TYPE_CURRENT, path.data()) != S_OK)
    throw std::runtime_error("Failed to get known folder path");
  return path.substr(0, path.find('\0'));
}

auto main() -> int {
  std::println("Desktop path = \"{}\"", get_known_folder_path(CSIDL_DESKTOP));
  std::println("Program Files = \"{}\"", get_known_folder_path(CSIDL_PROGRAM_FILES));
  std::println("Home = \"{}\"", get_known_folder_path(CSIDL_HOME));
}
```

```cpp
// This code can produce the following output:
//
// Desktop path = "C:\Users\gammasoft71\Desktop"
// Program Files = "C:\Program Files"
// Home = "C:\Users\gammasoft71"
```

*	La method `get_environment_variable ` retourne la valeur pour une variable d'environment donnÃ©e.
*	La method `get_known_folder_path` retourne le path pour une valeur CSIDL donnÃ©e.

## Qt

```cpp

```

```cpp
// This code can produce the following output:
//
```

## Conclusion


> **Did you know?**
>
> 

## To go further


## See also

* [Tips & Tricks](/docs/documentation/tips_and_tricks)
* [Documentation](/docs/documentation)
