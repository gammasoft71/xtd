<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<title>xtd: xtd::threading::monitor Class Reference</title>
    <link href="favicon.png" rel="shortcut icon" type="image/png"/>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom_images.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
    <script type="text/javascript"> DoxygenAwesomeDarkModeToggle.init() </script>
	</head>
	<body>
  <div id="page_container">
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
      <table cellspacing="0" cellpadding="0" style="width: 100%;">
				<tbody>
					<tr>
						<td id="projectlogo">
						  <a href="https://gammasoft71.github.io/xtd/" target="_new">
						    <img alt="Logo" src="xtd_doxygen.png"/>
						  </a>
						</td>
						<td id="projectalign" style="padding-left: 0.5em; text-align: right;">
							<div id="projectname">xtd
								<span id="projectnumber">0.2.0</span>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classxtd_1_1threading_1_1monitor.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="classxtd_1_1threading_1_1monitor-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">xtd::threading::monitor Class Reference<div class="ingroups"><a class="el" href="group__libraries.html">﹡ libraries</a> &raquo; <a class="el" href="group__xtd__core.html">xtd.core</a> &#124; <a class="el" href="group__system.html">system</a> &raquo; <a class="el" href="group__threading.html">threading</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for xtd::threading::monitor:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classxtd_1_1threading_1_1monitor.png" usemap="#xtd::threading::monitor_map" alt=""/>
  <map id="xtd::threading::monitor_map" name="xtd::threading::monitor_map">
<area href="classxtd_1_1static__object.html" title="Represent a static object. A static class can&#39;t be instantiated (constructors are deleted)." alt="xtd::static_object" shape="rect" coords="0,0,134,24"/>
  </map>
</div></div>
<a name="details" id="details"></a><h2 class="groupheader">Definition</h2>
<div class="textblock"><p>Provides a mechanism that synchronizes access to objects. </p>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_define" href="group__keywords_gabc8f9c2aa36f6cee610a37f0e8227fd1.html#gabc8f9c2aa36f6cee610a37f0e8227fd1">core_export_</a> <a class="code hl_class" href="classxtd_1_1threading_1_1monitor.html">monitor</a> <a class="code hl_define" href="group__keywords_ga28796443ec37b938df7072c79595e3f6.html#ga28796443ec37b938df7072c79595e3f6">static_</a></div>
<div class="ttc" id="aclassxtd_1_1threading_1_1monitor_html"><div class="ttname"><a href="classxtd_1_1threading_1_1monitor.html">xtd::threading::monitor</a></div><div class="ttdoc">Provides a mechanism that synchronizes access to objects.</div><div class="ttdef"><b>Definition</b> monitor.h:130</div></div>
<div class="ttc" id="agroup__keywords_ga28796443ec37b938df7072c79595e3f6_html_ga28796443ec37b938df7072c79595e3f6"><div class="ttname"><a href="group__keywords_ga28796443ec37b938df7072c79595e3f6.html#ga28796443ec37b938df7072c79595e3f6">static_</a></div><div class="ttdeci">#define static_</div><div class="ttdoc">This keyword is use to represent a static object. A static object can't be instantiated (constructors...</div><div class="ttdef"><b>Definition</b> static.h:37</div></div>
<div class="ttc" id="agroup__keywords_gabc8f9c2aa36f6cee610a37f0e8227fd1_html_gabc8f9c2aa36f6cee610a37f0e8227fd1"><div class="ttname"><a href="group__keywords_gabc8f9c2aa36f6cee610a37f0e8227fd1.html#gabc8f9c2aa36f6cee610a37f0e8227fd1">core_export_</a></div><div class="ttdeci">#define core_export_</div><div class="ttdoc">Define shared library export.</div><div class="ttdef"><b>Definition</b> core_export.h:13</div></div>
</div><!-- fragment --> <dl class="section user"><dt>Inheritance</dt><dd><a class="el" href="classxtd_1_1static__object.html" title="Represent a static object. A static class can&#39;t be instantiated (constructors are deleted).">xtd::static_object</a> → <a class="el" href="classxtd_1_1threading_1_1monitor.html" title="Provides a mechanism that synchronizes access to objects.">xtd::threading::monitor</a> </dd></dl>
<dl class="section user"><dt>Header</dt><dd><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;xtd/threading/monitor&gt;</span></div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Namespace</dt><dd><a class="el" href="namespacextd_1_1threading.html" title="The xtd::threading namespace provides classes and interfaces that enable multithreaded programming....">xtd::threading</a> </dd></dl>
<dl class="section user"><dt>Library</dt><dd>xtd.core</dd></dl>
<dl class="section user"><dt>Examples</dt><dd>The following example uses the <a class="el" href="classxtd_1_1threading_1_1monitor.html" title="Provides a mechanism that synchronizes access to objects.">xtd::threading::monitor</a> class to synchronize access to a single instance of a random number generator represented by the <a class="el" href="classxtd_1_1random.html" title="Represents a pseudo-random number generator, a device that produces a sequence of numbers that meet c...">xtd::random</a> class. The example creates ten threads, each of which executes asynchronously on a thread pool thread. Each thread generates 10,000 random numbers, calculates their average, and updates two procedure-level variables that maintain a running total of the number of random numbers generated and their sum. After all threads have executed, these two values are then used to calculate the overall mean. <div class="fragment"><div class="line"><span class="preprocessor">#include &lt;xtd/collections/generic/list&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/threading/interlocked&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/threading/monitor&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/threading/thread&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/console&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/literals&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/random&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/startup&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacextd.html">xtd</a>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacextd_1_1collections_1_1generic.html">xtd::collections::generic</a>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacextd_1_1threading.html">xtd::threading</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>monitor_example {</div>
<div class="line">  <span class="keyword">class </span>program {</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> main() {</div>
<div class="line">      <span class="keyword">auto</span> threads = <a class="code hl_class" href="classxtd_1_1collections_1_1generic_1_1list.html">list&lt;thread&gt;</a> {};</div>
<div class="line">      <span class="keyword">auto</span> rnd = <a class="code hl_class" href="classxtd_1_1random.html">xtd::random</a> {};</div>
<div class="line">      <span class="keyword">auto</span> total = 0_s64;</div>
<div class="line">      <span class="keyword">auto</span> <a class="code hl_enumvalue" href="group__xtd__core_gad94b2f43c7550180321e0ac4b02a4ff2.html#ggad94b2f43c7550180321e0ac4b02a4ff2a7b8b965ad4bca0e41ab51de7b31363a1">n</a> = 0;</div>
<div class="line">      </div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keyword">auto</span> thread_ctr = 0; thread_ctr &lt; 10; ++thread_ctr)</div>
<div class="line">        threads.push_back(thread::start_new([&amp;] {</div>
<div class="line">          auto values = std::array&lt;int, 10000&gt; {};</div>
<div class="line">          <span class="keyword">auto</span> thread_total = 0;</div>
<div class="line">          <span class="keyword">auto</span> thread_n = 0;</div>
<div class="line">          <span class="keyword">auto</span> ctr = 0;</div>
<div class="line">          monitor::enter(rnd);</div>
<div class="line">          <span class="comment">// Generate 10,000 random integers</span></div>
<div class="line">          <span class="keywordflow">for</span> (ctr = 0; ctr &lt; 10000; ++ctr)</div>
<div class="line">            values[ctr] = rnd.next(0, 1001);</div>
<div class="line">          monitor::exit(rnd);</div>
<div class="line">          thread_n = ctr;</div>
<div class="line">          <span class="keywordflow">for</span> (<span class="keyword">auto</span> value : values)</div>
<div class="line">            thread_total += value;</div>
<div class="line">          </div>
<div class="line">          console::write_line(<span class="stringliteral">&quot;Mean for task {0,2}: {1:N2} (N={2:N0})&quot;</span>,</div>
<div class="line">                              thread::current_thread().managed_thread_id(),</div>
<div class="line">                              (thread_total * 1.0) / thread_n, thread_n);</div>
<div class="line">          interlocked::add(n, thread_n);</div>
<div class="line">          interlocked::add(total, thread_total);</div>
<div class="line">        }));</div>
<div class="line">      <span class="keywordflow">try</span> {</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code hl_class" href="classxtd_1_1threading_1_1thread.html">thread</a> : threads)</div>
<div class="line">          <a class="code hl_class" href="classxtd_1_1threading_1_1thread.html">thread</a>.join();</div>
<div class="line">        console::write_line(<span class="stringliteral">&quot;\nMean for all tasks: {0:N2} (N={1:N0})&quot;</span>,</div>
<div class="line">                            (total * 1.0)/n, n);</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="classxtd_1_1system__exception.html">system_exception</a>&amp; e) {</div>
<div class="line">        console::write_line(<span class="stringliteral">&quot;{0}: {1}&quot;</span>, <a class="code hl_enumvalue" href="group__xtd__core_gad94b2f43c7550180321e0ac4b02a4ff2.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.get_type().name(), <a class="code hl_enumvalue" href="group__xtd__core_gad94b2f43c7550180321e0ac4b02a4ff2.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.message());</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="group__keywords_ga44bd440a34d147923e428eacd1c8eedd.html#ga44bd440a34d147923e428eacd1c8eedd">startup_</a>(monitor_example::program::main);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// This example produces output similar to the following:</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Mean for task  4: 498.90 (N=10000)</span></div>
<div class="line"><span class="comment">// Mean for task  2: 499.92 (N=10000)</span></div>
<div class="line"><span class="comment">// Mean for task  7: 503.12 (N=10000)</span></div>
<div class="line"><span class="comment">// Mean for task  5: 499.41 (N=10000)</span></div>
<div class="line"><span class="comment">// Mean for task  3: 498.58 (N=10000)</span></div>
<div class="line"><span class="comment">// Mean for task  8: 496.71 (N=10000)</span></div>
<div class="line"><span class="comment">// Mean for task 10: 501.49 (N=10000)</span></div>
<div class="line"><span class="comment">// Mean for task  6: 498.84 (N=10000)</span></div>
<div class="line"><span class="comment">// Mean for task  9: 502.72 (N=10000)</span></div>
<div class="line"><span class="comment">// Mean for task 11: 498.69 (N=10000)</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Mean for all tasks: 499.84 (N=100000)</span></div>
<div class="ttc" id="aclassxtd_1_1collections_1_1generic_1_1list_html"><div class="ttname"><a href="classxtd_1_1collections_1_1generic_1_1list.html">xtd::collections::generic::list</a></div><div class="ttdoc">Represents a strongly typed list of objects that can be accessed by index. Provides methods to search...</div><div class="ttdef"><b>Definition</b> list.h:70</div></div>
<div class="ttc" id="aclassxtd_1_1random_html"><div class="ttname"><a href="classxtd_1_1random.html">xtd::random</a></div><div class="ttdoc">Represents a pseudo-random number generator, a device that produces a sequence of numbers that meet c...</div><div class="ttdef"><b>Definition</b> random.h:40</div></div>
<div class="ttc" id="aclassxtd_1_1system__exception_html"><div class="ttname"><a href="classxtd_1_1system__exception.html">xtd::system_exception</a></div><div class="ttdoc">Defines the base class for predefined exceptions in the xtd namespace.</div><div class="ttdef"><b>Definition</b> system_exception.h:24</div></div>
<div class="ttc" id="aclassxtd_1_1threading_1_1thread_html"><div class="ttname"><a href="classxtd_1_1threading_1_1thread.html">xtd::threading::thread</a></div><div class="ttdoc">Creates and controls a thread, sets its priority, and gets its status.</div><div class="ttdef"><b>Definition</b> thread.h:43</div></div>
<div class="ttc" id="agroup__keywords_ga44bd440a34d147923e428eacd1c8eedd_html_ga44bd440a34d147923e428eacd1c8eedd"><div class="ttname"><a href="group__keywords_ga44bd440a34d147923e428eacd1c8eedd.html#ga44bd440a34d147923e428eacd1c8eedd">startup_</a></div><div class="ttdeci">#define startup_(main_method)</div><div class="ttdoc">Defines the entry point to be called when the application loads. Generally this is set either to the ...</div><div class="ttdef"><b>Definition</b> startup.h:175</div></div>
<div class="ttc" id="agroup__xtd__core_gad94b2f43c7550180321e0ac4b02a4ff2_html_ggad94b2f43c7550180321e0ac4b02a4ff2a7b8b965ad4bca0e41ab51de7b31363a1"><div class="ttname"><a href="group__xtd__core_gad94b2f43c7550180321e0ac4b02a4ff2.html#ggad94b2f43c7550180321e0ac4b02a4ff2a7b8b965ad4bca0e41ab51de7b31363a1">xtd::console_key::n</a></div><div class="ttdeci">@ n</div><div class="ttdoc">The N key.</div></div>
<div class="ttc" id="agroup__xtd__core_gad94b2f43c7550180321e0ac4b02a4ff2_html_ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32"><div class="ttname"><a href="group__xtd__core_gad94b2f43c7550180321e0ac4b02a4ff2.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">xtd::console_key::e</a></div><div class="ttdeci">@ e</div><div class="ttdoc">The E key.</div></div>
<div class="ttc" id="anamespacextd_1_1collections_1_1generic_html"><div class="ttname"><a href="namespacextd_1_1collections_1_1generic.html">xtd::collections::generic</a></div><div class="ttdoc">The xtd::collections::generic namespace contains interfaces and classes that define generic collectio...</div><div class="ttdef"><b>Definition</b> dictionary.h:15</div></div>
<div class="ttc" id="anamespacextd_1_1threading_html"><div class="ttname"><a href="namespacextd_1_1threading.html">xtd::threading</a></div><div class="ttdoc">The xtd::threading namespace provides classes and interfaces that enable multithreaded programming....</div><div class="ttdef"><b>Definition</b> abandoned_mutex_exception.h:10</div></div>
<div class="ttc" id="anamespacextd_html"><div class="ttname"><a href="namespacextd.html">xtd</a></div><div class="ttdoc">The xtd namespace contains all fundamental classes to access Hardware, Os, System,...</div><div class="ttdef"><b>Definition</b> xtd_about_box.h:10</div></div>
</div><!-- fragment --> Because they can be accessed from any task running on a thread pool thread, access to the variables total and n must also be synchronized. The <a class="el" href="classxtd_1_1threading_1_1interlocked_a35d4d7219315784e960dfc7667181f3d.html#a35d4d7219315784e960dfc7667181f3d" title="Adds two 32-bit integers and replaces the first integer with the sum, as an atomic operation.">xtd::threading::interlocked::add</a> method is used for this purpose. <br  />
<br  />
The following example demonstrates the combined use of the <a class="el" href="classxtd_1_1threading_1_1monitor.html" title="Provides a mechanism that synchronizes access to objects.">xtd::threading::monitor</a> class (implemented with the <a class="el" href="group__keywords_gacd9906b29d877eb1eb0a8c7bc4ab774a.html#gacd9906b29d877eb1eb0a8c7bc4ab774a" title="The lock_ keyword marks a statement block as a critical section by obtaining the mutual-exclusion loc...">lock_</a> keyword), the <a class="el" href="classxtd_1_1threading_1_1interlocked.html" title="Provides atomic operations for variables that are shared by multiple threads.">xtd::threading::interlocked</a> class, and the <a class="el" href="classxtd_1_1threading_1_1auto__reset__event.html" title="Represents a thread synchronization event that, when signaled, resets automatically after releasing a...">xtd::threading::auto_reset_event</a> class. It defines two classes, sync_resource and un_sync_resource, that respectively provide synchronized and unsynchronized access to a resource. To ensure that the example illustrates the difference between the synchronized and unsynchronized access (which could be the case if each method call completes rapidly), the method includes a random delay: for threads whose <a class="el" href="classxtd_1_1threading_1_1thread_a5a65a2da3e743b8d710749633e10eacc.html#a5a65a2da3e743b8d710749633e10eacc" title="Gets a unique identifier for the current managed thread.">xtd::threading::thread::managed_thread_id</a> property is even, the method calls <a class="el" href="classxtd_1_1threading_1_1thread_a42bc6e2bb805f928e50ae73d243b95f2.html#a42bc6e2bb805f928e50ae73d243b95f2" title="Suspends the current thread for a specified time.">xtd::threading::thread::sleep</a> to introduce a delay of 2,000 milliseconds. <div class="fragment"><div class="line"><span class="preprocessor">#include &lt;xtd/threading/auto_reset_event&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/threading/interlocked&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/threading/thread&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/threading/thread_pool&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/console&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/lock&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/startup&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacextd.html">xtd</a>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacextd_1_1threading.html">xtd::threading</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>monitor_lock_example {</div>
<div class="line">  <span class="keyword">class </span>sync_resource : <span class="keyword">public</span> <a class="code hl_class" href="classxtd_1_1object.html">object</a> {</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// Use a monitor to enforce synchronization.</span></div>
<div class="line">    <span class="keywordtype">void</span> access() {</div>
<div class="line">      <a class="code hl_define" href="group__keywords_gacd9906b29d877eb1eb0a8c7bc4ab774a.html#gacd9906b29d877eb1eb0a8c7bc4ab774a">lock_</a>(*<span class="keyword">this</span>) {</div>
<div class="line">        console::write_line(<span class="stringliteral">&quot;Starting synchronized resource access on thread #{0}&quot;</span>,</div>
<div class="line">                            thread::current_thread().managed_thread_id());</div>
<div class="line">        <span class="keywordflow">if</span> (thread::current_thread().managed_thread_id() % 2 == 0)</div>
<div class="line">          thread::sleep(2000);</div>
<div class="line">        </div>
<div class="line">        thread::sleep(200);</div>
<div class="line">        console::write_line(<span class="stringliteral">&quot;Stopping synchronized resource access on thread #{0}&quot;</span>,</div>
<div class="line">                            thread::current_thread().managed_thread_id());</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  };</div>
<div class="line">  </div>
<div class="line">  <span class="keyword">class </span>un_sync_resource : <span class="keyword">public</span> <a class="code hl_class" href="classxtd_1_1object.html">object</a> {</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// Do not enforce synchronization.</span></div>
<div class="line">    <span class="keywordtype">void</span> access() {</div>
<div class="line">      console::write_line(<span class="stringliteral">&quot;Starting unsynchronized resource access on Thread #{0}&quot;</span>,</div>
<div class="line">                          thread::current_thread().managed_thread_id());</div>
<div class="line">      <span class="keywordflow">if</span> (thread::current_thread().managed_thread_id() % 2 == 0)</div>
<div class="line">        thread::sleep(2000);</div>
<div class="line">      </div>
<div class="line">      thread::sleep(200);</div>
<div class="line">      console::write_line(<span class="stringliteral">&quot;Stopping unsynchronized resource access on thread #{0}&quot;</span>,</div>
<div class="line">                          thread::current_thread().managed_thread_id());</div>
<div class="line">    }</div>
<div class="line">  };</div>
<div class="line">  </div>
<div class="line">  <span class="keyword">class </span>app {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">int</span> num_ops = 0;</div>
<div class="line">    <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code hl_class" href="classxtd_1_1threading_1_1auto__reset__event.html">auto_reset_event</a> ops_are_done {<span class="keyword">false</span>};</div>
<div class="line">    <span class="keyword">inline</span> <span class="keyword">static</span> sync_resource sync_res;</div>
<div class="line">    <span class="keyword">inline</span> <span class="keyword">static</span> un_sync_resource un_sync_res;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> main() {</div>
<div class="line">      <span class="comment">// Set the number of synchronized calls.</span></div>
<div class="line">      num_ops = 5;</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ctr = 0; ctr &lt;= 4; ++ctr)</div>
<div class="line">        thread_pool::queue_user_work_item(sync_update_resource);</div>
<div class="line">      </div>
<div class="line">      <span class="comment">// Wait until this WaitHandle is signaled.</span></div>
<div class="line">      ops_are_done.<a class="code hl_function" href="classxtd_1_1threading_1_1wait__handle_ab53dcefc6844ecf0d6d9967ac489ac87.html#ab53dcefc6844ecf0d6d9967ac489ac87">wait_one</a>();</div>
<div class="line">      console::write_line(<span class="stringliteral">&quot;\t\nAll synchronized operations have completed.\n&quot;</span>);</div>
<div class="line">      </div>
<div class="line">      <span class="comment">// Reset the count for unsynchronized calls.</span></div>
<div class="line">      num_ops = 5;</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ctr = 0; ctr &lt;= 4; ctr++)</div>
<div class="line">        thread_pool::queue_user_work_item(un_sync_update_resource);</div>
<div class="line">      </div>
<div class="line">      <span class="comment">// Wait until this WaitHandle is signaled.</span></div>
<div class="line">      ops_are_done.wait_one();</div>
<div class="line">      console::write_line(<span class="stringliteral">&quot;\t\nAll unsynchronized thread operations have completed.\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> sync_update_resource(std::any state) {</div>
<div class="line">      <span class="comment">// Call the internal synchronized method.</span></div>
<div class="line">      sync_res.access();</div>
<div class="line">      </div>
<div class="line">      <span class="comment">// Ensure that only one thread can decrement the counter at a time.</span></div>
<div class="line">      <span class="keywordflow">if</span> (interlocked::decrement(num_ops) == 0)</div>
<div class="line">        <span class="comment">// Announce to Main that in fact all thread calls are done.</span></div>
<div class="line">        ops_are_done.set();</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> un_sync_update_resource(std::any state) {</div>
<div class="line">      <span class="comment">// Call the unsynchronized method.</span></div>
<div class="line">      un_sync_res.access();</div>
<div class="line">      </div>
<div class="line">      <span class="comment">// Ensure that only one thread can decrement the counter at a time.</span></div>
<div class="line">      <span class="keywordflow">if</span> (interlocked::decrement(num_ops) == 0)</div>
<div class="line">        <span class="comment">// Announce to Main that in fact all thread calls are done.</span></div>
<div class="line">        ops_are_done.set();</div>
<div class="line">    }</div>
<div class="line">  };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="group__keywords_ga44bd440a34d147923e428eacd1c8eedd.html#ga44bd440a34d147923e428eacd1c8eedd">startup_</a>(monitor_lock_example::app::main);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// This example produces output similar to the following:</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Starting synchronized resource access on thread #6</span></div>
<div class="line"><span class="comment">// Stopping synchronized resource access on thread #6</span></div>
<div class="line"><span class="comment">// Starting synchronized resource access on thread #9</span></div>
<div class="line"><span class="comment">// Stopping synchronized resource access on thread #9</span></div>
<div class="line"><span class="comment">// Starting synchronized resource access on thread #2</span></div>
<div class="line"><span class="comment">// Stopping synchronized resource access on thread #2</span></div>
<div class="line"><span class="comment">// Starting synchronized resource access on thread #3</span></div>
<div class="line"><span class="comment">// Stopping synchronized resource access on thread #3</span></div>
<div class="line"><span class="comment">// Starting synchronized resource access on thread #8</span></div>
<div class="line"><span class="comment">// Stopping synchronized resource access on thread #8</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// All synchronized operations have completed.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Starting unsynchronized resource access on Thread #9</span></div>
<div class="line"><span class="comment">// Starting unsynchronized resource access on Thread #2</span></div>
<div class="line"><span class="comment">// Starting unsynchronized resource access on Thread #11</span></div>
<div class="line"><span class="comment">// Starting unsynchronized resource access on Thread #6</span></div>
<div class="line"><span class="comment">// Starting unsynchronized resource access on Thread #4</span></div>
<div class="line"><span class="comment">// Stopping unsynchronized resource access on thread #9</span></div>
<div class="line"><span class="comment">// Stopping unsynchronized resource access on thread #11</span></div>
<div class="line"><span class="comment">// Stopping unsynchronized resource access on thread #6</span></div>
<div class="line"><span class="comment">// Stopping unsynchronized resource access on thread #2</span></div>
<div class="line"><span class="comment">// Stopping unsynchronized resource access on thread #4</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// All unsynchronized thread operations have completed.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="ttc" id="aclassxtd_1_1object_html"><div class="ttname"><a href="classxtd_1_1object.html">xtd::object</a></div><div class="ttdoc">Supports all classes in the xtd class hierarchy and provides low-level services to derived classes....</div><div class="ttdef"><b>Definition</b> object.h:42</div></div>
<div class="ttc" id="aclassxtd_1_1threading_1_1auto__reset__event_html"><div class="ttname"><a href="classxtd_1_1threading_1_1auto__reset__event.html">xtd::threading::auto_reset_event</a></div><div class="ttdoc">Represents a thread synchronization event that, when signaled, resets automatically after releasing a...</div><div class="ttdef"><b>Definition</b> auto_reset_event.h:36</div></div>
<div class="ttc" id="aclassxtd_1_1threading_1_1wait__handle_ab53dcefc6844ecf0d6d9967ac489ac87_html_ab53dcefc6844ecf0d6d9967ac489ac87"><div class="ttname"><a href="classxtd_1_1threading_1_1wait__handle_ab53dcefc6844ecf0d6d9967ac489ac87.html#ab53dcefc6844ecf0d6d9967ac489ac87">xtd::threading::wait_handle::wait_one</a></div><div class="ttdeci">virtual bool wait_one()</div><div class="ttdoc">Blocks the current thread until the current xtd::threading::wait_handle receives a signal.</div></div>
<div class="ttc" id="agroup__keywords_gacd9906b29d877eb1eb0a8c7bc4ab774a_html_gacd9906b29d877eb1eb0a8c7bc4ab774a"><div class="ttname"><a href="group__keywords_gacd9906b29d877eb1eb0a8c7bc4ab774a.html#gacd9906b29d877eb1eb0a8c7bc4ab774a">lock_</a></div><div class="ttdeci">#define lock_(object)</div><div class="ttdoc">The lock_ keyword marks a statement block as a critical section by obtaining the mutual-exclusion loc...</div><div class="ttdef"><b>Definition</b> lock.h:85</div></div>
</div><!-- fragment --> The example defines a variable, num_ops, that defines the number of threads that will attempt to access the resource. The application thread calls the <a class="el" href="classxtd_1_1threading_1_1thread__pool_a6e1d511cd1dbe0a07b98128042118f3c.html#a6e1d511cd1dbe0a07b98128042118f3c" title="Queues a method for execution. The method executes when a thread pool thread becomes available.">xtd::threading::thread_pool::queue_user_work_item</a> method for synchronized and unsynchronized access five times each. The <a class="el" href="classxtd_1_1threading_1_1thread__pool_a6e1d511cd1dbe0a07b98128042118f3c.html#a6e1d511cd1dbe0a07b98128042118f3c" title="Queues a method for execution. The method executes when a thread pool thread becomes available.">xtd::threading::thread_pool::queue_user_work_item</a> method has a single parameter, a delegate that accepts no parameters and returns no value. For synchronized access, it invokes the sync_update_resource method; for unsynchronized access, it invokes the un_sync_update_resource method. After each set of method calls, the application thread calls the xtd::thrrading::auto_reset_event::wait_one method so that it blocks until the <a class="el" href="classxtd_1_1threading_1_1auto__reset__event.html" title="Represents a thread synchronization event that, when signaled, resets automatically after releasing a...">xtd::threading::auto_reset_event</a> instance is signaled. <br  />
<br  />
Each call to the sync_update_resource method calls the sync_resource::access method and then calls the <a class="el" href="classxtd_1_1threading_1_1interlocked_a87dc180d9e778435f75b8314c2139792.html#a87dc180d9e778435f75b8314c2139792" title="Decrements a specified variable and stores the result, as an atomic operation.">xtd::threading::interlocked::decrement</a> method to decrement the num_ops counter. The <a class="el" href="classxtd_1_1threading_1_1interlocked_a87dc180d9e778435f75b8314c2139792.html#a87dc180d9e778435f75b8314c2139792" title="Decrements a specified variable and stores the result, as an atomic operation.">xtd::threading::interlocked::decrement</a> method Is used to decrement the counter, because otherwise you cannot be certain that a second thread will access the value before a first thread's decremented value has been stored in the variable. When the last synchronized worker thread decrements the counter to zero, indicating that all synchronized threads have completed accessing the resource, the syncUpdate_resource method calls the <a class="el" href="classxtd_1_1threading_1_1event__wait__handle_a3254163aa012cb3dc8f99ff16c0c7d6c.html#a3254163aa012cb3dc8f99ff16c0c7d6c" title="Sets the state of the event to signaled, allowing one or more waiting threads to proceed.">xtd::threading::event_wait_handle::set</a> method, which signals the main thread to continue execution. <br  />
<br  />
Each call to the un_sync_update_resource method calls the un_syncResource::access method and then calls the <a class="el" href="classxtd_1_1threading_1_1interlocked_a87dc180d9e778435f75b8314c2139792.html#a87dc180d9e778435f75b8314c2139792" title="Decrements a specified variable and stores the result, as an atomic operation.">xtd::threading::interlocked::decrement</a> method to decrement the num_ops counter. Once again, the <a class="el" href="classxtd_1_1threading_1_1interlocked_a87dc180d9e778435f75b8314c2139792.html#a87dc180d9e778435f75b8314c2139792" title="Decrements a specified variable and stores the result, as an atomic operation.">xtd::threading::interlocked::decrement</a> method Is used to decrement the counter to ensure that a second thread does not access the value before a first thread's decremented value has been assigned to the variable. When the last unsynchronized worker thread decrements the counter to zero, indicating that no more unsynchronized threads need to access the resource, the un_sync_update_resource method calls the <a class="el" href="classxtd_1_1threading_1_1event__wait__handle_a3254163aa012cb3dc8f99ff16c0c7d6c.html#a3254163aa012cb3dc8f99ff16c0c7d6c" title="Sets the state of the event to signaled, allowing one or more waiting threads to proceed.">xtd::threading::event_wait_handle::set</a> method, which signals the main thread to continue execution. <br  />
<br  />
As the output from the example shows, synchronized access ensures that the calling thread exits the protected resource before another thread can access it; each thread waits on its predecessor. On the other hand, without the lock, the un_sync_resource::access method is called in the order in which threads reach it. </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The <a class="el" href="classxtd_1_1threading_1_1monitor.html" title="Provides a mechanism that synchronizes access to objects.">xtd::threading::monitor</a> class allows you to synchronize access to a region of code by taking and releasing a lock on a particular object by calling the <a class="el" href="classxtd_1_1threading_1_1monitor_afabaf5361f6d4dd04701dd1973d0a0f9.html#afabaf5361f6d4dd04701dd1973d0a0f9" title="Acquires an exclusive lock on the specified obj.">xtd::threading::monitor::enter</a>, <a class="el" href="classxtd_1_1threading_1_1monitor_a2d6c3abf3a67c1ea400c2c63002ffd1d.html#a2d6c3abf3a67c1ea400c2c63002ffd1d" title="Attempts to acquire an exclusive lock on the specified object.">xtd::threading::monitor::try_enter</a>, and <a class="el" href="classxtd_1_1threading_1_1monitor_a511fd1ffb8c451222fe4071f7a19f243.html#a511fd1ffb8c451222fe4071f7a19f243" title="Releases an exclusive lock on the specified obj.">xtd::threading::monitor::exit</a> methods. Object locks provide the ability to restrict access to a block of code, commonly called a critical section. While a thread owns the lock for an object, no other thread can acquire that lock. You can also use the <a class="el" href="classxtd_1_1threading_1_1monitor.html" title="Provides a mechanism that synchronizes access to objects.">xtd::threading::monitor</a> class to ensure that no other thread is allowed to access a section of application code being executed by the lock owner, unless the other thread is executing the code using a different locked object. Because the xtd::threading::monotor class has thread affinity, the thread that acquired a lock must release the lock by calling the xtd::threading::monotor::exit method. </dd></dl>
<dl class="section user"><dt>The xtd::threading::monitor class: An overview</dt><dd>xtd::threading::monotor has the following features:<ul>
<li>It is associated with an object on demand.</li>
<li>It is unbound, which means it can be called directly from any context.</li>
<li>An instance of the <a class="el" href="classxtd_1_1threading_1_1monitor.html" title="Provides a mechanism that synchronizes access to objects.">xtd::threading::monitor</a> class cannot be created; the methods of the <a class="el" href="classxtd_1_1threading_1_1monitor.html" title="Provides a mechanism that synchronizes access to objects.">xtd::threading::monitor</a> class are all static. Each method is passed the synchronized object that controls access to the critical section. The following table describes the actions that can be taken by threads that access synchronized objects: <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Action   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="classxtd_1_1threading_1_1monitor_afabaf5361f6d4dd04701dd1973d0a0f9.html#afabaf5361f6d4dd04701dd1973d0a0f9" title="Acquires an exclusive lock on the specified obj.">xtd::threading::monitor::enter</a>, <a class="el" href="classxtd_1_1threading_1_1monitor_a2d6c3abf3a67c1ea400c2c63002ffd1d.html#a2d6c3abf3a67c1ea400c2c63002ffd1d" title="Attempts to acquire an exclusive lock on the specified object.">xtd::threading::monitor::try_enter</a>   </td><td class="markdownTableBodyNone">Acquires a lock for an object. This action also marks the beginning of a critical section. No other thread can enter the critical section unless it is executing the instructions in the critical section using a different locked object.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="classxtd_1_1threading_1_1monitor_acd63dcb3bbf83741c9bdfe9f6d074b8d.html#acd63dcb3bbf83741c9bdfe9f6d074b8d" title="Releases the lock on an object and blocks the current thread until it reacquires the lock....">xtd::threading::monitor::wait</a>   </td><td class="markdownTableBodyNone">Releases the lock on an object in order to permit other threads to lock and access the object. The calling thread waits while another thread accesses the object. <a class="el" href="classxtd_1_1threading_1_1monitor_a02075512c6dc3fb73840910466cca815.html#a02075512c6dc3fb73840910466cca815" title="Notifies a thread in the waiting queue of a change in the locked object&#39;s state.">xtd::threading::monitor::pulse</a> signals are used to notify waiting threads about changes to an object's state.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="classxtd_1_1threading_1_1monitor_a02075512c6dc3fb73840910466cca815.html#a02075512c6dc3fb73840910466cca815" title="Notifies a thread in the waiting queue of a change in the locked object&#39;s state.">xtd::threading::monitor::pulse</a>, <a class="el" href="classxtd_1_1threading_1_1monitor_a362df17ae1c2d6e99ae2d272805c2dcb.html#a362df17ae1c2d6e99ae2d272805c2dcb" title="Notifies all waiting threads of a change in the object&#39;s state.">xtd::threading::monitor::pulse_all</a>   </td><td class="markdownTableBodyNone">Sends a signal to one or more waiting threads. The signal notifies a waiting thread that the state of the locked object has changed, and the owner of the lock is ready to release the lock. The waiting thread is placed in the object's ready queue so that it might eventually receive the lock for the object. Once the thread has the lock, it can check the new state of the object to see if the required state has been reached.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="classxtd_1_1threading_1_1monitor_a511fd1ffb8c451222fe4071f7a19f243.html#a511fd1ffb8c451222fe4071f7a19f243" title="Releases an exclusive lock on the specified obj.">xtd::threading::monitor::exit</a>   </td><td class="markdownTableBodyNone">Releases the lock on an object. This action also marks the end of a critical section protected by the locked object.   </td></tr>
</table>
There are two sets of overloads for the <a class="el" href="classxtd_1_1threading_1_1monitor_afabaf5361f6d4dd04701dd1973d0a0f9.html#afabaf5361f6d4dd04701dd1973d0a0f9" title="Acquires an exclusive lock on the specified obj.">xtd::threading::monitor::enter</a> and <a class="el" href="classxtd_1_1threading_1_1monitor_a2d6c3abf3a67c1ea400c2c63002ffd1d.html#a2d6c3abf3a67c1ea400c2c63002ffd1d" title="Attempts to acquire an exclusive lock on the specified object.">xtd::threading::monitor::try_enter</a> methods. One set of overloads has a boolean parameter that is atomically set to true if the lock is acquired, even if an exception is thrown when acquiring the lock. Use these overloads if it is critical to release the lock in all cases, even when the resources the lock is protecting might not be in a consistent state. </li>
</ul>
</dd></dl>
<dl class="section user"><dt>The lock object</dt><dd>The <a class="el" href="classxtd_1_1threading_1_1monitor.html" title="Provides a mechanism that synchronizes access to objects.">xtd::threading::monitor</a> class consists of static methods that operate on an object that controls access to the critical section. The following information is maintained for each synchronized object:<ul>
<li>A reference to the thread that currently holds the lock.</li>
<li>A reference to a ready queue, which contains the threads that are ready to obtain the lock.</li>
<li>A reference to a waiting queue, which contains the threads that are waiting for notification of a change in the state of the locked object. </li>
</ul>
</dd></dl>
<dl class="section user"><dt>The critical section</dt><dd>Use the <a class="el" href="classxtd_1_1threading_1_1monitor_afabaf5361f6d4dd04701dd1973d0a0f9.html#afabaf5361f6d4dd04701dd1973d0a0f9" title="Acquires an exclusive lock on the specified obj.">xtd::threading::monitor::enter</a> and <a class="el" href="classxtd_1_1threading_1_1monitor_a511fd1ffb8c451222fe4071f7a19f243.html#a511fd1ffb8c451222fe4071f7a19f243" title="Releases an exclusive lock on the specified obj.">xtd::threading::monitor::exit</a> methods to mark the beginning and end of a critical section. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The functionality provided by the <a class="el" href="classxtd_1_1threading_1_1monitor_afabaf5361f6d4dd04701dd1973d0a0f9.html#afabaf5361f6d4dd04701dd1973d0a0f9" title="Acquires an exclusive lock on the specified obj.">xtd::threading::monitor::enter</a> and <a class="el" href="classxtd_1_1threading_1_1monitor_a511fd1ffb8c451222fe4071f7a19f243.html#a511fd1ffb8c451222fe4071f7a19f243" title="Releases an exclusive lock on the specified obj.">xtd::threading::monitor::exit</a> methods is identical to that provided by the <a class="el" href="classxtd_1_1threading_1_1lock__guard.html" title="Provides a mechanism that synchronizes access to objects with xtd::threading::monitor.">xtd::threading::lock_guard</a> object and the <a class="el" href="group__keywords_gacd9906b29d877eb1eb0a8c7bc4ab774a.html#gacd9906b29d877eb1eb0a8c7bc4ab774a" title="The lock_ keyword marks a statement block as a critical section by obtaining the mutual-exclusion loc...">lock_</a> keyword, except that with the xtd class: :<a class="el" href="classxtd_1_1threading_1_1lock__guard.html" title="Provides a mechanism that synchronizes access to objects with xtd::threading::monitor.">threading::lock_guard</a> class and the <a class="el" href="group__keywords_gacd9906b29d877eb1eb0a8c7bc4ab774a.html#gacd9906b29d877eb1eb0a8c7bc4ab774a" title="The lock_ keyword marks a statement block as a critical section by obtaining the mutual-exclusion loc...">lock_</a> keyword, the <a class="el" href="classxtd_1_1threading_1_1monitor_afabaf5361f6d4dd04701dd1973d0a0f9.html#afabaf5361f6d4dd04701dd1973d0a0f9" title="Acquires an exclusive lock on the specified obj.">xtd::threading::monitor::enter</a> method and the <a class="el" href="classxtd_1_1threading_1_1monitor_a511fd1ffb8c451222fe4071f7a19f243.html#a511fd1ffb8c451222fe4071f7a19f243" title="Releases an exclusive lock on the specified obj.">xtd::threading::monitor::exit</a> method are always called, even if an exception has occurred. </dd>
<dd>
It is therefore advisable to use the <a class="el" href="classxtd_1_1threading_1_1lock__guard.html" title="Provides a mechanism that synchronizes access to objects with xtd::threading::monitor.">xtd::threading::lock_guard</a> class or the <a class="el" href="group__keywords_gacd9906b29d877eb1eb0a8c7bc4ab774a.html#gacd9906b29d877eb1eb0a8c7bc4ab774a" title="The lock_ keyword marks a statement block as a critical section by obtaining the mutual-exclusion loc...">lock_</a> keyword instead of calling the <a class="el" href="classxtd_1_1threading_1_1monitor_afabaf5361f6d4dd04701dd1973d0a0f9.html#afabaf5361f6d4dd04701dd1973d0a0f9" title="Acquires an exclusive lock on the specified obj.">xtd::threading::monitor::enter</a> and <a class="el" href="classxtd_1_1threading_1_1monitor_a511fd1ffb8c451222fe4071f7a19f243.html#a511fd1ffb8c451222fe4071f7a19f243" title="Releases an exclusive lock on the specified obj.">xtd::threading::monitor::exit</a> methods, to ensure that no critical sections remain in the <a class="el" href="classxtd_1_1threading_1_1monitor.html" title="Provides a mechanism that synchronizes access to objects.">xtd::threading::monitor</a> class. </dd></dl>
<dl class="section user"><dt></dt><dd>The folowing code shows the use use of xtd:threading::<a class="el" href="classxtd_1_1threading_1_1monitor_afabaf5361f6d4dd04701dd1973d0a0f9.html#afabaf5361f6d4dd04701dd1973d0a0f9" title="Acquires an exclusive lock on the specified obj.">monitor::enter</a> and xtd:threading::<a class="el" href="classxtd_1_1threading_1_1monitor_a511fd1ffb8c451222fe4071f7a19f243.html#a511fd1ffb8c451222fe4071f7a19f243" title="Releases an exclusive lock on the specified obj.">monitor::exit</a> when an exception occured : <div class="fragment"><div class="line"><span class="comment">// Define the lock object.</span></div>
<div class="line"><span class="keyword">auto</span> obj = <span class="keywordtype">object</span> {};</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">  <span class="comment">// Define the critical section.</span></div>
<div class="line">  <a class="code hl_function" href="classxtd_1_1threading_1_1monitor_afabaf5361f6d4dd04701dd1973d0a0f9.html#afabaf5361f6d4dd04701dd1973d0a0f9">monitor::enter</a>(obj);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Code to execute one thread at a time.</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Define the end of the critical section.</span></div>
<div class="line">  <a class="code hl_function" href="classxtd_1_1threading_1_1monitor_a511fd1ffb8c451222fe4071f7a19f243.html#a511fd1ffb8c451222fe4071f7a19f243">monitor::exit</a>(obj);</div>
<div class="line">} <span class="keywordflow">catch</span>(...) {</div>
<div class="line">  <span class="comment">// You also need to define the end of the critical section.</span></div>
<div class="line">  <a class="code hl_function" href="classxtd_1_1threading_1_1monitor_a511fd1ffb8c451222fe4071f7a19f243.html#a511fd1ffb8c451222fe4071f7a19f243">monitor::exit</a>(obj);</div>
<div class="line">}</div>
<div class="ttc" id="aclassxtd_1_1threading_1_1monitor_a511fd1ffb8c451222fe4071f7a19f243_html_a511fd1ffb8c451222fe4071f7a19f243"><div class="ttname"><a href="classxtd_1_1threading_1_1monitor_a511fd1ffb8c451222fe4071f7a19f243.html#a511fd1ffb8c451222fe4071f7a19f243">xtd::threading::monitor::exit</a></div><div class="ttdeci">static void exit(const object_t &amp;obj)</div><div class="ttdoc">Releases an exclusive lock on the specified obj.</div><div class="ttdef"><b>Definition</b> monitor.h:176</div></div>
<div class="ttc" id="aclassxtd_1_1threading_1_1monitor_afabaf5361f6d4dd04701dd1973d0a0f9_html_afabaf5361f6d4dd04701dd1973d0a0f9"><div class="ttname"><a href="classxtd_1_1threading_1_1monitor_afabaf5361f6d4dd04701dd1973d0a0f9.html#afabaf5361f6d4dd04701dd1973d0a0f9">xtd::threading::monitor::enter</a></div><div class="ttdeci">static void enter(const object_t &amp;obj)</div><div class="ttdoc">Acquires an exclusive lock on the specified obj.</div><div class="ttdef"><b>Definition</b> monitor.h:146</div></div>
</div><!-- fragment --> <br  />
The same code with the <a class="el" href="classxtd_1_1threading_1_1lock__guard.html" title="Provides a mechanism that synchronizes access to objects with xtd::threading::monitor.">xtd::threading::lock_guard</a> class : <div class="fragment"><div class="line"><span class="comment">// Define the lock object.</span></div>
<div class="line"><span class="keyword">auto</span> obj = <span class="keywordtype">object</span> {};</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">  <span class="comment">// Define the critical section.</span></div>
<div class="line">  <a class="code hl_class" href="classxtd_1_1threading_1_1lock__guard.html">lock_guard</a> <a class="code hl_class" href="classxtd_1_1threading_1_1lock__guard.html">lock</a> {obj};</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Code to execute one thread at a time.</span></div>
<div class="line"> </div>
<div class="line">} <span class="keywordflow">catch</span>(...) {</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="ttc" id="aclassxtd_1_1threading_1_1lock__guard_html"><div class="ttname"><a href="classxtd_1_1threading_1_1lock__guard.html">xtd::threading::lock_guard</a></div><div class="ttdoc">Provides a mechanism that synchronizes access to objects with xtd::threading::monitor.</div><div class="ttdef"><b>Definition</b> lock_guard.h:32</div></div>
</div><!-- fragment --> <br  />
The same code with the <a class="el" href="group__keywords_gacd9906b29d877eb1eb0a8c7bc4ab774a.html#gacd9906b29d877eb1eb0a8c7bc4ab774a" title="The lock_ keyword marks a statement block as a critical section by obtaining the mutual-exclusion loc...">lock_</a> keyword : <div class="fragment"><div class="line"><span class="comment">// Define the lock object.</span></div>
<div class="line"><span class="keyword">auto</span> obj = <span class="keywordtype">object</span> {};</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">  <span class="comment">// Define the critical section.</span></div>
<div class="line">  <a class="code hl_define" href="group__keywords_gacd9906b29d877eb1eb0a8c7bc4ab774a.html#gacd9906b29d877eb1eb0a8c7bc4ab774a">lock_</a>(obj) {</div>
<div class="line">    <span class="comment">// Code to execute one thread at a time.</span></div>
<div class="line">  }</div>
<div class="line">} <span class="keywordflow">catch</span>(...) {</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>pulse, pulse_all, and wait</dt><dd>Once a thread owns the lock and has entered the critical section that the lock protects, it can call the <a class="el" href="classxtd_1_1threading_1_1monitor_acd63dcb3bbf83741c9bdfe9f6d074b8d.html#acd63dcb3bbf83741c9bdfe9f6d074b8d" title="Releases the lock on an object and blocks the current thread until it reacquires the lock....">xtd::threading::monitor::wait</a>, <a class="el" href="classxtd_1_1threading_1_1monitor_a02075512c6dc3fb73840910466cca815.html#a02075512c6dc3fb73840910466cca815" title="Notifies a thread in the waiting queue of a change in the locked object&#39;s state.">xtd::threading::monitor::pulse</a>, and <a class="el" href="classxtd_1_1threading_1_1monitor_a362df17ae1c2d6e99ae2d272805c2dcb.html#a362df17ae1c2d6e99ae2d272805c2dcb" title="Notifies all waiting threads of a change in the object&#39;s state.">xtd::threading::monitor::pulse_all</a> methods. <br  />
<br  />
When the thread that holds the lock calls <a class="el" href="classxtd_1_1threading_1_1monitor_acd63dcb3bbf83741c9bdfe9f6d074b8d.html#acd63dcb3bbf83741c9bdfe9f6d074b8d" title="Releases the lock on an object and blocks the current thread until it reacquires the lock....">xtd::threading::monitor::wait</a>, the lock is released and the thread is added to the waiting queue of the synchronized object. The first thread in the ready queue, if any, acquires the lock and enters the critical section. The thread that called Wait is moved from the waiting queue to the ready queue when either the <a class="el" href="classxtd_1_1threading_1_1monitor_a02075512c6dc3fb73840910466cca815.html#a02075512c6dc3fb73840910466cca815" title="Notifies a thread in the waiting queue of a change in the locked object&#39;s state.">xtd::threading::monitor::pulse</a> or the <a class="el" href="classxtd_1_1threading_1_1monitor_a362df17ae1c2d6e99ae2d272805c2dcb.html#a362df17ae1c2d6e99ae2d272805c2dcb" title="Notifies all waiting threads of a change in the object&#39;s state.">xtd::threading::monitor::pulse_all</a> method is called by the thread that holds the lock (to be moved, the thread must be at the head of the waiting queue). The <a class="el" href="classxtd_1_1threading_1_1monitor_acd63dcb3bbf83741c9bdfe9f6d074b8d.html#acd63dcb3bbf83741c9bdfe9f6d074b8d" title="Releases the lock on an object and blocks the current thread until it reacquires the lock....">xtd::threading::monitor::wait</a> method returns when the calling thread reacquires the lock. <br  />
<br  />
When the thread that holds the lock calls <a class="el" href="classxtd_1_1threading_1_1monitor_a02075512c6dc3fb73840910466cca815.html#a02075512c6dc3fb73840910466cca815" title="Notifies a thread in the waiting queue of a change in the locked object&#39;s state.">xtd::threading::monitor::pulse</a>, the thread at the head of the waiting queue is moved to the ready queue. The call to the <a class="el" href="classxtd_1_1threading_1_1monitor_a362df17ae1c2d6e99ae2d272805c2dcb.html#a362df17ae1c2d6e99ae2d272805c2dcb" title="Notifies all waiting threads of a change in the object&#39;s state.">xtd::threading::monitor::pulse_all</a> method moves all the threads from the waiting queue to the ready queue. </dd></dl>
<dl class="section user"><dt>Monitors and wait handles</dt><dd>It is important to note the distinction between the use of the <a class="el" href="classxtd_1_1threading_1_1monitor.html" title="Provides a mechanism that synchronizes access to objects.">xtd::threading::monitor</a> class and <a class="el" href="classxtd_1_1threading_1_1wait__handle.html" title="Encapsulates operating system specific objects that wait for exclusive access to shared resources.">xtd::threading::wait_handle</a> objects.<ul>
<li>The <a class="el" href="classxtd_1_1threading_1_1monitor.html" title="Provides a mechanism that synchronizes access to objects.">xtd::threading::monitor</a> class is purely managed, fully portable, and might be more efficient in terms of operating-system resource requirements.</li>
<li><a class="el" href="classxtd_1_1threading_1_1wait__handle.html" title="Encapsulates operating system specific objects that wait for exclusive access to shared resources.">xtd::threading::wait_handle</a> objects represent operating-system waitable objects, are useful for synchronizing between managed and unmanaged code, and expose some advanced operating-system features like the ability to wait on many objects at once. </li>
</ul>
</dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Public Static Methods</h2></td></tr>
<tr class="memitem:afabaf5361f6d4dd04701dd1973d0a0f9"><td class="memTemplParams" colspan="2">template&lt;typename object_t &gt; </td></tr>
<tr class="memitem:afabaf5361f6d4dd04701dd1973d0a0f9"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1monitor_afabaf5361f6d4dd04701dd1973d0a0f9.html#afabaf5361f6d4dd04701dd1973d0a0f9">enter</a> (const object_t &amp;obj)</td></tr>
<tr class="memdesc:afabaf5361f6d4dd04701dd1973d0a0f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquires an exclusive lock on the specified obj.  <br /></td></tr>
<tr class="separator:afabaf5361f6d4dd04701dd1973d0a0f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afad2ab8bb155091207b7d5ad4ff1280c"><td class="memTemplParams" colspan="2">template&lt;typename object_t &gt; </td></tr>
<tr class="memitem:afad2ab8bb155091207b7d5ad4ff1280c"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1monitor_afad2ab8bb155091207b7d5ad4ff1280c.html#afad2ab8bb155091207b7d5ad4ff1280c">enter</a> (const object_t &amp;obj, bool &amp;lock_taken)</td></tr>
<tr class="memdesc:afad2ab8bb155091207b7d5ad4ff1280c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquires an exclusive lock on the specified obj.  <br /></td></tr>
<tr class="separator:afad2ab8bb155091207b7d5ad4ff1280c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a511fd1ffb8c451222fe4071f7a19f243"><td class="memTemplParams" colspan="2">template&lt;typename object_t &gt; </td></tr>
<tr class="memitem:a511fd1ffb8c451222fe4071f7a19f243"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1monitor_a511fd1ffb8c451222fe4071f7a19f243.html#a511fd1ffb8c451222fe4071f7a19f243">exit</a> (const object_t &amp;obj)</td></tr>
<tr class="memdesc:a511fd1ffb8c451222fe4071f7a19f243"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases an exclusive lock on the specified obj.  <br /></td></tr>
<tr class="separator:a511fd1ffb8c451222fe4071f7a19f243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53bbf98eb3c316c3ca6db252d41ff57e"><td class="memTemplParams" colspan="2">template&lt;typename object_t &gt; </td></tr>
<tr class="memitem:a53bbf98eb3c316c3ca6db252d41ff57e"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1monitor_a53bbf98eb3c316c3ca6db252d41ff57e.html#a53bbf98eb3c316c3ca6db252d41ff57e">is_entered</a> (const object_t &amp;obj)</td></tr>
<tr class="memdesc:a53bbf98eb3c316c3ca6db252d41ff57e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether the current thread holds the lock on the specified object.  <br /></td></tr>
<tr class="separator:a53bbf98eb3c316c3ca6db252d41ff57e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02075512c6dc3fb73840910466cca815"><td class="memTemplParams" colspan="2">template&lt;typename object_t &gt; </td></tr>
<tr class="memitem:a02075512c6dc3fb73840910466cca815"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1monitor_a02075512c6dc3fb73840910466cca815.html#a02075512c6dc3fb73840910466cca815">pulse</a> (const object_t &amp;obj)</td></tr>
<tr class="memdesc:a02075512c6dc3fb73840910466cca815"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies a thread in the waiting queue of a change in the locked object's state.  <br /></td></tr>
<tr class="separator:a02075512c6dc3fb73840910466cca815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a362df17ae1c2d6e99ae2d272805c2dcb"><td class="memTemplParams" colspan="2">template&lt;typename object_t &gt; </td></tr>
<tr class="memitem:a362df17ae1c2d6e99ae2d272805c2dcb"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1monitor_a362df17ae1c2d6e99ae2d272805c2dcb.html#a362df17ae1c2d6e99ae2d272805c2dcb">pulse_all</a> (const object_t &amp;obj)</td></tr>
<tr class="memdesc:a362df17ae1c2d6e99ae2d272805c2dcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies all waiting threads of a change in the object's state.  <br /></td></tr>
<tr class="separator:a362df17ae1c2d6e99ae2d272805c2dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d6c3abf3a67c1ea400c2c63002ffd1d"><td class="memTemplParams" colspan="2">template&lt;typename object_t &gt; </td></tr>
<tr class="memitem:a2d6c3abf3a67c1ea400c2c63002ffd1d"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1monitor_a2d6c3abf3a67c1ea400c2c63002ffd1d.html#a2d6c3abf3a67c1ea400c2c63002ffd1d">try_enter</a> (const object_t &amp;obj) noexcept</td></tr>
<tr class="memdesc:a2d6c3abf3a67c1ea400c2c63002ffd1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to acquire an exclusive lock on the specified object.  <br /></td></tr>
<tr class="separator:a2d6c3abf3a67c1ea400c2c63002ffd1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbb3e78c724e33a7573d95e7c262961e"><td class="memTemplParams" colspan="2">template&lt;typename object_t &gt; </td></tr>
<tr class="memitem:afbb3e78c724e33a7573d95e7c262961e"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1monitor_afbb3e78c724e33a7573d95e7c262961e.html#afbb3e78c724e33a7573d95e7c262961e">try_enter</a> (const object_t &amp;obj, bool &amp;lock_taken) noexcept</td></tr>
<tr class="memdesc:afbb3e78c724e33a7573d95e7c262961e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to acquire an exclusive lock on the specified object.  <br /></td></tr>
<tr class="separator:afbb3e78c724e33a7573d95e7c262961e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e596d515e48f52e357ee7b87b258048"><td class="memTemplParams" colspan="2">template&lt;typename object_t &gt; </td></tr>
<tr class="memitem:a7e596d515e48f52e357ee7b87b258048"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1monitor_a7e596d515e48f52e357ee7b87b258048.html#a7e596d515e48f52e357ee7b87b258048">try_enter</a> (const object_t &amp;obj, <a class="el" href="group__types_ga205462e259a4eca1545511085c2c350e.html#ga205462e259a4eca1545511085c2c350e">int32</a> milliseconds_timeout) noexcept</td></tr>
<tr class="memdesc:a7e596d515e48f52e357ee7b87b258048"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts, for the specified number of milliseconds, to acquire an exclusive lock on the specified object.  <br /></td></tr>
<tr class="separator:a7e596d515e48f52e357ee7b87b258048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ebb588113749b4905385f1c40b8b383"><td class="memTemplParams" colspan="2">template&lt;typename object_t &gt; </td></tr>
<tr class="memitem:a3ebb588113749b4905385f1c40b8b383"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1monitor_a3ebb588113749b4905385f1c40b8b383.html#a3ebb588113749b4905385f1c40b8b383">try_enter</a> (const object_t &amp;obj, <a class="el" href="group__types_ga205462e259a4eca1545511085c2c350e.html#ga205462e259a4eca1545511085c2c350e">int32</a> milliseconds_timeout, bool &amp;lock_taken) noexcept</td></tr>
<tr class="memdesc:a3ebb588113749b4905385f1c40b8b383"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts, for the specified number of milliseconds, to acquire an exclusive lock on the specified object.  <br /></td></tr>
<tr class="separator:a3ebb588113749b4905385f1c40b8b383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd6f9c0d2fb7cd11d4fad2c1750a1bb7"><td class="memTemplParams" colspan="2">template&lt;typename object_t &gt; </td></tr>
<tr class="memitem:afd6f9c0d2fb7cd11d4fad2c1750a1bb7"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1monitor_afd6f9c0d2fb7cd11d4fad2c1750a1bb7.html#afd6f9c0d2fb7cd11d4fad2c1750a1bb7">try_enter</a> (const object_t &amp;obj, <a class="el" href="group__types_ga2f2888f55e58cac4c07eb490db7868c4.html#ga2f2888f55e58cac4c07eb490db7868c4">int64</a> milliseconds_timeout) noexcept</td></tr>
<tr class="memdesc:afd6f9c0d2fb7cd11d4fad2c1750a1bb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts, for the specified number of milliseconds, to acquire an exclusive lock on the specified object.  <br /></td></tr>
<tr class="separator:afd6f9c0d2fb7cd11d4fad2c1750a1bb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bbf60d0c81756e2c34d1dc5336dc31c"><td class="memTemplParams" colspan="2">template&lt;typename object_t &gt; </td></tr>
<tr class="memitem:a2bbf60d0c81756e2c34d1dc5336dc31c"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1monitor_a2bbf60d0c81756e2c34d1dc5336dc31c.html#a2bbf60d0c81756e2c34d1dc5336dc31c">try_enter</a> (const object_t &amp;obj, <a class="el" href="group__types_ga2f2888f55e58cac4c07eb490db7868c4.html#ga2f2888f55e58cac4c07eb490db7868c4">int64</a> milliseconds_timeout, bool &amp;lock_taken) noexcept</td></tr>
<tr class="memdesc:a2bbf60d0c81756e2c34d1dc5336dc31c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts, for the specified number of milliseconds, to acquire an exclusive lock on the specified object.  <br /></td></tr>
<tr class="separator:a2bbf60d0c81756e2c34d1dc5336dc31c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f9c4422ca36bc1af1de59aa68c5e795"><td class="memTemplParams" colspan="2">template&lt;typename object_t &gt; </td></tr>
<tr class="memitem:a2f9c4422ca36bc1af1de59aa68c5e795"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1monitor_a2f9c4422ca36bc1af1de59aa68c5e795.html#a2f9c4422ca36bc1af1de59aa68c5e795">try_enter</a> (const object_t &amp;obj, const <a class="el" href="structxtd_1_1time__span.html">time_span</a> &amp;<a class="el" href="classxtd_1_1threading_1_1timeout.html">timeout</a>) noexcept</td></tr>
<tr class="memdesc:a2f9c4422ca36bc1af1de59aa68c5e795"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts, for the specified amount of time, to acquire an exclusive lock on the specified object.  <br /></td></tr>
<tr class="separator:a2f9c4422ca36bc1af1de59aa68c5e795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa02a91612d5aff072456943c35716549"><td class="memTemplParams" colspan="2">template&lt;typename object_t &gt; </td></tr>
<tr class="memitem:aa02a91612d5aff072456943c35716549"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1monitor_aa02a91612d5aff072456943c35716549.html#aa02a91612d5aff072456943c35716549">try_enter</a> (const object_t &amp;obj, const <a class="el" href="structxtd_1_1time__span.html">time_span</a> &amp;<a class="el" href="classxtd_1_1threading_1_1timeout.html">timeout</a>, bool &amp;lock_taken) noexcept</td></tr>
<tr class="memdesc:aa02a91612d5aff072456943c35716549"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts, for the specified amount of time, to acquire an exclusive lock on the specified object.  <br /></td></tr>
<tr class="separator:aa02a91612d5aff072456943c35716549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd63dcb3bbf83741c9bdfe9f6d074b8d"><td class="memTemplParams" colspan="2">template&lt;typename object_t &gt; </td></tr>
<tr class="memitem:acd63dcb3bbf83741c9bdfe9f6d074b8d"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1monitor_acd63dcb3bbf83741c9bdfe9f6d074b8d.html#acd63dcb3bbf83741c9bdfe9f6d074b8d">wait</a> (const object_t &amp;obj, <a class="el" href="group__types_ga205462e259a4eca1545511085c2c350e.html#ga205462e259a4eca1545511085c2c350e">int32</a> milliseconds_timeout)</td></tr>
<tr class="memdesc:acd63dcb3bbf83741c9bdfe9f6d074b8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the lock on an object and blocks the current thread until it reacquires the lock. If the specified time-out interval elapses, the thread enters the ready queue.  <br /></td></tr>
<tr class="separator:acd63dcb3bbf83741c9bdfe9f6d074b8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e7c9a4617cb310ee2027ffa125f3021"><td class="memTemplParams" colspan="2">template&lt;typename object_t &gt; </td></tr>
<tr class="memitem:a3e7c9a4617cb310ee2027ffa125f3021"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1monitor_a3e7c9a4617cb310ee2027ffa125f3021.html#a3e7c9a4617cb310ee2027ffa125f3021">wait</a> (const object_t &amp;obj, const <a class="el" href="structxtd_1_1time__span.html">time_span</a> &amp;<a class="el" href="classxtd_1_1threading_1_1timeout.html">timeout</a>)</td></tr>
<tr class="memdesc:a3e7c9a4617cb310ee2027ffa125f3021"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the lock on an object and blocks the current thread until it reacquires the lock. If the specified time-out interval elapses, the thread enters the ready queue.  <br /></td></tr>
<tr class="separator:a3e7c9a4617cb310ee2027ffa125f3021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e3a658dbdaf189b220095f17a1f3acd"><td class="memTemplParams" colspan="2">template&lt;typename object_t &gt; </td></tr>
<tr class="memitem:a3e3a658dbdaf189b220095f17a1f3acd"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1monitor_a3e3a658dbdaf189b220095f17a1f3acd.html#a3e3a658dbdaf189b220095f17a1f3acd">wait</a> (const object_t &amp;obj)</td></tr>
<tr class="memdesc:a3e3a658dbdaf189b220095f17a1f3acd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the lock on an object and blocks the current thread until it reacquires the lock.  <br /></td></tr>
<tr class="separator:a3e3a658dbdaf189b220095f17a1f3acd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>xtd.core/include/xtd/threading/<a class="el" href="monitor_8h_source.html">monitor.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacextd.html">xtd</a></li><li class="navelem"><a class="el" href="namespacextd_1_1threading.html">threading</a></li><li class="navelem"><a class="el" href="classxtd_1_1threading_1_1monitor.html">monitor</a></li>
		<li class="footer">Generated on Tue Sep 3 2024 22:11:57 for xtd by <a href="https://gammasoft71.wixsite.com/gammasoft">Gammasoft</a>. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
