<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<title>xtd: xtd::net::sockets::socket::accept_async</title>
    <link href="favicon.png" rel="shortcut icon" type="image/png"/>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom_images.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
    <script type="text/javascript"> DoxygenAwesomeDarkModeToggle.init() </script>
	</head>
	<body>
  <div id="page_container">
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
      <table cellspacing="0" cellpadding="0" style="width: 100%;">
				<tbody>
					<tr>
						<td id="projectlogo">
						  <a href="https://gammasoft71.github.io/xtd/" target="_new">
						    <img alt="Logo" src="xtd_doxygen.png"/>
						  </a>
						</td>
						<td id="projectalign" style="padding-left: 0.5em; text-align: right;">
							<div id="projectname">xtd
								<span id="projectnumber">0.2.0</span>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classxtd_1_1net_1_1sockets_1_1socket_a23b63649d41275359b475ef60c279cf5.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="contents">
<a id="a23b63649d41275359b475ef60c279cf5" name="a23b63649d41275359b475ef60c279cf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23b63649d41275359b475ef60c279cf5">&#9670;&#160;</a></span>accept_async()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool xtd::net::sockets::socket::accept_async </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classxtd_1_1net_1_1sockets_1_1socket__async__event__args.html">xtd::net::sockets::socket_async_event_args</a> &amp;&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begins an asynchronous operation to accept an incoming connection attempt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>The xtd::net::sockets::socket::socket_async_event_args object to use for this asynchronous socket operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the I/O operation is pending. The Completed event on the e parameter will be raised upon completion of the operation. false if the I/O operation completed synchronously. The Completed event on the e parameter will not be raised and the e object passed as a parameter may be examined immediately after the method call returns to retrieve the result of the operation. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classxtd_1_1net_1_1sockets_1_1socket__exception.html" title="The exception that is thrown when a socket error occurs.">xtd::net::sockets::socket_exception</a></td><td>An error occurred when attempting to access the socket. </td></tr>
    <tr><td class="paramname"><a class="el" href="classxtd_1_1object__closed__exception.html" title="The exception that is thrown when one of the arguments provided to a method is not valid.">xtd::object_closed_exception</a></td><td>The <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket.html" title="Implements the Berkeley sockets interface.">xtd::net::sockets::socket</a> has been closed. </td></tr>
    <tr><td class="paramname"><a class="el" href="classxtd_1_1argument__exception.html" title="The exception that is thrown when one of the arguments provided to a method is not valid.">xtd::argument_exception</a></td><td>An argument is not valid. This exception occurs if the buffer provided is not large enough. The buffer must be at least 2 * (sizeof(SOCKADDR_STORAGE + 16) bytes. This exception also occurs if multiple buffers are specified, the xtd::net::sockets::socket_async_event_args::buffer_list property is not empty. </td></tr>
    <tr><td class="paramname"><a class="el" href="classxtd_1_1invalid__operation__exception.html" title="The exception that is thrown when a method call is invalid for the object&#39;s current state.">xtd::invalid_operation_exception</a></td><td>The accepting socket is not listening for connections. You must call <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket_a0440f747b3ca6415815e92b700f0b559.html#a0440f747b3ca6415815e92b700f0b559" title="Associates a xtd::net::sockets::socket with a local endpoint.">xtd::net::sockets::socket::bind</a> and <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket_a4e865b46d21f61a07ffb02e984b5bcfd.html#a4e865b46d21f61a07ffb02e984b5bcfd" title="Places a xtd::net::sockets::socket in a listening state.">xtd::net::sockets::socket::listen</a> before calling <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket_a8f290158d500c5096b6f2206050afdc2.html#a8f290158d500c5096b6f2206050afdc2" title="Creates a new xtd::net::sockets::socket for a newly created connection.">xtd::net::sockets::socket::accept()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Connection-oriented protocols can use the <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket_a23b63649d41275359b475ef60c279cf5.html#a23b63649d41275359b475ef60c279cf5" title="Begins an asynchronous operation to accept an incoming connection attempt.">xtd::net::sockets::socket::accept_async</a> method to asynchronously process incoming connection attempts. Accepting connections asynchronously gives you the ability to send and receive data within a separate execution thread. Before calling the <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket_a23b63649d41275359b475ef60c279cf5.html#a23b63649d41275359b475ef60c279cf5" title="Begins an asynchronous operation to accept an incoming connection attempt.">xtd::net::sockets::socket::accept_async</a> method, you must call the <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket_a4e865b46d21f61a07ffb02e984b5bcfd.html#a4e865b46d21f61a07ffb02e984b5bcfd" title="Places a xtd::net::sockets::socket in a listening state.">xtd::net::sockets::socket::listen</a> method to listen for and queue incoming connection requests. </dd>
<dd>
To be notified of completion, you must create a callback method that implements the xtd::delegate&lt;const xtd::net::sockets::socket_async_event_args&amp;&gt; delegate and hook it to the <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket__async__event__args_a65c79e79a22401e10029936fee2c239d.html#a65c79e79a22401e10029936fee2c239d" title="The event used to complete an asynchronous operation.">xtd::net::sockets::socket_async_event_args::completed</a> event. </dd>
<dd>
The following properties and events on the <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket__async__event__args.html" title="Represents an asynchronous socket operation.">xtd::net::sockets::socket_async_event_args</a> object are required:<ul>
<li><a class="el" href="classxtd_1_1net_1_1sockets_1_1socket__async__event__args_a65c79e79a22401e10029936fee2c239d.html#a65c79e79a22401e10029936fee2c239d" title="The event used to complete an asynchronous operation.">xtd::net::sockets::socket_async_event_args::completed</a> </li>
</ul>
</dd>
<dd>
The caller can optionally specify an existing <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket.html" title="Implements the Berkeley sockets interface.">xtd::net::sockets::socket</a> to use for the incoming connection by specifying the <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket.html" title="Implements the Berkeley sockets interface.">xtd::net::sockets::socket</a> to use with the xtd::net::sockets::socket_async_eventArgs::accept_socket property. </dd>
<dd>
If the <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket__async__event__args_a6e4a76dd4371da9f79a0527d2d654251.html#a6e4a76dd4371da9f79a0527d2d654251" title="Gets the socket to use or the socket created for accepting a connection with an asynchronous socket m...">xtd::net::sockets::socket_async_event_args::accept_socket</a> property is empty, a new <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket.html" title="Implements the Berkeley sockets interface.">xtd::net::sockets::socket</a> is constructed with the same <a class="el" href="group__xtd__core_ga5c7a488efbbc9c766286c1485399aef3.html#ga5c7a488efbbc9c766286c1485399aef3" title="Specifies the addressing scheme that an instance of the xtd::net::sockets::socket class can use.">xtd::net::sockets::address_family</a>, <a class="el" href="group__xtd__core_gaf6de7ef4df1f6e61afe1a90c441b6598.html#gaf6de7ef4df1f6e61afe1a90c441b6598" title="Specifies the type of socket that an instance of the xtd::net::sockets::socket class represents.">xtd::net::sockets::socket_type</a>, and <a class="el" href="group__xtd__core_gac4690c745045463d3c96d043878cc1e3.html#gac4690c745045463d3c96d043878cc1e3" title="Specifies the protocols that the xtd::net::sockets::socket class supports.">xtd::net::sockets::protocol_type</a> as the current <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket.html" title="Implements the Berkeley sockets interface.">xtd::net::sockets::socket</a> and set as the <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket__async__event__args_a6e4a76dd4371da9f79a0527d2d654251.html#a6e4a76dd4371da9f79a0527d2d654251" title="Gets the socket to use or the socket created for accepting a connection with an asynchronous socket m...">xtd::net::sockets::socket_async_event_args::accept_socket</a> property. </dd>
<dd>
The caller may set the xtd::net::sockets::socket_async_event_args::user_token property to any user state object desired before calling the <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket_a23b63649d41275359b475ef60c279cf5.html#a23b63649d41275359b475ef60c279cf5" title="Begins an asynchronous operation to accept an incoming connection attempt.">xtd::net::sockets::socket::accept_async</a> method, so that the information will be retrievable in the callback method. If the callback needs more information than a single object, a small class can be created to hold the other required state information as members. </dd>
<dd>
Optionally, a buffer may be provided in which to receive the initial block of data on the socket after the xtd::net::sockets::socket::connect_async method succeeds. In this case, the <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket__async__event__args_a2d8f1ec488f8c1de88968c488493c7f1.html#a2d8f1ec488f8c1de88968c488493c7f1" title="Gets the data buffer to use with an asynchronous socket method.">xtd::net::sockets::socket_async_event_args::buffer</a> property needs to be set to the buffer containing the data to receive and the xtd::net::sockets::socket_async_event_args::count property needs to be set to the maximum number of bytes of data to receive in the buffer. These properties can be set using the <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket__async__event__args_ae970317d128d919ad058ddab18ffd76f.html#ae970317d128d919ad058ddab18ffd76f" title="Sets the region of memory to use as a buffer with an asynchronous socket method.">xtd::net::sockets::socket_async_event_args::set_buffer</a> method. Part of the buffer passed in will be consumed internally for use by the underlying Winsock AcceptEx call. This means that the amount of data returned will always be less than the value of the xtd::net::sockets::socket::async_event_args::count property on the <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket__async__event__args.html" title="Represents an asynchronous socket operation.">xtd::net::sockets::socket_async_event_args</a> instance provided. The amount of the buffer used internally varies based on the address family of the socket. The minimum buffer size required is 288 bytes. If a larger buffer size is specified, then the <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket.html" title="Implements the Berkeley sockets interface.">xtd::net::sockets::socket</a> will expect some extra data other than the address data received by the Winsock AcceptEx call and will wait until this extra data is received. If a timeout occurs, the connection is reset. So if extra data is expected of a specific amount, then the buffer size should be set to the minimum buffer size plus this amount. </dd>
<dd>
The completion callback method should examine the xtd::net::sockets::socket_async_event_args::socket_error property to determine if the <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket_a23b63649d41275359b475ef60c279cf5.html#a23b63649d41275359b475ef60c279cf5" title="Begins an asynchronous operation to accept an incoming connection attempt.">xtd::net::sockets::socket::accept_async</a> operation was successful. </dd>
<dd>
The <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket__async__event__args_a65c79e79a22401e10029936fee2c239d.html#a65c79e79a22401e10029936fee2c239d" title="The event used to complete an asynchronous operation.">xtd::net::sockets::socket_async_event_args::completed</a> event can occur in some cases when no connection has been accepted and cause the xtd::net::sockets::socket_async_event_args::socket_error property to be set to <a class="el" href="group__xtd__core_ga0c933b52bdbb9399c8ec4b1dcf3e2e71.html#gga0c933b52bdbb9399c8ec4b1dcf3e2e71abf39bfc8665384194e343c08ab344405" title="Connection reset by the remote peer.">xtd::net::sockets::socket_error::connection_reset</a>. This can occur as a result of port scanning using a half-open SYN type scan (a SYN -&gt; SYN-ACK -&gt; RST sequence). Applications using the <a class="el" href="classxtd_1_1net_1_1sockets_1_1socket_a23b63649d41275359b475ef60c279cf5.html#a23b63649d41275359b475ef60c279cf5" title="Begins an asynchronous operation to accept an incoming connection attempt.">xtd::net::sockets::socket::accept_async</a> method should be prepared to handle this condition. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacextd.html">xtd</a></li><li class="navelem"><a class="el" href="namespacextd_1_1net.html">net</a></li><li class="navelem"><a class="el" href="namespacextd_1_1net_1_1sockets.html">sockets</a></li><li class="navelem"><a class="el" href="classxtd_1_1net_1_1sockets_1_1socket.html">socket</a></li>
		<li class="footer">Generated on Sat Sep 14 2024 21:17:23 for xtd by <a href="https://gammasoft71.wixsite.com/gammasoft">Gammasoft</a>. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
