<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<title>xtd: minesweeper.cpp</title>
    <link href="favicon.png" rel="shortcut icon" type="image/png"/>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom_images.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
    <script type="text/javascript"> DoxygenAwesomeDarkModeToggle.init() </script>
	</head>
	<body>
  <div id="page_container">
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
      <table cellspacing="0" cellpadding="0" style="width: 100%;">
				<tbody>
					<tr>
						<td id="projectlogo">
						  <a href="https://gammasoft71.github.io/xtd/" target="_new">
						    <img alt="Logo" src="xtd_doxygen.png"/>
						  </a>
						</td>
						<td id="projectalign" style="padding-left: 0.5em; text-align: right;">
							<div id="projectname">xtd
								<span id="projectnumber">0.2.0</span>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">minesweeper.cpp</div></div>
</div><!--header-->
<div class="contents">
<p>The goal of the game is to uncover all the squares that do not contain mines. </p><dl class="section user"><dt>Windows</dt><dd><div class="image">
<img src="minesweeper_w.png" alt=""/>
</div>
 <br  />
 <div class="image">
<img src="minesweeper_wd.png" alt=""/>
</div>
 </dd></dl>
<dl class="section user"><dt>macOS</dt><dd><div class="image">
<img src="minesweeper_m.png" alt=""/>
</div>
 <br  />
 <div class="image">
<img src="minesweeper_md.png" alt=""/>
</div>
 </dd></dl>
<dl class="section user"><dt>Gnome</dt><dd><div class="image">
<img src="minesweeper_g.png" alt=""/>
</div>
 <br  />
 <div class="image">
<img src="minesweeper_gd.png" alt=""/>
</div>
</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;xtd/drawing/color_converter&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/forms/about_dialog&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;minesweeper.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;custom_field_dialog.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;input_name_dialog.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>minesweeper;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacextd.html">xtd</a>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacextd_1_1drawing.html">xtd::drawing</a>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacextd_1_1forms.html">xtd::forms</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::main() {</div>
<div class="line">  application::run(minesweeper_form());</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">minesweeper_form::minesweeper_form() {</div>
<div class="line">  <a class="code hl_enumeration" href="group__xtd__forms.html#ga988a6abd919c15254f45a0bf9c2dcb17">auto_size_mode</a>(forms::auto_size_mode::grow_and_shrink);</div>
<div class="line">  auto_size(<span class="keyword">true</span>);</div>
<div class="line">  <a id="_a0" name="_a0"></a><a class="code hl_class" href="classxtd_1_1drawing_1_1font.html">font</a>(<a class="code hl_class" href="classxtd_1_1drawing_1_1font.html">drawing::font</a>(<a class="code hl_class" href="classxtd_1_1drawing_1_1font.html">font</a>(), 16, font_style::bold));</div>
<div class="line">  <a id="_a1" name="_a1"></a><a class="code hl_class" href="classxtd_1_1drawing_1_1icon.html">icon</a>(properties::resources::minesweeper_ico());</div>
<div class="line">  <a id="_a2" name="_a2"></a><a class="code hl_class" href="classxtd_1_1forms_1_1menu.html">menu</a>(main_menu_);</div>
<div class="line">  text(<span class="stringliteral">&quot;Minesweeper&quot;</span>_t);</div>
<div class="line">  </div>
<div class="line">  game_panel_.double_buffered(<span class="keyword">true</span>);</div>
<div class="line">  game_panel_.location({0, 60});</div>
<div class="line">  game_panel_.parent(*<span class="keyword">this</span>);</div>
<div class="line">  game_panel_.mouse_up += {*<span class="keyword">this</span>, &amp;minesweeper_form::on_game_panel_mouse_up};</div>
<div class="line">  game_panel_.paint += {*<span class="keyword">this</span>, &amp;minesweeper_form::on_game_panel_paint};</div>
<div class="line">  </div>
<div class="line">  status_panel_.height(60);</div>
<div class="line">  status_panel_.parent(*<span class="keyword">this</span>);</div>
<div class="line">  status_panel_.paint += {*<span class="keyword">this</span>, &amp;minesweeper_form::on_status_panel_paint};</div>
<div class="line">  status_panel_.resize += {*<span class="keyword">this</span>, &amp;minesweeper_form::on_status_panel_resize};</div>
<div class="line">  </div>
<div class="line">  mine_count_label_.auto_size(<span class="keyword">true</span>);</div>
<div class="line">  mine_count_label_.back_color(color::black);</div>
<div class="line">  mine_count_label_.fore_color(color::red);</div>
<div class="line">  mine_count_label_.height(38);</div>
<div class="line">  mine_count_label_.location({17, 17});</div>
<div class="line">  mine_count_label_.parent(status_panel_);</div>
<div class="line">  mine_count_label_.segment_style(forms::segment_style::modern);</div>
<div class="line">  mine_count_label_.text(<span class="stringliteral">&quot;000&quot;</span>);</div>
<div class="line">  mine_count_label_.thickness(5);</div>
<div class="line">  </div>
<div class="line">  stopwatch_label_.parent(status_panel_);</div>
<div class="line">  stopwatch_label_.height(38);</div>
<div class="line">  stopwatch_label_.auto_size(<span class="keyword">true</span>);</div>
<div class="line">  stopwatch_label_.back_color(color::black);</div>
<div class="line">  stopwatch_label_.fore_color(color::red);</div>
<div class="line">  stopwatch_label_.segment_style(forms::segment_style::modern);</div>
<div class="line">  stopwatch_label_.text(<span class="stringliteral">&quot;000&quot;</span>);</div>
<div class="line">  stopwatch_label_.thickness(5);</div>
<div class="line">  </div>
<div class="line">  start_game_.parent(status_panel_);</div>
<div class="line">  start_game_.image(<a id="_a3" name="_a3"></a><a class="code hl_class" href="classxtd_1_1drawing_1_1bitmap.html">bitmap</a> {properties::resources::smiley1(), {24, 24}});</div>
<div class="line">  start_game_.size({42, 38});</div>
<div class="line">  start_game_.location({status_panel_.size().width() / 2 - 21, 17});</div>
<div class="line">  start_game_.click += {*<span class="keyword">this</span>, &amp;minesweeper_form::new_game};</div>
<div class="line">  </div>
<div class="line">  stopwatch_timer_.interval_milliseconds(1000);</div>
<div class="line">  stopwatch_timer_.tick += {*<span class="keyword">this</span>, &amp;minesweeper_form::on_stopwatch_tick};</div>
<div class="line">  </div>
<div class="line">  update_colors();</div>
<div class="line">  change_level(as&lt;level&gt;(properties::settings::default_settings().level()));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::change_level(level l) {</div>
<div class="line">  properties::settings::default_settings().level(as&lt;int&gt;(l));</div>
<div class="line">  properties::settings::default_settings().save();</div>
<div class="line">  </div>
<div class="line">  level_ = <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a2db95e8e1a9267b7a1188556b2013b33">l</a>;</div>
<div class="line">  cells_.clear();</div>
<div class="line">  grid_size_ = std::map&lt;minesweeper::level, grid_size&gt; {{minesweeper::level::beginner, {9, 9}}, {minesweeper::level::intermediate, {16, 16}}, {minesweeper::level::expert, {30, 16}}, {minesweeper::level::custom, {properties::settings::default_settings().custom_width(), properties::settings::default_settings().custom_height()}}} [level_];</div>
<div class="line">  mine_count_ = std::map&lt;minesweeper::level, int&gt; {{minesweeper::level::beginner, 10}, {minesweeper::level::intermediate, 40}, {minesweeper::level::expert, 99}, {minesweeper::level::custom, properties::settings::default_settings().custom_mines()}} [level_];</div>
<div class="line">  </div>
<div class="line">  game_panel_.size({30 + grid_size_.width() * cell::width(), 30 + grid_size_.height() * cell::height()});</div>
<div class="line">  cells_ = row_cell(grid_size_.width(), column_cell(grid_size_.height()));</div>
<div class="line">  status_panel_.width(game_panel_.width());</div>
<div class="line">  new_game();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::new_game() {</div>
<div class="line">  game_over_ = <span class="keyword">false</span>;</div>
<div class="line">  stopwatch_timer_.enabled(<span class="keyword">false</span>);</div>
<div class="line">  checked_cell_count_ = 0;</div>
<div class="line">  flagged_mine_count_ = 0;</div>
<div class="line">  stopwatch_count_ = 0;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> y = 0; <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a> &lt; grid_size_.height(); ++<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>)</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> x = 0; <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a> &lt; grid_size_.width(); ++<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>)</div>
<div class="line">      cells_[x][y].<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a01bc6f8efa4202821e95f4fdf6298b30">clear</a>();</div>
<div class="line">      </div>
<div class="line">  <a id="_a4" name="_a4"></a><a class="code hl_class" href="classxtd_1_1random.html">xtd::random</a> rand;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> count = 0; count &lt; mine_count_; ++count) {</div>
<div class="line">    <span class="keyword">auto</span> <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a> = rand.<a id="a5" name="a5"></a><a class="code hl_function" href="classxtd_1_1random.html#a629a30d5ddd8035f45afe7d982fda712">next</a>(0, grid_size_.width() - 1);</div>
<div class="line">    <span class="keyword">auto</span> <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a> = rand.<a class="code hl_function" href="classxtd_1_1random.html#a629a30d5ddd8035f45afe7d982fda712">next</a>(0, grid_size_.height() - 1);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (cells_[x][y].contains_mine()) {</div>
<div class="line">      count--;</div>
<div class="line">      <span class="keywordflow">continue</span>;</div>
<div class="line">    }</div>
<div class="line">    cells_[<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>][<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>].has_mine(<span class="keyword">true</span>);</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> y = 0; <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a> &lt; grid_size_.height(); ++<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>)</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> x = 0; <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a> &lt; grid_size_.width(); ++<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>)</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keyword">auto</span> yy = y - 1; yy &lt;= <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a> + 1; ++yy)</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> xx = x - 1; xx &lt;= <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a> + 1; ++xx)</div>
<div class="line">          <span class="keywordflow">if</span> (yy &gt;= 0 &amp;&amp; yy &lt; grid_size_.height() &amp;&amp; xx &gt;= 0 &amp;&amp; xx &lt; grid_size_.width() &amp;&amp; cells_[xx][yy].contains_mine())</div>
<div class="line">            cells_[<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>][<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>].neighbors(cells_[x][y].number_of_neighbouring_mines() + 1);</div>
<div class="line">            </div>
<div class="line">  mine_count_label_.text(ustring::format(<span class="stringliteral">&quot;{:D3}&quot;</span>, mine_count_ - flagged_mine_count_));</div>
<div class="line">  stopwatch_label_.text(<span class="stringliteral">&quot;000&quot;</span>);</div>
<div class="line">  start_game_.image(<a class="code hl_class" href="classxtd_1_1drawing_1_1bitmap.html">bitmap</a> {properties::resources::smiley1(), {24, 24}});</div>
<div class="line">  invalidate();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::check_neighbors(<span class="keyword">const</span> <a id="_a6" name="_a6"></a><a class="code hl_class" href="classxtd_1_1drawing_1_1point.html">point</a>&amp; cell_location) {</div>
<div class="line">  <span class="keywordflow">if</span> (checked_cell(cell_location) != 0) <span class="keywordflow">return</span>;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> y = cell_location.<a id="a7" name="a7"></a><a class="code hl_function" href="classxtd_1_1drawing_1_1point.html#a03bec99e22ac61014f59dc9286a223d7">y</a>() - 1; <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a> &lt;= cell_location.<a class="code hl_function" href="classxtd_1_1drawing_1_1point.html#a03bec99e22ac61014f59dc9286a223d7">y</a>() + 1; ++<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>)</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> x = cell_location.<a id="a8" name="a8"></a><a class="code hl_function" href="classxtd_1_1drawing_1_1point.html#a1c00d823a48bfc1876fb57a6414c7b28">x</a>() - 1; <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a> &lt;= cell_location.<a class="code hl_function" href="classxtd_1_1drawing_1_1point.html#a1c00d823a48bfc1876fb57a6414c7b28">x</a>() + 1; ++<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>)</div>
<div class="line">      <span class="keywordflow">if</span> (y &gt;= 0 &amp;&amp; y &lt; grid_size_.height() &amp;&amp; <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a> &gt;= 0 &amp;&amp; <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a> &lt; grid_size_.width() &amp;&amp; cells_[<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>][<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>].state() == cell_state::unchecked &amp;&amp; checked_cell({<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>}) == 0)</div>
<div class="line">        check_neighbors({<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>});</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> minesweeper_form::checked_cell(<span class="keyword">const</span> <a class="code hl_class" href="classxtd_1_1drawing_1_1point.html">point</a>&amp; cell_location) {</div>
<div class="line">  <span class="keywordflow">if</span> (cells_[cell_location.<a class="code hl_function" href="classxtd_1_1drawing_1_1point.html#a1c00d823a48bfc1876fb57a6414c7b28">x</a>()][cell_location.<a class="code hl_function" href="classxtd_1_1drawing_1_1point.html#a03bec99e22ac61014f59dc9286a223d7">y</a>()].state() == cell_state::unchecked) {</div>
<div class="line">    cells_[cell_location.<a class="code hl_function" href="classxtd_1_1drawing_1_1point.html#a1c00d823a48bfc1876fb57a6414c7b28">x</a>()][cell_location.<a class="code hl_function" href="classxtd_1_1drawing_1_1point.html#a03bec99e22ac61014f59dc9286a223d7">y</a>()].state(cell_state::checked);</div>
<div class="line">    checked_cell_count_++;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> cells_[cell_location.<a class="code hl_function" href="classxtd_1_1drawing_1_1point.html#a1c00d823a48bfc1876fb57a6414c7b28">x</a>()][cell_location.<a class="code hl_function" href="classxtd_1_1drawing_1_1point.html#a03bec99e22ac61014f59dc9286a223d7">y</a>()].number_of_neighbouring_mines();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::draw_cell(<a id="_a9" name="_a9"></a><a class="code hl_class" href="classxtd_1_1forms_1_1paint__event__args.html">paint_event_args</a>&amp; e, <span class="keyword">const</span> <a id="_a10" name="_a10"></a><a class="code hl_class" href="classxtd_1_1drawing_1_1rectangle.html">rectangle</a>&amp; clip_rectangle, minesweeper::cell cell) {</div>
<div class="line">  <span class="keyword">static</span> std::map&lt;cell_state, delegate&lt;void(<a class="code hl_class" href="classxtd_1_1forms_1_1paint__event__args.html">paint_event_args</a>&amp;, <span class="keyword">const</span> <a class="code hl_class" href="classxtd_1_1drawing_1_1rectangle.html">rectangle</a>&amp;, minesweeper::cell)&gt;&gt; draw_state {{cell_state::unchecked, {*<span class="keyword">this</span>, &amp;minesweeper_form::draw_unchecked}}, {cell_state::checked, {*<span class="keyword">this</span>, &amp;minesweeper_form::draw_checked}}, {cell_state::flag, {*<span class="keyword">this</span>, &amp;minesweeper_form::draw_flag}}, {cell_state::question, {*<span class="keyword">this</span>, &amp;minesweeper_form::draw_question}}, {cell_state::mine, {*<span class="keyword">this</span>, &amp;minesweeper_form::draw_mine}}, {cell_state::exploded_mine, {*<span class="keyword">this</span>, &amp;minesweeper_form::draw_exploded_mine}}, {cell_state::error, {*<span class="keyword">this</span>, &amp;minesweeper_form::draw_error}}};</div>
<div class="line">  draw_state[cell.state()](<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>, clip_rectangle, cell);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::draw_unchecked(<a class="code hl_class" href="classxtd_1_1forms_1_1paint__event__args.html">paint_event_args</a>&amp; e, <span class="keyword">const</span> <a class="code hl_class" href="classxtd_1_1drawing_1_1rectangle.html">rectangle</a>&amp; clip_rectangle, minesweeper::cell cell) {</div>
<div class="line">  draw_border_unchecked(e, clip_rectangle);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::draw_checked(<a class="code hl_class" href="classxtd_1_1forms_1_1paint__event__args.html">paint_event_args</a>&amp; e, <span class="keyword">const</span> <a class="code hl_class" href="classxtd_1_1drawing_1_1rectangle.html">rectangle</a>&amp; clip_rectangle, minesweeper::cell cell) {</div>
<div class="line">  draw_border_checked(e, clip_rectangle);</div>
<div class="line">  <a id="_a11" name="_a11"></a><a class="code hl_class" href="classxtd_1_1drawing_1_1color.html">color</a> text_color;</div>
<div class="line">  </div>
<div class="line">  <span class="keywordflow">if</span> (properties::settings::default_settings().original_color()) {</div>
<div class="line">    <span class="keywordflow">switch</span> (cell.number_of_neighbouring_mines()) {</div>
<div class="line">      <span class="keywordflow">case</span> 1: text_color = color::blue; <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 2: text_color = color::green; <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 3: text_color = color::red; <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 4: text_color = color::dark_blue; <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 5: text_color = color::dark_red; <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 6: text_color = color::teal; <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 7: text_color = color::dark_magenta; <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 8: text_color = color::black; <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">default</span>: <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (back_color().get_brightness() &lt; 0.5f) {</div>
<div class="line">    <span class="keywordflow">switch</span> (cell.number_of_neighbouring_mines()) {</div>
<div class="line">      <span class="keywordflow">case</span> 1: text_color = color::light_sky_blue; <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 2: text_color = color::from_argb(0x30, 0xDC, 0x66); <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 3: text_color = color::from_argb(0xD0, 0x3E, 0x3D); <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 4: text_color = color::dodger_blue; <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 5: text_color = color::orange; <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 6: text_color = color::light_sea_green; <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 7: text_color = color::from_argb(0xC6, 0x5E, 0xE9); <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 8: text_color = fore_color(); <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">default</span>: <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keywordflow">switch</span> (cell.number_of_neighbouring_mines()) {</div>
<div class="line">      <span class="keywordflow">case</span> 1: text_color = color::blue; <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 2: text_color = color::green; <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 3: text_color = color::red; <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 4: text_color = color::dodger_blue; <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 5: text_color = color::dark_orange; <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 6: text_color = color::teal; <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 7: text_color = color::dark_magenta; <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> 8: text_color = fore_color(); <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">default</span>: <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_enumvalue" href="group__xtd__forms.html#gga57070ef804d401fead746fcd411d02cca1cb251ec0d568de6a929b520c4aed8d1">text</a> = std::to_string(cell.number_of_neighbouring_mines());</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a> = clip_rectangle.<a id="a12" name="a12"></a><a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>() + (clip_rectangle.<a id="a13" name="a13"></a><a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a0c5161dea4d1dea262b7a5bc5a41e0f4">width</a>() - <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().measure_string(text, <a class="code hl_class" href="classxtd_1_1drawing_1_1font.html">font</a>()).width()) / 2;</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a> = clip_rectangle.<a id="a14" name="a14"></a><a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>() + (clip_rectangle.<a id="a15" name="a15"></a><a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a93699e2d49c7f8f2ae4e1459d4713e2f">height</a>() - <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().measure_string(text, <a class="code hl_class" href="classxtd_1_1drawing_1_1font.html">font</a>()).<a class="code hl_enumvalue" href="group__xtd__forms.html#gga475781e3c7baa300a81ab16d22b16962ab435e227d5dd201e1768b2bcb2e0aa81">height</a>()) / 2;</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_string(text, <a class="code hl_class" href="classxtd_1_1drawing_1_1font.html">font</a>(), <a id="_a16" name="_a16"></a><a class="code hl_class" href="classxtd_1_1drawing_1_1solid__brush.html">solid_brush</a>(text_color), <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::draw_flag(<a class="code hl_class" href="classxtd_1_1forms_1_1paint__event__args.html">paint_event_args</a>&amp; e, <span class="keyword">const</span> <a class="code hl_class" href="classxtd_1_1drawing_1_1rectangle.html">rectangle</a>&amp; clip_rectangle, minesweeper::cell cell) {</div>
<div class="line">  draw_border_unchecked(e, clip_rectangle);</div>
<div class="line">  </div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">auto</span> flag = <a class="code hl_class" href="classxtd_1_1drawing_1_1bitmap.html">bitmap</a> {properties::resources::flag(), {16, 16}};</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a> = clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>() + (clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a0c5161dea4d1dea262b7a5bc5a41e0f4">width</a>() - flag.width()) / 2;</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a> = clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>() + (clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a93699e2d49c7f8f2ae4e1459d4713e2f">height</a>() - flag.height()) / 2;</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_image(flag, x, y);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::draw_question(<a class="code hl_class" href="classxtd_1_1forms_1_1paint__event__args.html">paint_event_args</a>&amp; e, <span class="keyword">const</span> <a class="code hl_class" href="classxtd_1_1drawing_1_1rectangle.html">rectangle</a>&amp; clip_rectangle, minesweeper::cell cell) {</div>
<div class="line">  draw_border_unchecked(e, clip_rectangle);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a> = clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>() + (clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a0c5161dea4d1dea262b7a5bc5a41e0f4">width</a>() - <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().measure_string(<span class="stringliteral">&quot;?&quot;</span>, <a class="code hl_class" href="classxtd_1_1drawing_1_1font.html">font</a>()).width()) / 2;</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a> = clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>() + (clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a93699e2d49c7f8f2ae4e1459d4713e2f">height</a>() - <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().measure_string(<span class="stringliteral">&quot;?&quot;</span>, <a class="code hl_class" href="classxtd_1_1drawing_1_1font.html">font</a>()).<a class="code hl_enumvalue" href="group__xtd__forms.html#gga475781e3c7baa300a81ab16d22b16962ab435e227d5dd201e1768b2bcb2e0aa81">height</a>()) / 2;</div>
<div class="line">  <span class="keyword">auto</span> question_color = back_color().get_brightness() &lt; 0.5f ? color::light_sky_blue : color::blue;</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_string(<span class="stringliteral">&quot;?&quot;</span>, <a class="code hl_class" href="classxtd_1_1drawing_1_1font.html">font</a>(), <a class="code hl_class" href="classxtd_1_1drawing_1_1solid__brush.html">solid_brush</a>(question_color), x, y);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::draw_mine(<a class="code hl_class" href="classxtd_1_1forms_1_1paint__event__args.html">paint_event_args</a>&amp; e, <span class="keyword">const</span> <a class="code hl_class" href="classxtd_1_1drawing_1_1rectangle.html">rectangle</a>&amp; clip_rectangle, minesweeper::cell cell) {</div>
<div class="line">  draw_border_checked(e, clip_rectangle);</div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">auto</span> mine = <a class="code hl_class" href="classxtd_1_1drawing_1_1bitmap.html">bitmap</a> {properties::resources::mine(), {16, 16}};</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a> = clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>() + (clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a0c5161dea4d1dea262b7a5bc5a41e0f4">width</a>() - mine.width()) / 2;</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a> = clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>() + (clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a93699e2d49c7f8f2ae4e1459d4713e2f">height</a>() - mine.height()) / 2;</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_image(mine, x, y);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::draw_exploded_mine(<a class="code hl_class" href="classxtd_1_1forms_1_1paint__event__args.html">paint_event_args</a>&amp; e, <span class="keyword">const</span> <a class="code hl_class" href="classxtd_1_1drawing_1_1rectangle.html">rectangle</a>&amp; clip_rectangle, minesweeper::cell cell) {</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().fill_rectangle(brushes::red(), clip_rectangle);</div>
<div class="line">  draw_mine(e, clip_rectangle, cell);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::draw_error(<a class="code hl_class" href="classxtd_1_1forms_1_1paint__event__args.html">paint_event_args</a>&amp; e, <span class="keyword">const</span> <a class="code hl_class" href="classxtd_1_1drawing_1_1rectangle.html">rectangle</a>&amp; clip_rectangle, minesweeper::cell cell) {</div>
<div class="line">  draw_border_checked(e, clip_rectangle);</div>
<div class="line">  draw_mine(e, clip_rectangle, cell);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a id="_a17" name="_a17"></a><a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color::red, 3}, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>() + 7, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>() + 7, clip_rectangle.<a id="a18" name="a18"></a><a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#ae98efedb4c2710b1d8d31a64bee3fe7b">right</a>() - 7, clip_rectangle.<a id="a19" name="a19"></a><a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7e1dd8fab075294595b7876d42523624">bottom</a>() - 7);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color::red, 3}, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#ae98efedb4c2710b1d8d31a64bee3fe7b">right</a>() - 7, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>() + 7, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>() + 7, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7e1dd8fab075294595b7876d42523624">bottom</a>() - 7);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::draw_border_unchecked(<a class="code hl_class" href="classxtd_1_1forms_1_1paint__event__args.html">paint_event_args</a>&amp; e, <span class="keyword">const</span> <a class="code hl_class" href="classxtd_1_1drawing_1_1rectangle.html">rectangle</a>&amp; clip_rectangle) {</div>
<div class="line">  <span class="keywordflow">if</span> (!properties::settings::default_settings().original_color()) {</div>
<div class="line">    <span class="keywordflow">if</span> (back_color().get_brightness() &lt; 0.5f) <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().fill_rectangle(<a class="code hl_class" href="classxtd_1_1drawing_1_1solid__brush.html">solid_brush</a> {color_converter::light(back_color(), 0.1)}, clip_rectangle);</div>
<div class="line">    <span class="keywordflow">else</span> <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().fill_rectangle(<a class="code hl_class" href="classxtd_1_1drawing_1_1solid__brush.html">solid_brush</a> {color_converter::dark(back_color(), 0.1)}, clip_rectangle);</div>
<div class="line">  }</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(color_converter::light(color_converter::light(back_color())))}, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#ae98efedb4c2710b1d8d31a64bee3fe7b">right</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>());</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(color_converter::light(back_color()))}, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>() + 1, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#ae98efedb4c2710b1d8d31a64bee3fe7b">right</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>() + 1);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(back_color())}, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>() + 1, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>() + 2, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#ae98efedb4c2710b1d8d31a64bee3fe7b">right</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>() + 2);</div>
<div class="line">  </div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(color_converter::light(color_converter::light(back_color())))}, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7e1dd8fab075294595b7876d42523624">bottom</a>());</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(color_converter::light(back_color()))}, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>() + 1, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>() + 1, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>() + 1, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7e1dd8fab075294595b7876d42523624">bottom</a>());</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(back_color())}, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>() + 2, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>() + 2, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>() + 2, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7e1dd8fab075294595b7876d42523624">bottom</a>());</div>
<div class="line">  </div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(back_color())}, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>() + 2, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7e1dd8fab075294595b7876d42523624">bottom</a>() - 3, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#ae98efedb4c2710b1d8d31a64bee3fe7b">right</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7e1dd8fab075294595b7876d42523624">bottom</a>() - 3);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(color_converter::dark(back_color()))}, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>() + 1, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7e1dd8fab075294595b7876d42523624">bottom</a>() - 2, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#ae98efedb4c2710b1d8d31a64bee3fe7b">right</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7e1dd8fab075294595b7876d42523624">bottom</a>() - 2);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(color_converter::dark(color_converter::dark(back_color())))}, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7e1dd8fab075294595b7876d42523624">bottom</a>() - 1, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#ae98efedb4c2710b1d8d31a64bee3fe7b">right</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7e1dd8fab075294595b7876d42523624">bottom</a>() - 1);</div>
<div class="line">  </div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(back_color())}, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#ae98efedb4c2710b1d8d31a64bee3fe7b">right</a>() - 3, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>() + 2, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#ae98efedb4c2710b1d8d31a64bee3fe7b">right</a>() - 3, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7e1dd8fab075294595b7876d42523624">bottom</a>() - 3);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(color_converter::dark(back_color()))}, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#ae98efedb4c2710b1d8d31a64bee3fe7b">right</a>() - 2, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>() + 1, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#ae98efedb4c2710b1d8d31a64bee3fe7b">right</a>() - 2, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7e1dd8fab075294595b7876d42523624">bottom</a>() - 2);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(color_converter::dark(color_converter::dark(back_color())))}, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#ae98efedb4c2710b1d8d31a64bee3fe7b">right</a>() - 1, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#ae98efedb4c2710b1d8d31a64bee3fe7b">right</a>() - 1, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7e1dd8fab075294595b7876d42523624">bottom</a>() - 1);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::draw_border_checked(<a class="code hl_class" href="classxtd_1_1forms_1_1paint__event__args.html">paint_event_args</a>&amp; e, <span class="keyword">const</span> <a class="code hl_class" href="classxtd_1_1drawing_1_1rectangle.html">rectangle</a>&amp; clip_rectangle) {</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(back_color())}, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#ae98efedb4c2710b1d8d31a64bee3fe7b">right</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>());</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(back_color())}, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7e1dd8fab075294595b7876d42523624">bottom</a>());</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(back_color())}, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">left</a>() + 1, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7e1dd8fab075294595b7876d42523624">bottom</a>() - 1, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#ae98efedb4c2710b1d8d31a64bee3fe7b">right</a>(), clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7e1dd8fab075294595b7876d42523624">bottom</a>() - 1);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(back_color())}, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#ae98efedb4c2710b1d8d31a64bee3fe7b">right</a>() - 1, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">top</a>() + 1, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#ae98efedb4c2710b1d8d31a64bee3fe7b">right</a>() - 1, clip_rectangle.<a class="code hl_function" href="classxtd_1_1drawing_1_1rectangle.html#a7e1dd8fab075294595b7876d42523624">bottom</a>() - 1);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::game_over() {</div>
<div class="line">  stopwatch_timer_.enabled(<span class="keyword">false</span>);</div>
<div class="line">  game_over_ = <span class="keyword">true</span>;</div>
<div class="line">  start_game_.image(<a class="code hl_class" href="classxtd_1_1drawing_1_1bitmap.html">bitmap</a> {properties::resources::smiley2(), {24, 24}});</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> y = 0; <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a> &lt; grid_size_.height(); ++<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>) {</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> x = 0; <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a> &lt; grid_size_.width(); ++<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>) {</div>
<div class="line">      <span class="keywordflow">if</span> (cells_[x][y].state() == cell_state::exploded_mine) <span class="keywordflow">continue</span>;</div>
<div class="line">      <span class="keywordflow">if</span> (cells_[x][y].state() == cell_state::flag &amp;&amp; !cells_[<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>][<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>].contains_mine())</div>
<div class="line">        cells_[x][y].state(cell_state::error);</div>
<div class="line">      <span class="keywordflow">if</span> (cells_[x][y].state() != cell_state::flag &amp;&amp; cells_[<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>][<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>].contains_mine())</div>
<div class="line">        cells_[x][y].state(cell_state::mine);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::mark_cell(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y) {</div>
<div class="line">  <span class="keyword">auto</span>&amp; cell = cells_[<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>][<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>];</div>
<div class="line">  <span class="keywordflow">if</span> (cell.state() == cell_state::unchecked) {</div>
<div class="line">    cell.state(cell_state::flag);</div>
<div class="line">    ++flagged_mine_count_;</div>
<div class="line">  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cell.state() == cell_state::flag &amp;&amp; properties::settings::default_settings().marks()) {</div>
<div class="line">    cell.state(cell_state::question);</div>
<div class="line">    --flagged_mine_count_;</div>
<div class="line">  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cell.state() == cell_state::flag || cell.state() == cell_state::question) cell.state(cell_state::unchecked);</div>
<div class="line">  <span class="keywordflow">if</span> ((mine_count_ - flagged_mine_count_) &gt;= 0 &amp;&amp; (mine_count_ - flagged_mine_count_) &lt;= 999) mine_count_label_.text(ustring::format(<span class="stringliteral">&quot;{:D3}&quot;</span>, mine_count_ - flagged_mine_count_));</div>
<div class="line">  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mine_count_ - flagged_mine_count_ &gt;= -99) mine_count_label_.text(ustring::format(<span class="stringliteral">&quot;{:D2}&quot;</span>, mine_count_ - flagged_mine_count_));</div>
<div class="line">  invalidate();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::on_about_menu_click(<span class="keywordtype">object</span>&amp; sender, <span class="keyword">const</span> <a id="_a20" name="_a20"></a><a class="code hl_class" href="classxtd_1_1event__args.html">xtd::event_args</a>&amp; e) {</div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">auto</span> dialog = <a id="_a21" name="_a21"></a><a class="code hl_class" href="classxtd_1_1forms_1_1about__dialog.html">about_dialog</a> {};</div>
<div class="line">  dialog.<a id="a22" name="a22"></a><a class="code hl_function" href="classxtd_1_1forms_1_1about__dialog.html#a717ec51d6be2038e594ea928debe26d8">icon</a>(properties::resources::minesweeper_png());</div>
<div class="line">  dialog.name(<span class="stringliteral">&quot;Minesweeper&quot;</span>_t);</div>
<div class="line">  dialog.version(<span class="stringliteral">&quot;1.0&quot;</span>);</div>
<div class="line">  dialog.long_version(<span class="stringliteral">&quot;1.0.0&quot;</span>);</div>
<div class="line">  dialog.description(<span class="stringliteral">&quot;The goal of the game is to uncover all the squares\nthat do not contain mines.&quot;</span>_t);</div>
<div class="line">  dialog.copyright(<span class="stringliteral">&quot;Copyright (c) 2024 Gammasoft.\nAll rights reserved.&quot;</span>_t);</div>
<div class="line">  dialog.website(<span class="stringliteral">&quot;https://gammasoft71.wixsite.com/gammasoft&quot;</span>_t);</div>
<div class="line">  dialog.website_label(<span class="stringliteral">&quot;gammasoft website&quot;</span>_t);</div>
<div class="line">  dialog.license(<span class="stringliteral">&quot;MIT License\n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;Copyright (c) 2024 Gammasoft.\n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \&quot;Software\&quot;), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;THE SOFTWARE IS PROVIDED \&quot;AS IS\&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n&quot;</span>);</div>
<div class="line">  dialog.show();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::on_help_content_menu_click(<span class="keywordtype">object</span>&amp; sender, <span class="keyword">const</span> <a class="code hl_class" href="classxtd_1_1event__args.html">xtd::event_args</a>&amp; e) {</div>
<div class="line">  diagnostics::process::start(<span class="stringliteral">&quot;https://github.com/gammasoft71/xtd/blob/master/examples/xtd.forms.examples/games/minesweeper/resources/help.md&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::on_custom_menu_click(<span class="keywordtype">object</span>&amp; sender, <span class="keyword">const</span> <a class="code hl_class" href="classxtd_1_1event__args.html">xtd::event_args</a>&amp; e) {</div>
<div class="line">  <span class="keyword">auto</span> dialog = custom_field_dialog {};</div>
<div class="line">  dialog.custom_height(properties::settings::default_settings().custom_height());</div>
<div class="line">  dialog.custom_width(properties::settings::default_settings().custom_width());</div>
<div class="line">  dialog.custom_mines(properties::settings::default_settings().custom_mines());</div>
<div class="line">  dialog.show_dialog(*<span class="keyword">this</span>);</div>
<div class="line">  properties::settings::default_settings().custom_height(dialog.custom_heght());</div>
<div class="line">  properties::settings::default_settings().custom_width(dialog.custom_width());</div>
<div class="line">  properties::settings::default_settings().custom_mines(dialog.custom_mines());</div>
<div class="line">  properties::settings::default_settings().save();</div>
<div class="line">  change_level(level::custom);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::on_game_panel_mouse_up(<span class="keywordtype">object</span>&amp; sender, <span class="keyword">const</span> <a id="_a23" name="_a23"></a><a class="code hl_class" href="classxtd_1_1forms_1_1mouse__event__args.html">mouse_event_args</a>&amp; e) {</div>
<div class="line">  <span class="keywordflow">if</span> (game_over_) <span class="keywordflow">return</span>;</div>
<div class="line">  stopwatch_timer_.enabled(<span class="keyword">true</span>);</div>
<div class="line">  </div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.location().x() &lt; 15 || <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.location().y() &lt; 15 || <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.location().x() &gt;= (grid_size_.width() * cell::width() + 15) || <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.location().y() &gt;= (grid_size_.height() * cell::height() + 15)) <span class="keywordflow">return</span>;</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a> = (<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.location().x() - 15) / cell::width();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a> = (<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.location().y() - 15) / cell::height();</div>
<div class="line">  </div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.button() == mouse_buttons::right) mark_cell(x, y);</div>
<div class="line">  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.button() == mouse_buttons::left) uncover_cell(x, y);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::on_game_panel_paint(<span class="keywordtype">object</span>&amp; sender, <a class="code hl_class" href="classxtd_1_1forms_1_1paint__event__args.html">paint_event_args</a>&amp; e) {</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().clear(back_color());</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(color_converter::light(color_converter::light(back_color())))}, 0, 0, 0, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height());</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(color_converter::light(back_color()))}, 1, 0, 1, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height());</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(back_color())}, 2, 0, 2, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height());</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(back_color())}, 2, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 3, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width(), <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 3);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(color_converter::dark(back_color()))}, 1, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 2, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width(), <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 2);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(color_converter::dark(color_converter::dark(back_color())))}, 0, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 1, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width(), <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 1);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(back_color())}, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 3, 0, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 3, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 3);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(color_converter::dark(back_color()))}, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 2, 0, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 2, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 2);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(color_converter::dark(color_converter::dark(back_color())))}, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1, 0, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 1);</div>
<div class="line">  </div>
<div class="line">  <span class="keyword">auto</span> offset = 12;</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(color_converter::dark(color_converter::dark(back_color())))}, offset, offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1 - offset, offset);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(color_converter::dark(back_color()))}, offset, 1 + offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1 - offset, 1 + offset);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(back_color())}, 1 + offset, 2 + offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1 - offset, 2 + offset);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(color_converter::dark(color_converter::dark(back_color())))}, offset, offset, offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 1 - offset);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(color_converter::dark(back_color()))}, 1 + offset, 1 + offset, 1 + offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 1 - offset);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(back_color())}, 2 + offset, 2 + offset, 2 + offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 1 - offset);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(back_color())}, 2 + offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 3 - offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1 - offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 3 - offset);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(color_converter::light(back_color()))}, 1 + offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 2 - offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1 - offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 2 - offset);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(color_converter::light(color_converter::light(back_color())))}, offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 1 - offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1 - offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 1 - offset);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(back_color())}, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 3 - offset, 2 + offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 3 - offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 3 - offset);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(color_converter::light(back_color()))}, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 2 - offset, 1 + offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 2 - offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 2 - offset);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(color_converter::light(color_converter::light(back_color())))}, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1 - offset, offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1 - offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 1 - offset);</div>
<div class="line">  </div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> y = 0; <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a> &lt; grid_size_.height(); ++<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>)</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> x = 0; <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a> &lt; grid_size_.width(); ++<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>)</div>
<div class="line">      draw_cell(e, {15 + <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a> * cell::width(), 15 + <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a> * cell::height(), cell::width(), cell::height()}, cells_[<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>][<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>]);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::on_marks_menu_click(<span class="keywordtype">object</span>&amp; sender, <span class="keyword">const</span> <a class="code hl_class" href="classxtd_1_1event__args.html">xtd::event_args</a>&amp; e) {</div>
<div class="line">  properties::settings::default_settings().marks(!properties::settings::default_settings().marks());</div>
<div class="line">  properties::settings::default_settings().save();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::on_original_color_menu_click(<span class="keywordtype">object</span>&amp; sender, <span class="keyword">const</span> <a class="code hl_class" href="classxtd_1_1event__args.html">xtd::event_args</a>&amp; e) {</div>
<div class="line">  properties::settings::default_settings().original_color(!properties::settings::default_settings().original_color());</div>
<div class="line">  properties::settings::default_settings().save();</div>
<div class="line">  update_colors();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::on_status_panel_paint(<span class="keywordtype">object</span>&amp; sender, <a class="code hl_class" href="classxtd_1_1forms_1_1paint__event__args.html">paint_event_args</a>&amp; e) {</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().clear(back_color());</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(color_converter::light(color_converter::light(back_color())))}, 0, 0, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width(), 0);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(color_converter::light(back_color()))}, 0, 1, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width(), 1);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(back_color())}, 1, 2, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width(), 2);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(color_converter::light(color_converter::light(back_color())))}, 0, 0, 0, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height());</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(color_converter::light(back_color()))}, 1, 1, 1, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height());</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(back_color())}, 2, 2, 2, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height());</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(back_color())}, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 3, 2, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 3, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height());</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(color_converter::dark(back_color()))}, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 2, 1, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 2, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height());</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(color_converter::dark(color_converter::dark(back_color())))}, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1, 0, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height());</div>
<div class="line">  </div>
<div class="line">  <span class="keyword">auto</span> offset = 12;</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(color_converter::dark(color_converter::dark(back_color())))}, offset, offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1 - offset, offset);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(color_converter::dark(back_color()))}, offset, 1 + offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1 - offset, 1 + offset);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(back_color())}, 1 + offset, 2 + offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1 - offset, 2 + offset);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(color_converter::dark(color_converter::dark(back_color())))}, offset, offset, offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 1);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(color_converter::dark(back_color()))}, 1 + offset, 1 + offset, 1 + offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 1);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::dark(back_color())}, 2 + offset, 2 + offset, 2 + offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 1);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(back_color())}, 2 + offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 3, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1 - offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 3);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(color_converter::light(back_color()))}, 1 + offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 2, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1 - offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 2);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(color_converter::light(color_converter::light(back_color())))}, offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 1, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1 - offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 1);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(back_color())}, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 3 - offset, 2 + offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 3 - offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 3);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(color_converter::light(back_color()))}, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 2 - offset, 1 + offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 2 - offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 2);</div>
<div class="line">  <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.graphics().draw_line(<a class="code hl_class" href="classxtd_1_1drawing_1_1pen.html">pen</a> {color_converter::light(color_converter::light(color_converter::light(back_color())))}, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1 - offset, offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().width() - 1 - offset, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">e</a>.clip_rectangle().height() - 1);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::on_status_panel_resize(<span class="keywordtype">object</span>&amp; sender, <span class="keyword">const</span> <a class="code hl_class" href="classxtd_1_1event__args.html">event_args</a>&amp; e) {</div>
<div class="line">  start_game_.location({status_panel_.size().<a class="code hl_enumvalue" href="group__xtd__forms.html#gga475781e3c7baa300a81ab16d22b16962aeaae26a6fb20ed3ef54fb23bfa0b1fcc">width</a>() / 2 - 21, 17});</div>
<div class="line">  stopwatch_label_.location({status_panel_.width() - stopwatch_label_.width() - 18, 17});</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::on_stopwatch_tick() {</div>
<div class="line">  <span class="keywordflow">if</span> (stopwatch_count_ &lt; 999)</div>
<div class="line">    stopwatch_label_.text(ustring::format(<span class="stringliteral">&quot;{:D3}&quot;</span>, ++stopwatch_count_));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::uncover_cell(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y) {</div>
<div class="line">  start_game_.image(<a class="code hl_class" href="classxtd_1_1drawing_1_1bitmap.html">bitmap</a>(properties::resources::smiley4(), {24, 24}));</div>
<div class="line">  application::do_events();</div>
<div class="line">  <span class="keywordflow">if</span> (cells_[x][y].state() == cell_state::question)</div>
<div class="line">    cells_[<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>][<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>].state(cell_state::unchecked);</div>
<div class="line">  <span class="keywordflow">if</span> (cells_[x][y].state() == cell_state::unchecked) {</div>
<div class="line">    <span class="keywordflow">if</span> (cells_[x][y].contains_mine()) {</div>
<div class="line">      cells_[<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>][<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>].state(cell_state::exploded_mine);</div>
<div class="line">      game_over();</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      check_neighbors({<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>, <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>});</div>
<div class="line">      <span class="keywordflow">if</span> (grid_size_.width() * grid_size_.height() - checked_cell_count_ != mine_count_) start_game_.image(<a class="code hl_class" href="classxtd_1_1drawing_1_1bitmap.html">bitmap</a>(properties::resources::smiley1(), {24, 24}));</div>
<div class="line">      <span class="keywordflow">else</span> you_win();</div>
<div class="line">    }</div>
<div class="line">    invalidate();</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::update_colors() {</div>
<div class="line">  back_color(properties::settings::default_settings().original_color() ? color::from_argb(192, 196, 200) : default_back_color());</div>
<div class="line">  fore_color(properties::settings::default_settings().original_color() ? color::black : default_fore_color());</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> minesweeper_form::you_win() {</div>
<div class="line">  stopwatch_timer_.enabled(<span class="keyword">false</span>);</div>
<div class="line">  game_over_ = <span class="keyword">true</span>;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> y = 0; <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a> &lt; grid_size_.height(); ++<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>)</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> x = 0; <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a> &lt; grid_size_.width(); ++<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>)</div>
<div class="line">      <span class="keywordflow">if</span> (cells_[x][y].state() != cell_state::flag &amp;&amp; cells_[x][y].contains_mine())</div>
<div class="line">        cells_[<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">x</a>][<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">y</a>].state(cell_state::mine);</div>
<div class="line">        </div>
<div class="line">  start_game_.image(<a class="code hl_class" href="classxtd_1_1drawing_1_1bitmap.html">bitmap</a>(properties::resources::smiley3(), {24, 24}));</div>
<div class="line">  mine_count_label_.text(<span class="stringliteral">&quot;000&quot;</span>);</div>
<div class="line">  </div>
<div class="line">  <span class="keywordflow">if</span> (level_ != level::custom &amp;&amp; stopwatch_count_ &lt; std::map&lt;level, int&gt; {{level::beginner, properties::settings::default_settings().beginner_high_scores_value()}, {level::intermediate, properties::settings::default_settings().intermediate_high_scores_value()}, {level::expert, properties::settings::default_settings().expert_high_scores_value()}} [level_]) {</div>
<div class="line">    <span class="keyword">auto</span> gamer_name = std::map&lt;level, ustring&gt; {{level::beginner, properties::settings::default_settings().beginner_high_scores_name()}, {level::intermediate, properties::settings::default_settings().intermediate_high_scores_name()}, {level::expert, properties::settings::default_settings().expert_high_scores_name()}} [level_];</div>
<div class="line">    minesweeper::input_name_dialog input_name_dialog;</div>
<div class="line">    input_name_dialog.gammer_name(gamer_name);</div>
<div class="line">    input_name_dialog.level(level_);</div>
<div class="line">    <span class="keywordflow">if</span> (input_name_dialog.show_dialog(*<span class="keyword">this</span>) == dialog_result::ok)</div>
<div class="line">      gamer_name = input_name_dialog.gammer_name();</div>
<div class="line">      </div>
<div class="line">    std::map&lt;level, delegate&lt;void(<span class="keywordtype">int</span>)&gt;&gt; set_settings_high_scores_values {{level::beginner, {[](<span class="keywordtype">int</span> value) {properties::settings::default_settings().beginner_high_scores_value(value);}}}, {level::intermediate, {[](<span class="keywordtype">int</span> value) {properties::settings::default_settings().intermediate_high_scores_value(value);}}}, {level::expert, {[](<span class="keywordtype">int</span> value) {properties::settings::default_settings().expert_high_scores_value(value);}}}};</div>
<div class="line">    std::map&lt;level, delegate&lt;void(<a id="_a24" name="_a24"></a><a class="code hl_class" href="classxtd_1_1ustring.html">ustring</a>)&gt;&gt; set_settings_high_scores_names {{level::beginner, {[](<a class="code hl_class" href="classxtd_1_1ustring.html">ustring</a> name) {properties::settings::default_settings().beginner_high_scores_name(name);}}}, {level::intermediate, {[](<a class="code hl_class" href="classxtd_1_1ustring.html">ustring</a> name) {properties::settings::default_settings().intermediate_high_scores_name(name);}}}, {level::expert, {[](<a class="code hl_class" href="classxtd_1_1ustring.html">ustring</a> name) {properties::settings::default_settings().expert_high_scores_name(name);}}}};</div>
<div class="line">    set_settings_high_scores_values[level_](stopwatch_count_);</div>
<div class="line">    set_settings_high_scores_names[level_](gamer_name);</div>
<div class="line">    properties::settings::default_settings().save();</div>
<div class="line">    </div>
<div class="line">    minesweeper::high_scores_dialog().show_dialog(*<span class="keyword">this</span>);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="aclassxtd_1_1drawing_1_1bitmap_html"><div class="ttname"><a href="classxtd_1_1drawing_1_1bitmap.html">xtd::drawing::bitmap</a></div><div class="ttdoc">Encapsulates a GDI+ bitmap, which consists of the pixel data for a graphics image and its attributes....</div><div class="ttdef"><b>Definition</b> bitmap.h:26</div></div>
<div class="ttc" id="aclassxtd_1_1drawing_1_1color_html"><div class="ttname"><a href="classxtd_1_1drawing_1_1color.html">xtd::drawing::color</a></div><div class="ttdoc">Represents an ARGB (alpha, red, green, blue) color.</div><div class="ttdef"><b>Definition</b> color.h:49</div></div>
<div class="ttc" id="aclassxtd_1_1drawing_1_1font_html"><div class="ttname"><a href="classxtd_1_1drawing_1_1font.html">xtd::drawing::font</a></div><div class="ttdoc">Defines a particular format for text, including font face, size, and style attributes....</div><div class="ttdef"><b>Definition</b> font.h:45</div></div>
<div class="ttc" id="aclassxtd_1_1drawing_1_1icon_html"><div class="ttname"><a href="classxtd_1_1drawing_1_1icon.html">xtd::drawing::icon</a></div><div class="ttdoc">Represents a Windows icon, which is a small bitmap image that is used to represent an object....</div><div class="ttdef"><b>Definition</b> icon.h:28</div></div>
<div class="ttc" id="aclassxtd_1_1drawing_1_1pen_html"><div class="ttname"><a href="classxtd_1_1drawing_1_1pen.html">xtd::drawing::pen</a></div><div class="ttdoc">Defines an object used to draw lines and curves. This class cannot be inherited.</div><div class="ttdef"><b>Definition</b> pen.h:35</div></div>
<div class="ttc" id="aclassxtd_1_1drawing_1_1point_html"><div class="ttname"><a href="classxtd_1_1drawing_1_1point.html">xtd::drawing::point</a></div><div class="ttdoc">Represents an ordered pair of integer x- and y-coordinates that defines a point in a two-dimensional ...</div><div class="ttdef"><b>Definition</b> point.h:54</div></div>
<div class="ttc" id="aclassxtd_1_1drawing_1_1point_html_a03bec99e22ac61014f59dc9286a223d7"><div class="ttname"><a href="classxtd_1_1drawing_1_1point.html#a03bec99e22ac61014f59dc9286a223d7">xtd::drawing::point::y</a></div><div class="ttdeci">int32 y() const noexcept</div><div class="ttdoc">Gets the y-coordinate of this xtd::drawing::point.</div></div>
<div class="ttc" id="aclassxtd_1_1drawing_1_1point_html_a1c00d823a48bfc1876fb57a6414c7b28"><div class="ttname"><a href="classxtd_1_1drawing_1_1point.html#a1c00d823a48bfc1876fb57a6414c7b28">xtd::drawing::point::x</a></div><div class="ttdeci">int32 x() const noexcept</div><div class="ttdoc">Gets the x-coordinate of this xtd::drawing::point.</div></div>
<div class="ttc" id="aclassxtd_1_1drawing_1_1rectangle_html"><div class="ttname"><a href="classxtd_1_1drawing_1_1rectangle.html">xtd::drawing::rectangle</a></div><div class="ttdoc">Stores a set of four integers that represent the location and size of a rectangle.</div><div class="ttdef"><b>Definition</b> rectangle.h:44</div></div>
<div class="ttc" id="aclassxtd_1_1drawing_1_1rectangle_html_a0c5161dea4d1dea262b7a5bc5a41e0f4"><div class="ttname"><a href="classxtd_1_1drawing_1_1rectangle.html#a0c5161dea4d1dea262b7a5bc5a41e0f4">xtd::drawing::rectangle::width</a></div><div class="ttdeci">int32 width() const noexcept</div><div class="ttdoc">Gets the width of this xtd::drawing::rectangle structure.</div></div>
<div class="ttc" id="aclassxtd_1_1drawing_1_1rectangle_html_a238c2585597e3405992f815b2bcc0452"><div class="ttname"><a href="classxtd_1_1drawing_1_1rectangle.html#a238c2585597e3405992f815b2bcc0452">xtd::drawing::rectangle::left</a></div><div class="ttdeci">int32 left() const noexcept</div><div class="ttdoc">Gets the x-coordinate of the left edge of this xtd::drawing::rectangle structure.</div></div>
<div class="ttc" id="aclassxtd_1_1drawing_1_1rectangle_html_a7a366faaac0d8a26179895dceaa046c0"><div class="ttname"><a href="classxtd_1_1drawing_1_1rectangle.html#a7a366faaac0d8a26179895dceaa046c0">xtd::drawing::rectangle::top</a></div><div class="ttdeci">int32 top() const noexcept</div><div class="ttdoc">Gets the y-coordinate of the top edge of this xtd::drawing::rectangle structure.</div></div>
<div class="ttc" id="aclassxtd_1_1drawing_1_1rectangle_html_a7e1dd8fab075294595b7876d42523624"><div class="ttname"><a href="classxtd_1_1drawing_1_1rectangle.html#a7e1dd8fab075294595b7876d42523624">xtd::drawing::rectangle::bottom</a></div><div class="ttdeci">int32 bottom() const noexcept</div><div class="ttdoc">Gets the y-coordinate that is the sum of the xtd::drawing::rectangle::y and xtd::drawing::rectangle::...</div></div>
<div class="ttc" id="aclassxtd_1_1drawing_1_1rectangle_html_a93699e2d49c7f8f2ae4e1459d4713e2f"><div class="ttname"><a href="classxtd_1_1drawing_1_1rectangle.html#a93699e2d49c7f8f2ae4e1459d4713e2f">xtd::drawing::rectangle::height</a></div><div class="ttdeci">int32 height() const noexcept</div><div class="ttdoc">Gets the height of this xtd::drawing::rectangle structure.</div></div>
<div class="ttc" id="aclassxtd_1_1drawing_1_1rectangle_html_ae98efedb4c2710b1d8d31a64bee3fe7b"><div class="ttname"><a href="classxtd_1_1drawing_1_1rectangle.html#ae98efedb4c2710b1d8d31a64bee3fe7b">xtd::drawing::rectangle::right</a></div><div class="ttdeci">int32 right() const noexcept</div><div class="ttdoc">Gets the x-coordinate that is the sum of xtd::drawing::rectangle::x and xtd::drawing::rectangle::widt...</div></div>
<div class="ttc" id="aclassxtd_1_1drawing_1_1solid__brush_html"><div class="ttname"><a href="classxtd_1_1drawing_1_1solid__brush.html">xtd::drawing::solid_brush</a></div><div class="ttdoc">Defines a xtd::drawing::brush of a single color. Brushes are used to fill graphics shapes,...</div><div class="ttdef"><b>Definition</b> solid_brush.h:30</div></div>
<div class="ttc" id="aclassxtd_1_1event__args_html"><div class="ttname"><a href="classxtd_1_1event__args.html">xtd::event_args</a></div><div class="ttdoc">Represents the base class for classes that contain event data, and provides a value to use for events...</div><div class="ttdef"><b>Definition</b> event_args.h:18</div></div>
<div class="ttc" id="aclassxtd_1_1forms_1_1about__dialog_html"><div class="ttname"><a href="classxtd_1_1forms_1_1about__dialog.html">xtd::forms::about_dialog</a></div><div class="ttdoc">Represents a dialog box that displays about dialog.</div><div class="ttdef"><b>Definition</b> about_dialog.h:38</div></div>
<div class="ttc" id="aclassxtd_1_1forms_1_1about__dialog_html_a717ec51d6be2038e594ea928debe26d8"><div class="ttname"><a href="classxtd_1_1forms_1_1about__dialog.html#a717ec51d6be2038e594ea928debe26d8">xtd::forms::about_dialog::icon</a></div><div class="ttdeci">xtd::drawing::icon icon() const noexcept</div><div class="ttdoc">Gets the product icon.</div></div>
<div class="ttc" id="aclassxtd_1_1forms_1_1menu_html"><div class="ttname"><a href="classxtd_1_1forms_1_1menu.html">xtd::forms::menu</a></div><div class="ttdoc">Represents the base functionality for all menus. Although tool_strip_drop_down and tool_strip_drop_do...</div><div class="ttdef"><b>Definition</b> menu.h:35</div></div>
<div class="ttc" id="aclassxtd_1_1forms_1_1mouse__event__args_html"><div class="ttname"><a href="classxtd_1_1forms_1_1mouse__event__args.html">xtd::forms::mouse_event_args</a></div><div class="ttdoc">Provides data for the xtd::forms::control::mouse_up, xtd::forms::control::mouse_down,...</div><div class="ttdef"><b>Definition</b> mouse_event_args.h:32</div></div>
<div class="ttc" id="aclassxtd_1_1forms_1_1paint__event__args_html"><div class="ttname"><a href="classxtd_1_1forms_1_1paint__event__args.html">xtd::forms::paint_event_args</a></div><div class="ttdoc">Provides data for the xtd::forms::control::paint event.</div><div class="ttdef"><b>Definition</b> paint_event_args.h:28</div></div>
<div class="ttc" id="aclassxtd_1_1random_html"><div class="ttname"><a href="classxtd_1_1random.html">xtd::random</a></div><div class="ttdoc">Represents a pseudo-random number generator, a device that produces a sequence of numbers that meet c...</div><div class="ttdef"><b>Definition</b> random.h:40</div></div>
<div class="ttc" id="aclassxtd_1_1random_html_a629a30d5ddd8035f45afe7d982fda712"><div class="ttname"><a href="classxtd_1_1random.html#a629a30d5ddd8035f45afe7d982fda712">xtd::random::next</a></div><div class="ttdeci">virtual int32 next() const</div><div class="ttdoc">Returns a nonnegative random number.</div></div>
<div class="ttc" id="aclassxtd_1_1ustring_html"><div class="ttname"><a href="classxtd_1_1ustring.html">xtd::ustring</a></div><div class="ttdoc">Represents text as a sequence of UTF-8 code units.</div><div class="ttdef"><b>Definition</b> ustring.h:47</div></div>
<div class="ttc" id="agroup__xtd__core_html_ggad94b2f43c7550180321e0ac4b02a4ff2a01bc6f8efa4202821e95f4fdf6298b30"><div class="ttname"><a href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a01bc6f8efa4202821e95f4fdf6298b30">xtd::console_key::clear</a></div><div class="ttdeci">@ clear</div><div class="ttdoc">The CLEAR key.</div></div>
<div class="ttc" id="agroup__xtd__core_html_ggad94b2f43c7550180321e0ac4b02a4ff2a2db95e8e1a9267b7a1188556b2013b33"><div class="ttname"><a href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a2db95e8e1a9267b7a1188556b2013b33">xtd::console_key::l</a></div><div class="ttdeci">@ l</div><div class="ttdoc">The L key.</div></div>
<div class="ttc" id="agroup__xtd__core_html_ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d"><div class="ttname"><a href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a415290769594460e2e485922904f345d">xtd::console_key::y</a></div><div class="ttdeci">@ y</div><div class="ttdoc">The Y key.</div></div>
<div class="ttc" id="agroup__xtd__core_html_ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6"><div class="ttname"><a href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a9dd4e461268c8034f5c8564e155c67a6">xtd::console_key::x</a></div><div class="ttdeci">@ x</div><div class="ttdoc">The X key.</div></div>
<div class="ttc" id="agroup__xtd__core_html_ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32"><div class="ttname"><a href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2ae1671797c52e15f763380b45e841ec32">xtd::console_key::e</a></div><div class="ttdeci">@ e</div><div class="ttdoc">The E key.</div></div>
<div class="ttc" id="agroup__xtd__forms_html_ga988a6abd919c15254f45a0bf9c2dcb17"><div class="ttname"><a href="group__xtd__forms.html#ga988a6abd919c15254f45a0bf9c2dcb17">xtd::forms::auto_size_mode</a></div><div class="ttdeci">auto_size_mode</div><div class="ttdoc">Specifies how a control will behave when its auto_size property is enabled.</div><div class="ttdef"><b>Definition</b> auto_size_mode.h:20</div></div>
<div class="ttc" id="agroup__xtd__forms_html_gga475781e3c7baa300a81ab16d22b16962ab435e227d5dd201e1768b2bcb2e0aa81"><div class="ttname"><a href="group__xtd__forms.html#gga475781e3c7baa300a81ab16d22b16962ab435e227d5dd201e1768b2bcb2e0aa81">xtd::forms::bounds_specified::height</a></div><div class="ttdeci">@ height</div><div class="ttdoc">Specifies that the height of the control is defined.</div></div>
<div class="ttc" id="agroup__xtd__forms_html_gga475781e3c7baa300a81ab16d22b16962aeaae26a6fb20ed3ef54fb23bfa0b1fcc"><div class="ttname"><a href="group__xtd__forms.html#gga475781e3c7baa300a81ab16d22b16962aeaae26a6fb20ed3ef54fb23bfa0b1fcc">xtd::forms::bounds_specified::width</a></div><div class="ttdeci">@ width</div><div class="ttdoc">Specifies that the width of the control is defined.</div></div>
<div class="ttc" id="agroup__xtd__forms_html_gga57070ef804d401fead746fcd411d02cca1cb251ec0d568de6a929b520c4aed8d1"><div class="ttname"><a href="group__xtd__forms.html#gga57070ef804d401fead746fcd411d02cca1cb251ec0d568de6a929b520c4aed8d1">xtd::forms::status_bar_panel_style::text</a></div><div class="ttdeci">@ text</div><div class="ttdoc">The xtd::forms::status_bar_panel displays text in the standard font.</div></div>
<div class="ttc" id="anamespacextd_1_1drawing_html"><div class="ttname"><a href="namespacextd_1_1drawing.html">xtd::drawing</a></div><div class="ttdoc">The xtd::drawing namespace provides access to GDI+ basic graphics functionality. More advanced functi...</div><div class="ttdef"><b>Definition</b> actions_system_images.h:11</div></div>
<div class="ttc" id="anamespacextd_1_1forms_html"><div class="ttname"><a href="namespacextd_1_1forms.html">xtd::forms</a></div><div class="ttdoc">The xtd::forms namespace contains classes for creating Windows-based applications that take full adva...</div><div class="ttdef"><b>Definition</b> xtd_about_box.h:12</div></div>
<div class="ttc" id="anamespacextd_html"><div class="ttname"><a href="namespacextd.html">xtd</a></div><div class="ttdoc">The xtd namespace contains all fundamental classes to access Hardware, Os, System,...</div><div class="ttdef"><b>Definition</b> xtd_about_box.h:10</div></div>
</div><!-- fragment --> </div><!-- contents -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat May 11 2024 21:12:12 for xtd by <a href="https://gammasoft71.wixsite.com/gammasoft">Gammasoft</a>. All rights reserved.
</small></address>
</body>
</html>
