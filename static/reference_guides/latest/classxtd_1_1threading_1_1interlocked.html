<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<title>xtd: xtd::threading::interlocked Class Reference</title>
    <link href="favicon.png" rel="shortcut icon" type="image/png"/>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom_images.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
    <script type="text/javascript"> DoxygenAwesomeDarkModeToggle.init() </script>
	</head>
	<body>
  <div id="page_container">
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
      <table cellspacing="0" cellpadding="0" style="width: 100%;">
				<tbody>
					<tr>
						<td id="projectlogo">
						  <a href="https://gammasoft71.github.io/xtd/" target="_new">
						    <img alt="Logo" src="xtd_doxygen.png"/>
						  </a>
						</td>
						<td id="projectalign" style="padding-left: 0.5em; text-align: right;">
							<div id="projectname">xtd
								<span id="projectnumber">0.2.0</span>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacextd.html">xtd</a></li><li class="navelem"><a class="el" href="namespacextd_1_1threading.html">threading</a></li><li class="navelem"><a class="el" href="classxtd_1_1threading_1_1interlocked.html">interlocked</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classxtd_1_1threading_1_1interlocked-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">xtd::threading::interlocked Class Reference<div class="ingroups"><a class="el" href="group__libraries.html">libraries</a> &raquo; <a class="el" href="group__xtd__core.html">xtd.core</a> &#124; <a class="el" href="group__system.html">system</a> &raquo; <a class="el" href="group__threading.html">threading</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for xtd::threading::interlocked:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classxtd_1_1threading_1_1interlocked.png" usemap="#xtd::threading::interlocked_map" alt=""/>
  <map id="xtd::threading::interlocked_map" name="xtd::threading::interlocked_map">
<area href="classxtd_1_1static__object.html" title="Represent a static object. A static class can&#39;t be instantiated (constructors are deleted)." alt="xtd::static_object" shape="rect" coords="0,0,155,24"/>
  </map>
</div></div>
<a name="details" id="details"></a><h2 class="groupheader">Definition</h2>
<div class="textblock"><p>Provides atomic operations for variables that are shared by multiple threads. </p>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_define" href="group__keywords.html#gabc8f9c2aa36f6cee610a37f0e8227fd1">core_export_</a> <a class="code hl_class" href="classxtd_1_1threading_1_1interlocked.html">interlocked</a> <a class="code hl_define" href="group__keywords.html#ga28796443ec37b938df7072c79595e3f6">static_</a></div>
<div class="ttc" id="aclassxtd_1_1threading_1_1interlocked_html"><div class="ttname"><a href="classxtd_1_1threading_1_1interlocked.html">xtd::threading::interlocked</a></div><div class="ttdoc">Provides atomic operations for variables that are shared by multiple threads.</div><div class="ttdef"><b>Definition</b> interlocked.h:38</div></div>
<div class="ttc" id="agroup__keywords_html_ga28796443ec37b938df7072c79595e3f6"><div class="ttname"><a href="group__keywords.html#ga28796443ec37b938df7072c79595e3f6">static_</a></div><div class="ttdeci">#define static_</div><div class="ttdoc">This keyword is use to represent a static object. A static object can't be instantiated (constructors...</div><div class="ttdef"><b>Definition</b> static.h:37</div></div>
<div class="ttc" id="agroup__keywords_html_gabc8f9c2aa36f6cee610a37f0e8227fd1"><div class="ttname"><a href="group__keywords.html#gabc8f9c2aa36f6cee610a37f0e8227fd1">core_export_</a></div><div class="ttdeci">#define core_export_</div><div class="ttdoc">Define shared library export.</div><div class="ttdef"><b>Definition</b> core_export.h:13</div></div>
</div><!-- fragment --> <dl class="section user"><dt>Inheritance</dt><dd><a class="el" href="classxtd_1_1static__object.html" title="Represent a static object. A static class can&#39;t be instantiated (constructors are deleted).">xtd::static_object</a> â†’ <a class="el" href="classxtd_1_1threading_1_1interlocked.html" title="Provides atomic operations for variables that are shared by multiple threads.">xtd::threading::interlocked</a> </dd></dl>
<dl class="section user"><dt>Header</dt><dd><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;xtd/threading/interlocked&gt;</span> </div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Namespace</dt><dd><a class="el" href="namespacextd_1_1threading.html" title="The xtd::threading namespace provides classes and interfaces that enable multithreaded programming....">xtd::threading</a> </dd></dl>
<dl class="section user"><dt>Library</dt><dd>xtd.core</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The methods of this class help protect against errors that can occur when the scheduler switches contexts while a thread is updating a variable that can be accessed by other threads, or when two threads are executing concurrently on separate processors. The members of this class do not throw exceptions. </dd>
<dd>
The <a class="el" href="classxtd_1_1threading_1_1interlocked.html#a66c4f39315d4166efc26075e14b8e74b" title="Increments a specified variable and stores the result, as an atomic operation.">xtd::threading::interlocked::increment</a> and <a class="el" href="classxtd_1_1threading_1_1interlocked.html#a87dc180d9e778435f75b8314c2139792" title="Decrements a specified variable and stores the result, as an atomic operation.">xtd::threading::interlocked::decrement</a> methods increment or decrement a variable and store the resulting value in a single operation. On most computers, incrementing a variable is not an atomic operation, requiring the following steps: </dd>
<dd>
1. Load a value from an instance variable into a register. </dd>
<dd>
2. Increment or decrement the value. </dd>
<dd>
3. Store the value in the instance variable. </dd>
<dd>
If you do not use <a class="el" href="classxtd_1_1threading_1_1interlocked.html#a66c4f39315d4166efc26075e14b8e74b" title="Increments a specified variable and stores the result, as an atomic operation.">xtd::threading::interlocked::increment</a> and <a class="el" href="classxtd_1_1threading_1_1interlocked.html#a87dc180d9e778435f75b8314c2139792" title="Decrements a specified variable and stores the result, as an atomic operation.">xtd::threading::interlocked::decrement</a>, a thread can be preempted after executing the first two steps. Another thread can then execute all three steps. When the first thread resumes execution, it overwrites the value in the instance variable, and the effect of the increment or decrement performed by the second thread is lost. </dd>
<dd>
The xtd::threading::exchange method atomically exchanges the values of the specified variables. The compare_exchange method combines two operations: comparing two values and storing a third value in one of the variables, based on the outcome of the comparison. The compare and exchange operations are performed as an atomic operation. </dd></dl>
<dl class="section user"><dt>Examples</dt><dd>The following code example shows a thread-safe resource locking mechanism. <div class="fragment"><div class="line"><span class="preprocessor">#include &lt;xtd/threading/interlocked&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/threading/thread&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/console&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/random&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/startup&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacextd.html">xtd</a>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacextd_1_1threading.html">xtd::threading</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>interlocked_example {</div>
<div class="line">  <span class="keyword">struct </span>my_thread {</div>
<div class="line">    <a class="code hl_class" href="classxtd_1_1threading_1_1thread.html">threading::thread</a> <a class="code hl_class" href="classxtd_1_1threading_1_1thread.html">thread</a>;</div>
<div class="line">    <a class="code hl_class" href="classxtd_1_1ustring.html">ustring</a> name;</div>
<div class="line">  };</div>
<div class="line">  </div>
<div class="line">  <span class="keyword">class </span>my_interlocked_exchange_class {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <span class="comment">//0 for False, 1 for True.</span></div>
<div class="line">    <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">int</span> using_resource = 0;</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">int</span> num_thread_iterations = 5;</div>
<div class="line">    </div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// The main entry point for the application.</span></div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">auto</span> main() {</div>
<div class="line">      <span class="keyword">auto</span> my_threads = std::array&lt;my_thread, 10&gt; {};</div>
<div class="line">      <span class="keyword">auto</span> rnd = <a class="code hl_class" href="classxtd_1_1random.html">xtd::random</a> {};</div>
<div class="line">      </div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keyword">auto</span> index = 0ul; index &lt; my_threads.size(); ++index) {</div>
<div class="line">        my_threads[index].name = ustring::format(<span class="stringliteral">&quot;Thread{}&quot;</span>, index + 1);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">//Wait a random amount of time before starting next thread.</span></div>
<div class="line">        thread::sleep(rnd.next(0, 1000));</div>
<div class="line">        my_threads[index].thread = <a class="code hl_class" href="classxtd_1_1threading_1_1thread.html">thread</a> {my_thread_proc};</div>
<div class="line">        my_threads[index].<a class="code hl_function" href="classxtd_1_1threading_1_1thread.html#a01ebb1fb46c9f74b982192f216f8951f">thread</a>.start(my_threads[index].name);</div>
<div class="line">      }</div>
<div class="line">      </div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keyword">auto</span> index = 0ul; index &lt; my_threads.size(); ++index)</div>
<div class="line">        my_threads[index].<a class="code hl_class" href="classxtd_1_1threading_1_1thread.html">thread</a>.<a class="code hl_function" href="classxtd_1_1threading_1_1thread.html#a65fc3f1079b67eb775925c7f1cb69a56">join</a>();</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> my_thread_proc(std::any name) {</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keyword">auto</span> index = 0; index &lt; num_thread_iterations; ++index) {</div>
<div class="line">        use_resource(as&lt;ustring&gt;(name));</div>
<div class="line">        </div>
<div class="line">        <span class="comment">//Wait 1 second before next attempt.</span></div>
<div class="line">        thread::sleep(1000);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">//A simple method that denies reentrancy.</span></div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">auto</span> use_resource(<span class="keyword">const</span> <a class="code hl_class" href="classxtd_1_1ustring.html">ustring</a>&amp; name)-&gt;bool {</div>
<div class="line">      <span class="comment">//0 indicates that the method is not in use.</span></div>
<div class="line">      <span class="keywordflow">if</span> (0 == interlocked::exchange(using_resource, 1)) {</div>
<div class="line">        console::write_line(<span class="stringliteral">&quot;{} acquired the lock&quot;</span>, name);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">//Code to access a resource that is not thread safe would go here.</span></div>
<div class="line">        </div>
<div class="line">        <span class="comment">//Simulate some work</span></div>
<div class="line">        thread::sleep(500);</div>
<div class="line">        </div>
<div class="line">        console::write_line(<span class="stringliteral">&quot;{} exiting lock&quot;</span>, name);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">//Release the lock</span></div>
<div class="line">        interlocked::exchange(using_resource, 0);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">      } <span class="keywordflow">else</span> {</div>
<div class="line">        console::write_line(<span class="stringliteral">&quot;   {} was denied the lock&quot;</span>, name);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="group__keywords.html#ga44bd440a34d147923e428eacd1c8eedd">startup_</a>(interlocked_example::my_interlocked_exchange_class::main);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// This example produces output similar to the following:</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Thread1 acquired the lock</span></div>
<div class="line"><span class="comment">// Thread1 exiting lock</span></div>
<div class="line"><span class="comment">// Thread2 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread3 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread2 exiting lock</span></div>
<div class="line"><span class="comment">// Thread1 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread4 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread5 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread1 exiting lock</span></div>
<div class="line"><span class="comment">// Thread6 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread3 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread2 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread7 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread6 exiting lock</span></div>
<div class="line"><span class="comment">// Thread4 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread5 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread1 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread4 exiting lock</span></div>
<div class="line"><span class="comment">// Thread8 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread3 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread2 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread7 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread6 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread9 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread8 exiting lock</span></div>
<div class="line"><span class="comment">// Thread5 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread1 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread4 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread3 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread10 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread2 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread7 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread5 exiting lock</span></div>
<div class="line"><span class="comment">// Thread6 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread9 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread8 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread1 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread6 exiting lock</span></div>
<div class="line"><span class="comment">// Thread4 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread3 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread10 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread2 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread7 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread5 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread4 exiting lock</span></div>
<div class="line"><span class="comment">// Thread9 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread8 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread6 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread9 exiting lock</span></div>
<div class="line"><span class="comment">// Thread10 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread7 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread5 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread4 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread8 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread10 exiting lock</span></div>
<div class="line"><span class="comment">// Thread6 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread9 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread6 exiting lock</span></div>
<div class="line"><span class="comment">// Thread8 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread10 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread9 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread8 exiting lock</span></div>
<div class="line"><span class="comment">// Thread10 acquired the lock</span></div>
<div class="line"><span class="comment">// Thread10 exiting lock</span></div>
<div class="ttc" id="aclassxtd_1_1random_html"><div class="ttname"><a href="classxtd_1_1random.html">xtd::random</a></div><div class="ttdoc">Represents a pseudo-random number generator, a device that produces a sequence of numbers that meet c...</div><div class="ttdef"><b>Definition</b> random.h:40</div></div>
<div class="ttc" id="aclassxtd_1_1threading_1_1thread_html"><div class="ttname"><a href="classxtd_1_1threading_1_1thread.html">xtd::threading::thread</a></div><div class="ttdoc">Creates and controls a thread, sets its priority, and gets its status.</div><div class="ttdef"><b>Definition</b> thread.h:41</div></div>
<div class="ttc" id="aclassxtd_1_1threading_1_1thread_html_a01ebb1fb46c9f74b982192f216f8951f"><div class="ttname"><a href="classxtd_1_1threading_1_1thread.html#a01ebb1fb46c9f74b982192f216f8951f">xtd::threading::thread::thread</a></div><div class="ttdeci">thread(const xtd::threading::parameterized_thread_start &amp;start)</div><div class="ttdoc">Initializes a new instance of the xtd::threading::thread class, specifying a delegate that allows an ...</div></div>
<div class="ttc" id="aclassxtd_1_1threading_1_1thread_html_a65fc3f1079b67eb775925c7f1cb69a56"><div class="ttname"><a href="classxtd_1_1threading_1_1thread.html#a65fc3f1079b67eb775925c7f1cb69a56">xtd::threading::thread::join</a></div><div class="ttdeci">void join()</div><div class="ttdoc">Blocks the calling thread until this thread object terminates, while continuing to perform standard C...</div></div>
<div class="ttc" id="aclassxtd_1_1ustring_html"><div class="ttname"><a href="classxtd_1_1ustring.html">xtd::ustring</a></div><div class="ttdoc">Represents text as a sequence of UTF-8 code units.</div><div class="ttdef"><b>Definition</b> ustring.h:47</div></div>
<div class="ttc" id="agroup__keywords_html_ga44bd440a34d147923e428eacd1c8eedd"><div class="ttname"><a href="group__keywords.html#ga44bd440a34d147923e428eacd1c8eedd">startup_</a></div><div class="ttdeci">#define startup_(main_method)</div><div class="ttdoc">Defines the entry point to be called when the application loads. Generally this is set either to the ...</div><div class="ttdef"><b>Definition</b> startup.h:166</div></div>
<div class="ttc" id="anamespacextd_1_1threading_html"><div class="ttname"><a href="namespacextd_1_1threading.html">xtd::threading</a></div><div class="ttdoc">The xtd::threading namespace provides classes and interfaces that enable multithreaded programming....</div><div class="ttdef"><b>Definition</b> abandoned_mutex_exception.h:10</div></div>
<div class="ttc" id="anamespacextd_html"><div class="ttname"><a href="namespacextd.html">xtd</a></div><div class="ttdoc">The xtd namespace contains all fundamental classes to access Hardware, Os, System,...</div><div class="ttdef"><b>Definition</b> xtd_about_box.h:10</div></div>
</div><!-- fragment --> </dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Public Static Methods</h2></td></tr>
<tr class="memitem:a35d4d7219315784e960dfc7667181f3d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#a35d4d7219315784e960dfc7667181f3d">add</a> (<a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a> &amp;location, <a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a> value) noexcept</td></tr>
<tr class="memdesc:a35d4d7219315784e960dfc7667181f3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds two 32-bit integers and replaces the first integer with the sum, as an atomic operation.  <br /></td></tr>
<tr class="separator:a35d4d7219315784e960dfc7667181f3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9c12719786c6734d7ddb0c3332e2d0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#a6e9c12719786c6734d7ddb0c3332e2d0">add</a> (<a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> &amp;location, <a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> value) noexcept</td></tr>
<tr class="memdesc:a6e9c12719786c6734d7ddb0c3332e2d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds two 64-bit integers and replaces the first integer with the sum, as an atomic operation.  <br /></td></tr>
<tr class="separator:a6e9c12719786c6734d7ddb0c3332e2d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fa1c7713e0a72e4544044b7e5229277"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#a4fa1c7713e0a72e4544044b7e5229277">compare_exchange</a> (double &amp;location, double value, double comparand) noexcept</td></tr>
<tr class="memdesc:a4fa1c7713e0a72e4544044b7e5229277"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compares two Double for equality and, if they are equal, replaces one of the values.  <br /></td></tr>
<tr class="separator:a4fa1c7713e0a72e4544044b7e5229277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac8858f8a4bcc463ba66c79f637e92b9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#aac8858f8a4bcc463ba66c79f637e92b9">compare_exchange</a> (<a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a> &amp;location, <a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a> value, <a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a> comparand) noexcept</td></tr>
<tr class="memdesc:aac8858f8a4bcc463ba66c79f637e92b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compares two 32-bit signed integers for equality and, if they are equal, replaces one of the values.  <br /></td></tr>
<tr class="separator:aac8858f8a4bcc463ba66c79f637e92b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d579e461eade7ab76255cfc7bd4a9c6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#a8d579e461eade7ab76255cfc7bd4a9c6">compare_exchange</a> (<a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> &amp;location, <a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> value, <a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> comparand) noexcept</td></tr>
<tr class="memdesc:a8d579e461eade7ab76255cfc7bd4a9c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compares two 64-bit signed integers for equality and, if they are equal, replaces one of the values.  <br /></td></tr>
<tr class="separator:a8d579e461eade7ab76255cfc7bd4a9c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8b0bc5ff488c6971722451133904f0f"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#ab8b0bc5ff488c6971722451133904f0f">compare_exchange</a> (void *&amp;location, void *value, void *comparand) noexcept</td></tr>
<tr class="memdesc:ab8b0bc5ff488c6971722451133904f0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compares two platform-specific handles or pointers for equality and, if they are equal, replaces one of them.  <br /></td></tr>
<tr class="separator:ab8b0bc5ff488c6971722451133904f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b7acdd3dd001f7b211557968798f278"><td class="memTemplParams" colspan="2">template&lt;typename type_t &gt; </td></tr>
<tr class="memitem:a9b7acdd3dd001f7b211557968798f278"><td class="memTemplItemLeft" align="right" valign="top">static type_t&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#a9b7acdd3dd001f7b211557968798f278">compare_exchange</a> (<a class="el" href="classxtd_1_1object.html">object</a> &amp;location, const <a class="el" href="classxtd_1_1object.html">object</a> &amp;value, const <a class="el" href="classxtd_1_1object.html">object</a> &amp;comparand) noexcept</td></tr>
<tr class="memdesc:a9b7acdd3dd001f7b211557968798f278"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compares two objects for equality and, if they are equal, replaces one of them.  <br /></td></tr>
<tr class="separator:a9b7acdd3dd001f7b211557968798f278"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83e72c5c31aa8de63db8f3c06ca6d2ee"><td class="memTemplParams" colspan="2">template&lt;typename type_t &gt; </td></tr>
<tr class="memitem:a83e72c5c31aa8de63db8f3c06ca6d2ee"><td class="memTemplItemLeft" align="right" valign="top">static type_t&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#a83e72c5c31aa8de63db8f3c06ca6d2ee">compare_exchange</a> (type_t &amp;location, type_t value, type_t comparand) noexcept</td></tr>
<tr class="memdesc:a83e72c5c31aa8de63db8f3c06ca6d2ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compares two instances of the specified reference type type_t for equality and, if they are equal, replaces one of them.  <br /></td></tr>
<tr class="separator:a83e72c5c31aa8de63db8f3c06ca6d2ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4657b849ba5f95c7093cabf707a04f0"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#ab4657b849ba5f95c7093cabf707a04f0">compare_exchange</a> (float &amp;location, float value, float comparand) noexcept</td></tr>
<tr class="memdesc:ab4657b849ba5f95c7093cabf707a04f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compares two Single for equality and, if they are equal, replaces one of the values.  <br /></td></tr>
<tr class="separator:ab4657b849ba5f95c7093cabf707a04f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87dc180d9e778435f75b8314c2139792"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#a87dc180d9e778435f75b8314c2139792">decrement</a> (<a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a> &amp;location) noexcept</td></tr>
<tr class="memdesc:a87dc180d9e778435f75b8314c2139792"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrements a specified variable and stores the result, as an atomic operation.  <br /></td></tr>
<tr class="separator:a87dc180d9e778435f75b8314c2139792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb977ef29126f5d6d36438b477a53d83"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#acb977ef29126f5d6d36438b477a53d83">decrement</a> (<a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> &amp;location) noexcept</td></tr>
<tr class="memdesc:acb977ef29126f5d6d36438b477a53d83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrements a specified variable and stores the result, as an atomic operation.  <br /></td></tr>
<tr class="separator:acb977ef29126f5d6d36438b477a53d83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af651a4e7265de60e36605b2b2bc6fe02"><td class="memTemplParams" colspan="2">template&lt;typename type_t &gt; </td></tr>
<tr class="memitem:af651a4e7265de60e36605b2b2bc6fe02"><td class="memTemplItemLeft" align="right" valign="top">static type_t&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#af651a4e7265de60e36605b2b2bc6fe02">exchange</a> (type_t &amp;location, type_t value)</td></tr>
<tr class="memdesc:af651a4e7265de60e36605b2b2bc6fe02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a variable of the specified type type_t to a specified value and returns the original value, as an atomic operation.  <br /></td></tr>
<tr class="separator:af651a4e7265de60e36605b2b2bc6fe02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25d8dcbbea3a4c5545f8bd64e8b6c7a5"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#a25d8dcbbea3a4c5545f8bd64e8b6c7a5">exchange</a> (double &amp;location, double value) noexcept</td></tr>
<tr class="memdesc:a25d8dcbbea3a4c5545f8bd64e8b6c7a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a double-precision floating point number to a specified value and returns the original value, as an atomic operation.  <br /></td></tr>
<tr class="separator:a25d8dcbbea3a4c5545f8bd64e8b6c7a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace7d65e5175e9352cb135a83492797ec"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#ace7d65e5175e9352cb135a83492797ec">exchange</a> (<a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a> &amp;location, <a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a> value) noexcept</td></tr>
<tr class="memdesc:ace7d65e5175e9352cb135a83492797ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a 32-bit signed integer to a specified value and returns the original value, as an atomic operation.  <br /></td></tr>
<tr class="separator:ace7d65e5175e9352cb135a83492797ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a404824e102fcf36080936fa559b6013d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#a404824e102fcf36080936fa559b6013d">exchange</a> (<a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> &amp;location, <a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> value) noexcept</td></tr>
<tr class="memdesc:a404824e102fcf36080936fa559b6013d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a 64-bit signed integer to a specified value and returns the original value, as an atomic operation.  <br /></td></tr>
<tr class="separator:a404824e102fcf36080936fa559b6013d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84f8575c6c3e89d1020f576b37a8423e"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#a84f8575c6c3e89d1020f576b37a8423e">exchange</a> (void *&amp;location, void *value) noexcept</td></tr>
<tr class="memdesc:a84f8575c6c3e89d1020f576b37a8423e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a platform-specific handles or pointers to a specified value and returns the original value, as an atomic operation.  <br /></td></tr>
<tr class="separator:a84f8575c6c3e89d1020f576b37a8423e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a557caac3e8c6375a456a5e1723ed9b6c"><td class="memTemplParams" colspan="2">template&lt;typename type_t &gt; </td></tr>
<tr class="memitem:a557caac3e8c6375a456a5e1723ed9b6c"><td class="memTemplItemLeft" align="right" valign="top">static type_t&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#a557caac3e8c6375a456a5e1723ed9b6c">exchange</a> (<a class="el" href="classxtd_1_1object.html">object</a> &amp;location, const <a class="el" href="classxtd_1_1object.html">object</a> &amp;value) noexcept</td></tr>
<tr class="memdesc:a557caac3e8c6375a456a5e1723ed9b6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets an object to a specified value and returns the original value, as an atomic operation.  <br /></td></tr>
<tr class="separator:a557caac3e8c6375a456a5e1723ed9b6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdbf57765932b8da6f9d177ee16408c1"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#abdbf57765932b8da6f9d177ee16408c1">exchange</a> (float &amp;location, float value) noexcept</td></tr>
<tr class="memdesc:abdbf57765932b8da6f9d177ee16408c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a double-precision floating point number to a specified value and returns the original value, as an atomic operation.  <br /></td></tr>
<tr class="separator:abdbf57765932b8da6f9d177ee16408c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c4f39315d4166efc26075e14b8e74b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#a66c4f39315d4166efc26075e14b8e74b">increment</a> (<a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a> &amp;location) noexcept</td></tr>
<tr class="memdesc:a66c4f39315d4166efc26075e14b8e74b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments a specified variable and stores the result, as an atomic operation.  <br /></td></tr>
<tr class="separator:a66c4f39315d4166efc26075e14b8e74b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7e5c3d50ec453fe74c2af6165684122"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#ac7e5c3d50ec453fe74c2af6165684122">increment</a> (<a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> &amp;location) noexcept</td></tr>
<tr class="memdesc:ac7e5c3d50ec453fe74c2af6165684122"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments a specified variable and stores the result, as an atomic operation.  <br /></td></tr>
<tr class="separator:ac7e5c3d50ec453fe74c2af6165684122"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6506b65f92ae0ed6fa25596b4911850f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#a6506b65f92ae0ed6fa25596b4911850f">memory_barrier</a> () noexcept</td></tr>
<tr class="memdesc:a6506b65f92ae0ed6fa25596b4911850f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronizes memory access as follows: The processor that executes the current thread cannot reorder instructions in such a way that memory accesses before the call to <a class="el" href="classxtd_1_1threading_1_1interlocked.html#a6506b65f92ae0ed6fa25596b4911850f" title="Synchronizes memory access as follows: The processor that executes the current thread cannot reorder ...">xtd::threading::interlocked::memory_barrier</a> execute after memory accesses that follow the call to <a class="el" href="classxtd_1_1threading_1_1interlocked.html#a6506b65f92ae0ed6fa25596b4911850f" title="Synchronizes memory access as follows: The processor that executes the current thread cannot reorder ...">xtd::threading::interlocked::memory_barrier</a>.  <br /></td></tr>
<tr class="separator:a6506b65f92ae0ed6fa25596b4911850f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a270b1d6b07eb8012eb4aa5ea37a9e35b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxtd_1_1threading_1_1interlocked.html#a270b1d6b07eb8012eb4aa5ea37a9e35b">read</a> (<a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> &amp;location) noexcept</td></tr>
<tr class="memdesc:a270b1d6b07eb8012eb4aa5ea37a9e35b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a 64-bit value, loaded as an atomic operation.  <br /></td></tr>
<tr class="separator:a270b1d6b07eb8012eb4aa5ea37a9e35b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a35d4d7219315784e960dfc7667181f3d" name="a35d4d7219315784e960dfc7667181f3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35d4d7219315784e960dfc7667181f3d">&#9670;&#160;</a></span>add() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a> xtd::threading::interlocked::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a> &amp;&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds two 32-bit integers and replaces the first integer with the sum, as an atomic operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>A variable containing the first value to be added. The sum of the two values is stored in location. </td></tr>
    <tr><td class="paramname">value</td><td>The value to be added to the integer at location. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int32 The new value stored at location. </dd></dl>

</div>
</div>
<a id="a6e9c12719786c6734d7ddb0c3332e2d0" name="a6e9c12719786c6734d7ddb0c3332e2d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e9c12719786c6734d7ddb0c3332e2d0">&#9670;&#160;</a></span>add() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> xtd::threading::interlocked::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> &amp;&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds two 64-bit integers and replaces the first integer with the sum, as an atomic operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>A variable containing the first value to be added. The sum of the two values is stored in location. </td></tr>
    <tr><td class="paramname">value</td><td>The value to be added to the integer at location. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int64 The new value stored at location. </dd></dl>

</div>
</div>
<a id="a4fa1c7713e0a72e4544044b7e5229277" name="a4fa1c7713e0a72e4544044b7e5229277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fa1c7713e0a72e4544044b7e5229277">&#9670;&#160;</a></span>compare_exchange() <span class="overload">[1/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double xtd::threading::interlocked::compare_exchange </td>
          <td>(</td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>comparand</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compares two Double for equality and, if they are equal, replaces one of the values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The destination, whose value is compared with comparand and possibly replaced. </td></tr>
    <tr><td class="paramname">value</td><td>The value that replaces the destination value if the comparison results in equality. </td></tr>
    <tr><td class="paramname">comparand</td><td>The value that is compared to the value at location. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The original value in location. </dd></dl>

</div>
</div>
<a id="ab4657b849ba5f95c7093cabf707a04f0" name="ab4657b849ba5f95c7093cabf707a04f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4657b849ba5f95c7093cabf707a04f0">&#9670;&#160;</a></span>compare_exchange() <span class="overload">[2/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static float xtd::threading::interlocked::compare_exchange </td>
          <td>(</td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>comparand</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compares two Single for equality and, if they are equal, replaces one of the values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The destination, whose value is compared with comparand and possibly replaced. </td></tr>
    <tr><td class="paramname">value</td><td>The value that replaces the destination value if the comparison results in equality. </td></tr>
    <tr><td class="paramname">comparand</td><td>The value that is compared to the value at location. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The original value in location. </dd></dl>

</div>
</div>
<a id="aac8858f8a4bcc463ba66c79f637e92b9" name="aac8858f8a4bcc463ba66c79f637e92b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac8858f8a4bcc463ba66c79f637e92b9">&#9670;&#160;</a></span>compare_exchange() <span class="overload">[3/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a> xtd::threading::interlocked::compare_exchange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a> &amp;&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a>&#160;</td>
          <td class="paramname"><em>comparand</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compares two 32-bit signed integers for equality and, if they are equal, replaces one of the values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The destination, whose value is compared with Comparand and possibly replaced. </td></tr>
    <tr><td class="paramname">value</td><td>The value that replaces the destination value if the comparison results in equality. </td></tr>
    <tr><td class="paramname">Comparand</td><td>The value that is compared to the value at location. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The original value in location. </dd></dl>

</div>
</div>
<a id="a8d579e461eade7ab76255cfc7bd4a9c6" name="a8d579e461eade7ab76255cfc7bd4a9c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d579e461eade7ab76255cfc7bd4a9c6">&#9670;&#160;</a></span>compare_exchange() <span class="overload">[4/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> xtd::threading::interlocked::compare_exchange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> &amp;&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a>&#160;</td>
          <td class="paramname"><em>comparand</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compares two 64-bit signed integers for equality and, if they are equal, replaces one of the values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The destination, whose value is compared with comparand and possibly replaced. </td></tr>
    <tr><td class="paramname">value</td><td>The value that replaces the destination value if the comparison results in equality. </td></tr>
    <tr><td class="paramname">comparand</td><td>The value that is compared to the value at location. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The original value in location. </dd></dl>

</div>
</div>
<a id="a9b7acdd3dd001f7b211557968798f278" name="a9b7acdd3dd001f7b211557968798f278"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b7acdd3dd001f7b211557968798f278">&#9670;&#160;</a></span>compare_exchange() <span class="overload">[5/7]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename type_t &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static type_t xtd::threading::interlocked::compare_exchange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classxtd_1_1object.html">object</a> &amp;&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classxtd_1_1object.html">object</a> &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classxtd_1_1object.html">object</a> &amp;&#160;</td>
          <td class="paramname"><em>comparand</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compares two objects for equality and, if they are equal, replaces one of them. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The destination, whose value is compared with comparand and possibly replaced. </td></tr>
    <tr><td class="paramname">value</td><td>The value that replaces the destination value if the comparison results in equality. </td></tr>
    <tr><td class="paramname">comparand</td><td>The value that is compared to the value at location. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The original value in location. </dd></dl>

</div>
</div>
<a id="a83e72c5c31aa8de63db8f3c06ca6d2ee" name="a83e72c5c31aa8de63db8f3c06ca6d2ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83e72c5c31aa8de63db8f3c06ca6d2ee">&#9670;&#160;</a></span>compare_exchange() <span class="overload">[6/7]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename type_t &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static type_t xtd::threading::interlocked::compare_exchange </td>
          <td>(</td>
          <td class="paramtype">type_t &amp;&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type_t&#160;</td>
          <td class="paramname"><em>comparand</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compares two instances of the specified reference type type_t for equality and, if they are equal, replaces one of them. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The destination, whose value is compared with comparand and possibly replaced. </td></tr>
    <tr><td class="paramname">value</td><td>The value that replaces the destination value if the comparison results in equality. </td></tr>
    <tr><td class="paramname">comparand</td><td>The value that is compared to the value at location. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The original value in location. </dd></dl>

</div>
</div>
<a id="ab8b0bc5ff488c6971722451133904f0f" name="ab8b0bc5ff488c6971722451133904f0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8b0bc5ff488c6971722451133904f0f">&#9670;&#160;</a></span>compare_exchange() <span class="overload">[7/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * xtd::threading::interlocked::compare_exchange </td>
          <td>(</td>
          <td class="paramtype">void *&amp;&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>comparand</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compares two platform-specific handles or pointers for equality and, if they are equal, replaces one of them. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The destination, whose value is compared with comparand and possibly replaced. </td></tr>
    <tr><td class="paramname">value</td><td>The value that replaces the destination value if the comparison results in equality. </td></tr>
    <tr><td class="paramname">comparand</td><td>The value that is compared to the value at location. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The original value in location. </dd></dl>

</div>
</div>
<a id="a87dc180d9e778435f75b8314c2139792" name="a87dc180d9e778435f75b8314c2139792"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87dc180d9e778435f75b8314c2139792">&#9670;&#160;</a></span>decrement() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a> xtd::threading::interlocked::decrement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a> &amp;&#160;</td>
          <td class="paramname"><em>location</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decrements a specified variable and stores the result, as an atomic operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The variable whose value is to be decremented. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The decremented value. </dd></dl>
<dl class="section user"><dt>Examples</dt><dd>The following code example shows a thread-safe way to increment and decrement an integer value. SafeInstanceCount will always be zero. However, UnsafeInstanceCount will not necessarily be zero because a race condition occurs between incrementing and decrementing the count. This effect is especially marked on a multiprocessor computer. <div class="fragment"><div class="line"><span class="preprocessor">#include &lt;xtd/threading/interlocked&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/threading/thread&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/console&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/startup&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacextd.html">xtd</a>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacextd_1_1threading.html">xtd::threading</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>interlocked_decrement_example {</div>
<div class="line">  <span class="keyword">class </span>my_interlocked_decrement_class {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <span class="keyword">class </span>count_class {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">      <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">int</span> unsafe_instance_count = 0;</div>
<div class="line">      <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">int</span> safe_instance_count = 0;</div>
<div class="line">      </div>
<div class="line">      count_class() {</div>
<div class="line">        unsafe_instance_count++;</div>
<div class="line">        interlocked::increment(safe_instance_count);</div>
<div class="line">      }</div>
<div class="line">      </div>
<div class="line">      ~count_class() {</div>
<div class="line">        unsafe_instance_count--;</div>
<div class="line">        interlocked::decrement(safe_instance_count);</div>
<div class="line">      }</div>
<div class="line">    };</div>
<div class="line">    </div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">auto</span> main() {</div>
<div class="line">      <span class="keyword">auto</span> thread1 = <a class="code hl_class" href="classxtd_1_1threading_1_1thread.html">thread</a> {thread_method};</div>
<div class="line">      <span class="keyword">auto</span> thread2 = <a class="code hl_class" href="classxtd_1_1threading_1_1thread.html">thread</a> {thread_method};</div>
<div class="line">      thread1.<a class="code hl_function" href="classxtd_1_1threading_1_1thread.html#a573cca51d21d56dcf79eaace281b74b0">start</a>();</div>
<div class="line">      thread2.start();</div>
<div class="line">      thread1.join();</div>
<div class="line">      thread2.join();</div>
<div class="line"> </div>
<div class="line">      console::write_line(<span class="stringliteral">&quot;unsafe_instance_count: {}\nsafe_instance_count: {}&quot;</span>, count_class::unsafe_instance_count, count_class::safe_instance_count);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> thread_method() {</div>
<div class="line">      <span class="keyword">auto</span> cc = count_class {};</div>
<div class="line">      </div>
<div class="line">      <span class="comment">// Create 100000 instances of count_class.</span></div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a865c0c0b4ab0e063e5caa3387c1a8741">i</a> &lt; 100000; ++<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a865c0c0b4ab0e063e5caa3387c1a8741">i</a>)</div>
<div class="line">        cc = count_class {};</div>
<div class="line">    }</div>
<div class="line">  };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="group__keywords.html#ga44bd440a34d147923e428eacd1c8eedd">startup_</a>(interlocked_decrement_example::my_interlocked_decrement_class::main);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// This code produces the following output:</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// unsafe_instance_count: 253</span></div>
<div class="line"><span class="comment">// safe_instance_count: 0</span></div>
<div class="ttc" id="aclassxtd_1_1threading_1_1thread_html_a573cca51d21d56dcf79eaace281b74b0"><div class="ttname"><a href="classxtd_1_1threading_1_1thread.html#a573cca51d21d56dcf79eaace281b74b0">xtd::threading::thread::start</a></div><div class="ttdeci">void start()</div><div class="ttdoc">Causes the operating system to change the state of the current instance to xtd::threading::thread_sta...</div></div>
<div class="ttc" id="agroup__xtd__core_html_ggad94b2f43c7550180321e0ac4b02a4ff2a865c0c0b4ab0e063e5caa3387c1a8741"><div class="ttname"><a href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a865c0c0b4ab0e063e5caa3387c1a8741">xtd::console_key::i</a></div><div class="ttdeci">@ i</div><div class="ttdoc">The I key.</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="acb977ef29126f5d6d36438b477a53d83" name="acb977ef29126f5d6d36438b477a53d83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb977ef29126f5d6d36438b477a53d83">&#9670;&#160;</a></span>decrement() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> xtd::threading::interlocked::decrement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> &amp;&#160;</td>
          <td class="paramname"><em>location</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decrements a specified variable and stores the result, as an atomic operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The variable whose value is to be decremented. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The decremented value. </dd></dl>

</div>
</div>
<a id="a25d8dcbbea3a4c5545f8bd64e8b6c7a5" name="a25d8dcbbea3a4c5545f8bd64e8b6c7a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25d8dcbbea3a4c5545f8bd64e8b6c7a5">&#9670;&#160;</a></span>exchange() <span class="overload">[1/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double xtd::threading::interlocked::exchange </td>
          <td>(</td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets a double-precision floating point number to a specified value and returns the original value, as an atomic operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The variable to set to the specified value. </td></tr>
    <tr><td class="paramname">value</td><td>The value to which the location_d parameter is set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The original value of location_d. </dd></dl>

</div>
</div>
<a id="abdbf57765932b8da6f9d177ee16408c1" name="abdbf57765932b8da6f9d177ee16408c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdbf57765932b8da6f9d177ee16408c1">&#9670;&#160;</a></span>exchange() <span class="overload">[2/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static float xtd::threading::interlocked::exchange </td>
          <td>(</td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets a double-precision floating point number to a specified value and returns the original value, as an atomic operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The variable to set to the specified value. </td></tr>
    <tr><td class="paramname">value</td><td>The value to which the location_f parameter is set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The original value of location_f. </dd></dl>

</div>
</div>
<a id="ace7d65e5175e9352cb135a83492797ec" name="ace7d65e5175e9352cb135a83492797ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace7d65e5175e9352cb135a83492797ec">&#9670;&#160;</a></span>exchange() <span class="overload">[3/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a> xtd::threading::interlocked::exchange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a> &amp;&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets a 32-bit signed integer to a specified value and returns the original value, as an atomic operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The variable to set to the specified value. </td></tr>
    <tr><td class="paramname">value</td><td>The value to which the location parameter is set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The original value of location. </dd></dl>
<dl class="section user"><dt>Examples</dt><dd>The following code example shows a thread-safe resource locking mechanism. <div class="fragment"><div class="line"><span class="preprocessor">#include &lt;xtd/threading/interlocked&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/threading/thread&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/console&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/random&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/startup&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacextd.html">xtd</a>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacextd_1_1threading.html">xtd::threading</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>interlocked_example {</div>
<div class="line">  <span class="keyword">struct </span>my_thread {</div>
<div class="line">    <a class="code hl_class" href="classxtd_1_1threading_1_1thread.html">threading::thread</a> <a class="code hl_class" href="classxtd_1_1threading_1_1thread.html">thread</a>;</div>
<div class="line">    <a class="code hl_class" href="classxtd_1_1ustring.html">ustring</a> name;</div>
<div class="line">  };</div>
<div class="line">  </div>
<div class="line">  <span class="keyword">class </span>my_interlocked_exchange_class {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <span class="comment">//0 for False, 1 for True.</span></div>
<div class="line">    <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">int</span> using_resource = 0;</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">int</span> num_thread_iterations = 5;</div>
<div class="line">    </div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// The main entry point for the application.</span></div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">auto</span> main() {</div>
<div class="line">      <span class="keyword">auto</span> my_threads = std::array&lt;my_thread, 10&gt; {};</div>
<div class="line">      <span class="keyword">auto</span> rnd = <a class="code hl_class" href="classxtd_1_1random.html">xtd::random</a> {};</div>
<div class="line">      </div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keyword">auto</span> index = 0ul; index &lt; my_threads.size(); ++index) {</div>
<div class="line">        my_threads[index].name = ustring::format(<span class="stringliteral">&quot;Thread{}&quot;</span>, index + 1);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">//Wait a random amount of time before starting next thread.</span></div>
<div class="line">        thread::sleep(rnd.next(0, 1000));</div>
<div class="line">        my_threads[index].thread = <a class="code hl_class" href="classxtd_1_1threading_1_1thread.html">thread</a> {my_thread_proc};</div>
<div class="line">        my_threads[index].<a class="code hl_function" href="classxtd_1_1threading_1_1thread.html#a01ebb1fb46c9f74b982192f216f8951f">thread</a>.start(my_threads[index].name);</div>
<div class="line">      }</div>
<div class="line">      </div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keyword">auto</span> index = 0ul; index &lt; my_threads.size(); ++index)</div>
<div class="line">        my_threads[index].<a class="code hl_class" href="classxtd_1_1threading_1_1thread.html">thread</a>.<a class="code hl_function" href="classxtd_1_1threading_1_1thread.html#a65fc3f1079b67eb775925c7f1cb69a56">join</a>();</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> my_thread_proc(std::any name) {</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keyword">auto</span> index = 0; index &lt; num_thread_iterations; ++index) {</div>
<div class="line">        use_resource(as&lt;ustring&gt;(name));</div>
<div class="line">        </div>
<div class="line">        <span class="comment">//Wait 1 second before next attempt.</span></div>
<div class="line">        thread::sleep(1000);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">//A simple method that denies reentrancy.</span></div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">auto</span> use_resource(<span class="keyword">const</span> <a class="code hl_class" href="classxtd_1_1ustring.html">ustring</a>&amp; name)-&gt;bool {</div>
<div class="line">      <span class="comment">//0 indicates that the method is not in use.</span></div>
<div class="line">      <span class="keywordflow">if</span> (0 == interlocked::exchange(using_resource, 1)) {</div>
<div class="line">        console::write_line(<span class="stringliteral">&quot;{} acquired the lock&quot;</span>, name);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">//Code to access a resource that is not thread safe would go here.</span></div>
<div class="line">        </div>
<div class="line">        <span class="comment">//Simulate some work</span></div>
<div class="line">        thread::sleep(500);</div>
<div class="line">        </div>
<div class="line">        console::write_line(<span class="stringliteral">&quot;{} exiting lock&quot;</span>, name);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">//Release the lock</span></div>
<div class="line">        interlocked::exchange(using_resource, 0);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">      } <span class="keywordflow">else</span> {</div>
<div class="line">        console::write_line(<span class="stringliteral">&quot;   {} was denied the lock&quot;</span>, name);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="group__keywords.html#ga44bd440a34d147923e428eacd1c8eedd">startup_</a>(interlocked_example::my_interlocked_exchange_class::main);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// This example produces output similar to the following:</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Thread1 acquired the lock</span></div>
<div class="line"><span class="comment">// Thread1 exiting lock</span></div>
<div class="line"><span class="comment">// Thread2 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread3 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread2 exiting lock</span></div>
<div class="line"><span class="comment">// Thread1 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread4 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread5 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread1 exiting lock</span></div>
<div class="line"><span class="comment">// Thread6 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread3 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread2 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread7 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread6 exiting lock</span></div>
<div class="line"><span class="comment">// Thread4 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread5 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread1 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread4 exiting lock</span></div>
<div class="line"><span class="comment">// Thread8 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread3 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread2 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread7 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread6 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread9 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread8 exiting lock</span></div>
<div class="line"><span class="comment">// Thread5 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread1 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread4 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread3 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread10 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread2 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread7 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread5 exiting lock</span></div>
<div class="line"><span class="comment">// Thread6 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread9 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread8 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread1 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread6 exiting lock</span></div>
<div class="line"><span class="comment">// Thread4 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread3 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread10 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread2 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread7 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread5 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread4 exiting lock</span></div>
<div class="line"><span class="comment">// Thread9 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread8 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread6 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread9 exiting lock</span></div>
<div class="line"><span class="comment">// Thread10 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread7 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread5 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread4 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread8 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread10 exiting lock</span></div>
<div class="line"><span class="comment">// Thread6 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread9 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread6 exiting lock</span></div>
<div class="line"><span class="comment">// Thread8 acquired the lock</span></div>
<div class="line"><span class="comment">//    Thread10 was denied the lock</span></div>
<div class="line"><span class="comment">//    Thread9 was denied the lock</span></div>
<div class="line"><span class="comment">// Thread8 exiting lock</span></div>
<div class="line"><span class="comment">// Thread10 acquired the lock</span></div>
<div class="line"><span class="comment">// Thread10 exiting lock</span></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="a404824e102fcf36080936fa559b6013d" name="a404824e102fcf36080936fa559b6013d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a404824e102fcf36080936fa559b6013d">&#9670;&#160;</a></span>exchange() <span class="overload">[4/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> xtd::threading::interlocked::exchange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> &amp;&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets a 64-bit signed integer to a specified value and returns the original value, as an atomic operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The variable to set to the specified value. </td></tr>
    <tr><td class="paramname">value</td><td>The value to which the location parameter is set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The original value of location. </dd></dl>

</div>
</div>
<a id="a557caac3e8c6375a456a5e1723ed9b6c" name="a557caac3e8c6375a456a5e1723ed9b6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a557caac3e8c6375a456a5e1723ed9b6c">&#9670;&#160;</a></span>exchange() <span class="overload">[5/7]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename type_t &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static type_t xtd::threading::interlocked::exchange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classxtd_1_1object.html">object</a> &amp;&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classxtd_1_1object.html">object</a> &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets an object to a specified value and returns the original value, as an atomic operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The variable to set to the specified value. </td></tr>
    <tr><td class="paramname">value</td><td>The value to which the location parameter is set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The original value of location. </dd></dl>

</div>
</div>
<a id="af651a4e7265de60e36605b2b2bc6fe02" name="af651a4e7265de60e36605b2b2bc6fe02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af651a4e7265de60e36605b2b2bc6fe02">&#9670;&#160;</a></span>exchange() <span class="overload">[6/7]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename type_t &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static type_t xtd::threading::interlocked::exchange </td>
          <td>(</td>
          <td class="paramtype">type_t &amp;&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets a variable of the specified type type_t to a specified value and returns the original value, as an atomic operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The variable to set to the specified value. </td></tr>
    <tr><td class="paramname">value</td><td>The value to which the location parameter is set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The original value of location. </dd></dl>

</div>
</div>
<a id="a84f8575c6c3e89d1020f576b37a8423e" name="a84f8575c6c3e89d1020f576b37a8423e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84f8575c6c3e89d1020f576b37a8423e">&#9670;&#160;</a></span>exchange() <span class="overload">[7/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * xtd::threading::interlocked::exchange </td>
          <td>(</td>
          <td class="paramtype">void *&amp;&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets a platform-specific handles or pointers to a specified value and returns the original value, as an atomic operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The variable to set to the specified value. </td></tr>
    <tr><td class="paramname">value</td><td>The value to which the location parameter is set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The original value of location. </dd></dl>

</div>
</div>
<a id="a66c4f39315d4166efc26075e14b8e74b" name="a66c4f39315d4166efc26075e14b8e74b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66c4f39315d4166efc26075e14b8e74b">&#9670;&#160;</a></span>increment() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a> xtd::threading::interlocked::increment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga92bf6d527cbcada4a30faa2efd0d6a91">int32</a> &amp;&#160;</td>
          <td class="paramname"><em>location</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increments a specified variable and stores the result, as an atomic operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The variable whose value is to be incremented. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The incremented value. </dd></dl>
<dl class="section user"><dt>Examples</dt><dd>The following code example shows a thread-safe way to increment and decrement an integer value. SafeInstanceCount will always be zero. However, UnsafeInstanceCount will not necessarily be zero because a race condition occurs between incrementing and decrementing the count. This effect is especially marked on a multiprocessor computer. <div class="fragment"><div class="line"><span class="preprocessor">#include &lt;xtd/threading/interlocked&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/threading/thread&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/console&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;xtd/startup&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacextd.html">xtd</a>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacextd_1_1threading.html">xtd::threading</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>interlocked_decrement_example {</div>
<div class="line">  <span class="keyword">class </span>my_interlocked_decrement_class {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <span class="keyword">class </span>count_class {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">      <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">int</span> unsafe_instance_count = 0;</div>
<div class="line">      <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">int</span> safe_instance_count = 0;</div>
<div class="line">      </div>
<div class="line">      count_class() {</div>
<div class="line">        unsafe_instance_count++;</div>
<div class="line">        interlocked::increment(safe_instance_count);</div>
<div class="line">      }</div>
<div class="line">      </div>
<div class="line">      ~count_class() {</div>
<div class="line">        unsafe_instance_count--;</div>
<div class="line">        interlocked::decrement(safe_instance_count);</div>
<div class="line">      }</div>
<div class="line">    };</div>
<div class="line">    </div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">auto</span> main() {</div>
<div class="line">      <span class="keyword">auto</span> thread1 = <a class="code hl_class" href="classxtd_1_1threading_1_1thread.html">thread</a> {thread_method};</div>
<div class="line">      <span class="keyword">auto</span> thread2 = <a class="code hl_class" href="classxtd_1_1threading_1_1thread.html">thread</a> {thread_method};</div>
<div class="line">      thread1.<a class="code hl_function" href="classxtd_1_1threading_1_1thread.html#a573cca51d21d56dcf79eaace281b74b0">start</a>();</div>
<div class="line">      thread2.start();</div>
<div class="line">      thread1.join();</div>
<div class="line">      thread2.join();</div>
<div class="line"> </div>
<div class="line">      console::write_line(<span class="stringliteral">&quot;unsafe_instance_count: {}\nsafe_instance_count: {}&quot;</span>, count_class::unsafe_instance_count, count_class::safe_instance_count);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> thread_method() {</div>
<div class="line">      <span class="keyword">auto</span> cc = count_class {};</div>
<div class="line">      </div>
<div class="line">      <span class="comment">// Create 100000 instances of count_class.</span></div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; <a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a865c0c0b4ab0e063e5caa3387c1a8741">i</a> &lt; 100000; ++<a class="code hl_enumvalue" href="group__xtd__core.html#ggad94b2f43c7550180321e0ac4b02a4ff2a865c0c0b4ab0e063e5caa3387c1a8741">i</a>)</div>
<div class="line">        cc = count_class {};</div>
<div class="line">    }</div>
<div class="line">  };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="group__keywords.html#ga44bd440a34d147923e428eacd1c8eedd">startup_</a>(interlocked_decrement_example::my_interlocked_decrement_class::main);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// This code produces the following output:</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// unsafe_instance_count: 253</span></div>
<div class="line"><span class="comment">// safe_instance_count: 0</span></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ac7e5c3d50ec453fe74c2af6165684122" name="ac7e5c3d50ec453fe74c2af6165684122"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7e5c3d50ec453fe74c2af6165684122">&#9670;&#160;</a></span>increment() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> xtd::threading::interlocked::increment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> &amp;&#160;</td>
          <td class="paramname"><em>location</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increments a specified variable and stores the result, as an atomic operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The variable whose value is to be incremented. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The incremented value. </dd></dl>

</div>
</div>
<a id="a6506b65f92ae0ed6fa25596b4911850f" name="a6506b65f92ae0ed6fa25596b4911850f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6506b65f92ae0ed6fa25596b4911850f">&#9670;&#160;</a></span>memory_barrier()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void xtd::threading::interlocked::memory_barrier </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Synchronizes memory access as follows: The processor that executes the current thread cannot reorder instructions in such a way that memory accesses before the call to <a class="el" href="classxtd_1_1threading_1_1interlocked.html#a6506b65f92ae0ed6fa25596b4911850f" title="Synchronizes memory access as follows: The processor that executes the current thread cannot reorder ...">xtd::threading::interlocked::memory_barrier</a> execute after memory accesses that follow the call to <a class="el" href="classxtd_1_1threading_1_1interlocked.html#a6506b65f92ae0ed6fa25596b4911850f" title="Synchronizes memory access as follows: The processor that executes the current thread cannot reorder ...">xtd::threading::interlocked::memory_barrier</a>. </p>
<dl class="section remark"><dt>Remarks</dt><dd>This method was added to the <a class="el" href="classxtd_1_1threading_1_1interlocked.html" title="Provides atomic operations for variables that are shared by multiple threads.">xtd::threading::interlocked</a> class as a convenience; it's a wrapper for the xtd::threading::thread::memory_barrier method. </dd>
<dd>
<a class="el" href="classxtd_1_1threading_1_1interlocked.html#a6506b65f92ae0ed6fa25596b4911850f" title="Synchronizes memory access as follows: The processor that executes the current thread cannot reorder ...">xtd::threading::interlocked::memory_barrier</a> is required only on multiprocessor systems that have weak memory ordering (for example, a system that employs multiple Intel Itanium processors). </dd>
<dd>
For most purposes, the lock_ statement, or the Monitor class provide easier ways to synchronize data. </dd></dl>

</div>
</div>
<a id="a270b1d6b07eb8012eb4aa5ea37a9e35b" name="a270b1d6b07eb8012eb4aa5ea37a9e35b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a270b1d6b07eb8012eb4aa5ea37a9e35b">&#9670;&#160;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> xtd::threading::interlocked::read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga7ab879ebcae19d6021222f00537cfdce">int64</a> &amp;&#160;</td>
          <td class="paramname"><em>location</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a 64-bit value, loaded as an atomic operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The 64-bit value to be loaded. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The loaded value. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>xtd.core/include/xtd/threading/<a class="el" href="interlocked_8h_source.html">interlocked.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat May 11 2024 21:12:24 for xtd by <a href="https://gammasoft71.wixsite.com/gammasoft">Gammasoft</a>. All rights reserved.
</small></address>
</body>
</html>
