#include <xtd/console>
#include <xtd/environment>
#include <xtd/string>

using namespace xtd;

enum class cap {title, middle, end};

void print_character(string text, char32 value, cap c) {
  if (c == cap::title)
    console::out << "â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”" << environment::new_line
                 << "â”‚  char     â”‚   format   â”‚      representation              â”‚" << environment::new_line
                 << "â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤" << environment::new_line;
  
  console::out <<  "â”‚ " << text.pad_right<char32>(9) << " â”‚ {}         â”‚ " << string::format("{}", value).pad_right<char32>(32) << " |" << environment::new_line;
  console::out <<  "â”‚ " << text.pad_right<char32>(9) << " â”‚ {:g}       â”‚ " << string::format("{:g}", value).pad_right<char32>(32) << " |" << environment::new_line;
  console::out <<  "â”‚ " << text.pad_right<char32>(9) << " â”‚ {:G}       â”‚ " << string::format("{:G}", value).pad_right<char32>(32) << " |" << environment::new_line;
  console::out <<  "â”‚ " << text.pad_right<char32>(9) << " â”‚ {:d}       â”‚ " << string::format("{:d}", value).pad_right<char32>(32) << " |" << environment::new_line;
  console::out <<  "â”‚ " << text.pad_right<char32>(9) << " â”‚ {:D}       â”‚ " << string::format("{:D}", value).pad_right<char32>(32) << " |" << environment::new_line;
  console::out <<  "â”‚ " << text.pad_right<char32>(9) << " â”‚ {:x}       â”‚ " << string::format("{:x}", value).pad_right<char32>(32) << " |" << environment::new_line;
  console::out <<  "â”‚ " << text.pad_right<char32>(9) << " â”‚ {:X}       â”‚ " << string::format("{:X}", value).pad_right<char32>(32) << " |" << environment::new_line;
  console::out <<  "â”‚ " << text.pad_right<char32>(9) << " â”‚ {:ANY_FMT} â”‚ " << string::format("{:ANY_FMT}", value).pad_right<char32>(32) << " |" << environment::new_line;

  if (c != cap::end)
    console::out << "â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤" << environment::new_line;
  else
    console::out << "â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜" << environment::new_line;
}

auto main() -> int {
  console::output_code_page(65001);
  
  print_character(string {'a'}, 'a', cap::title);
  print_character(string {u8'1'}, u8'1', cap::middle);
  print_character(string {L'\x1F603'}, L'\x1F603', cap::middle);
  print_character(string {u'\u4eb0'}, u'\u4eb0', cap::middle);
  print_character(string {U'\U0001F428'}, U'\U0001F428', cap::end);
}
  
// This code produces the following output :
//
// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
// â”‚  char     â”‚   format   â”‚      representation              â”‚
// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
// â”‚ a         â”‚ {}         â”‚ a                                |
// â”‚ a         â”‚ {:g}       â”‚ a                                |
// â”‚ a         â”‚ {:G}       â”‚ a                                |
// â”‚ a         â”‚ {:d}       â”‚ a                                |
// â”‚ a         â”‚ {:D}       â”‚ a                                |
// â”‚ a         â”‚ {:x}       â”‚ a                                |
// â”‚ a         â”‚ {:X}       â”‚ a                                |
// â”‚ a         â”‚ {:ANY_FMT} â”‚ a                                |
// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
// â”‚ 1         â”‚ {}         â”‚ 1                                |
// â”‚ 1         â”‚ {:g}       â”‚ 1                                |
// â”‚ 1         â”‚ {:G}       â”‚ 1                                |
// â”‚ 1         â”‚ {:d}       â”‚ 1                                |
// â”‚ 1         â”‚ {:D}       â”‚ 1                                |
// â”‚ 1         â”‚ {:x}       â”‚ 1                                |
// â”‚ 1         â”‚ {:X}       â”‚ 1                                |
// â”‚ 1         â”‚ {:ANY_FMT} â”‚ 1                                |
// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
// â”‚ ğŸ˜ƒ         â”‚ {}         â”‚ ğŸ˜ƒ                                |
// â”‚ ğŸ˜ƒ         â”‚ {:g}       â”‚ ğŸ˜ƒ                                |
// â”‚ ğŸ˜ƒ         â”‚ {:G}       â”‚ ğŸ˜ƒ                                |
// â”‚ ğŸ˜ƒ         â”‚ {:d}       â”‚ ğŸ˜ƒ                                |
// â”‚ ğŸ˜ƒ         â”‚ {:D}       â”‚ ğŸ˜ƒ                                |
// â”‚ ğŸ˜ƒ         â”‚ {:x}       â”‚ ğŸ˜ƒ                                |
// â”‚ ğŸ˜ƒ         â”‚ {:X}       â”‚ ğŸ˜ƒ                                |
// â”‚ ğŸ˜ƒ         â”‚ {:ANY_FMT} â”‚ ğŸ˜ƒ                                |
// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
// â”‚ äº°         â”‚ {}         â”‚ äº°                                |
// â”‚ äº°         â”‚ {:g}       â”‚ äº°                                |
// â”‚ äº°         â”‚ {:G}       â”‚ äº°                                |
// â”‚ äº°         â”‚ {:d}       â”‚ äº°                                |
// â”‚ äº°         â”‚ {:D}       â”‚ äº°                                |
// â”‚ äº°         â”‚ {:x}       â”‚ äº°                                |
// â”‚ äº°         â”‚ {:X}       â”‚ äº°                                |
// â”‚ äº°         â”‚ {:ANY_FMT} â”‚ äº°                                |
// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
// â”‚ ğŸ¨         â”‚ {}         â”‚ ğŸ¨                                |
// â”‚ ğŸ¨         â”‚ {:g}       â”‚ ğŸ¨                                |
// â”‚ ğŸ¨         â”‚ {:G}       â”‚ ğŸ¨                                |
// â”‚ ğŸ¨         â”‚ {:d}       â”‚ ğŸ¨                                |
// â”‚ ğŸ¨         â”‚ {:D}       â”‚ ğŸ¨                                |
// â”‚ ğŸ¨         â”‚ {:x}       â”‚ ğŸ¨                                |
// â”‚ ğŸ¨         â”‚ {:X}       â”‚ ğŸ¨                                |
// â”‚ ğŸ¨         â”‚ {:ANY_FMT} â”‚ ğŸ¨                                |
// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
